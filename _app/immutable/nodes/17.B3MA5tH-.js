import{s as A,o as B,n as d}from"../chunks/scheduler.CS_98Wiq.js";import{S as I,i as S,k as $,s as y,l as h,f as v,m as g,g as x,o as f,B as V,n as p,d as u,p as w,A as j,e as z,c as E,a as F,r as H}from"../chunks/index.DkGyNcZ4.js";import{H as M}from"../chunks/Header.b1gXKLn1.js";import{V as q}from"../chunks/Viewer.7vf_e1jl.js";import{F as C}from"../chunks/Footer.C72tiJLz.js";function D(l){let r,n;return r=new q({props:{posts:l[0]}}),{c(){$(r.$$.fragment)},l(e){h(r.$$.fragment,e)},m(e,s){g(r,e,s),n=!0},p(e,s){const o={};s&1&&(o.posts=e[0]),r.$set(o)},i(e){n||(p(r.$$.fragment,e),n=!0)},o(e){f(r.$$.fragment,e),n=!1},d(e){w(r,e)}}}function G(l){let r;return{c(){r=z("div"),this.h()},l(n){r=E(n,"DIV",{class:!0}),F(r).forEach(u),this.h()},h(){H(r,"class","bg-black w-screen h-screen")},m(n,e){x(n,r,e)},p:d,i:d,o:d,d(n){n&&u(r)}}}function N(l){let r,n,e,s,o,i,a;r=new M({props:{position:"fixed",leftMap:"white",rightUser:"white",rightBox:"white"}});const k=[G,D],m=[];function b(t,c){return t[0].length===0?0:1}return e=b(l),s=m[e]=k[e](l),i=new C({props:{position:"fixed",right:"add"}}),{c(){$(r.$$.fragment),n=y(),s.c(),o=y(),$(i.$$.fragment)},l(t){h(r.$$.fragment,t),n=v(t),s.l(t),o=v(t),h(i.$$.fragment,t)},m(t,c){g(r,t,c),x(t,n,c),m[e].m(t,c),x(t,o,c),g(i,t,c),a=!0},p(t,[c]){let _=e;e=b(t),e===_?m[e].p(t,c):(j(),f(m[_],1,1,()=>{m[_]=null}),V(),s=m[e],s?s.p(t,c):(s=m[e]=k[e](t),s.c()),p(s,1),s.m(o.parentNode,o))},i(t){a||(p(r.$$.fragment,t),p(s),p(i.$$.fragment,t),a=!0)},o(t){f(r.$$.fragment,t),f(s),f(i.$$.fragment,t),a=!1},d(t){t&&(u(n),u(o)),w(r,t),m[e].d(t),w(i,t)}}}function P(l,r,n){let e=[];return B(async()=>{const s=sessionStorage.getItem("jwt"),i=await(await fetch("https://azit.surflux.studio/posts?limit=30",{method:"GET",headers:{Authorization:"Bearer "+s}})).json();n(0,e=i.data.map(a=>({...a,idx:a.idx,createdAt:a.created_at,user:{idx:a.user_idx,name:a.display_name,image:"https://picsum.photos/720/1280?random="+a.user_idx},place:{idx:a.place_idx,name:a.name},medias:a.media,mediaIdx:0,text:a.text||""}))),console.log(e)}),[e]}class O extends I{constructor(r){super(),S(this,r,P,N,A,{})}}export{O as component};
