import{s as xe,q as ce,r as he,b as g,f,v as s,i as Q,h as a,n as J,w as Ze,e as p,a as y,c as v,g as j,C as we,x as Ue,G as lt,k as rt,A as Ae,B as fe,t as _e,d as pe,J as nt,j as ve,F as He}from"../chunks/scheduler.ChiloVl_.js";import{S as De,i as Ee,b as ze,c as re,d as ne,m as se,t as D,f as ke,a as L,e as oe,g as $e}from"../chunks/index.CeuzkHdt.js";import{e as Ye}from"../chunks/each.CYKUTzmH.js";import{g as je}from"../chunks/entry.CiRIqHzs.js";import{H as st}from"../chunks/Header.DMczSze-.js";import{F as ot}from"../chunks/Field.BPO_b0rw.js";import{s as Re,i as it,e as Te,g as at,b as ut,A as ft}from"../chunks/sign.C_Srd8ra.js";import{N as ct}from"../chunks/NavigationBar.DvLZJZcV.js";import{s as ye}from"../chunks/s32cloudfront.BLsLiYiU.js";import{B as ht}from"../chunks/BottomNavigationPadder.V96aixF5.js";import{C as Qe}from"../chunks/CircleImage.BRjZ3F-E.js";import{I as dt}from"../chunks/IconDelete.BrQFimKf.js";import{M as mt}from"../chunks/Modal.C38tNgHI.js";import{I as gt}from"../chunks/IconAdd.Bwhbw5TE.js";import{I as _t}from"../chunks/IconSearch.CUC82RkA.js";import{u as pt}from"../chunks/follow.BaD-jRQh.js";function vt(r){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(l){e=he(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);t=he(n,"path",{d:!0}),g(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M5.29289 10.4018C5.68342 10.7924 6.31658 10.7924 6.70711 10.4018L8.8875 8.22144C9.5 7.50049 9.84738 6.92278 10.0049 6.1307C10.1624 5.33862 10.0815 4.51762 9.77247 3.77151C9.4634 3.02541 8.94003 2.3877 8.26854 1.93904C7.59704 1.49037 6.80759 1.2509 6 1.2509C5.19241 1.2509 4.40296 1.49037 3.73147 1.93904C3.05998 2.3877 2.5366 3.02541 2.22753 3.77151C1.91846 4.51762 1.83758 5.33862 1.9951 6.1307C2.15262 6.92278 2.5 7.50049 3.1125 8.22144L5.29289 10.4018ZM6.70711 12.0515C6.31658 12.442 5.68342 12.442 5.29289 12.0515L2.28767 9.04627C1.55345 8.31205 1.05344 7.37658 0.850875 6.35819C0.648308 5.33979 0.752279 4.28419 1.14964 3.32488C1.547 2.36557 2.21991 1.54564 3.08327 0.968765C3.94662 0.39189 4.96165 0.0839844 6 0.0839844C7.03835 0.0839844 8.05338 0.39189 8.91674 0.968765C9.7801 1.54564 10.453 2.36557 10.8504 3.32488C11.2477 4.28419 11.3517 5.33979 11.1491 6.35819C10.9466 7.37658 10.4466 8.31205 9.71234 9.04627L6.70711 12.0515ZM6 6.50061C6.30942 6.50061 6.60617 6.37769 6.82496 6.1589C7.04375 5.9401 7.16667 5.64336 7.16667 5.33394C7.16667 5.02452 7.04375 4.72777 6.82496 4.50898C6.60617 4.29019 6.30942 4.16727 6 4.16727C5.69058 4.16727 5.39384 4.29019 5.17504 4.50898C4.95625 4.72777 4.83334 5.02452 4.83334 5.33394C4.83334 5.64336 4.95625 5.9401 5.17504 6.1589C5.39384 6.37769 5.69058 6.50061 6 6.50061ZM6 7.66727C5.38116 7.66727 4.78767 7.42144 4.35009 6.98386C3.9125 6.54627 3.66667 5.95278 3.66667 5.33394C3.66667 4.7151 3.9125 4.12161 4.35009 3.68402C4.78767 3.24644 5.38116 3.00061 6 3.00061C6.61884 3.00061 7.21233 3.24644 7.64992 3.68402C8.0875 4.12161 8.33333 4.7151 8.33333 5.33394C8.33333 5.95278 8.0875 6.54627 7.64992 6.98386C7.21233 7.42144 6.61884 7.66727 6 7.66727Z"),s(e,"width",r[0]),s(e,"height",r[1]),s(e,"viewBox","0 0 12 13"),s(e,"fill",r[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(l,n){Q(l,e,n),a(e,t)},p(l,[n]){n&1&&s(e,"width",l[0]),n&2&&s(e,"height",l[1]),n&4&&s(e,"fill",l[2])},i:J,o:J,d(l){l&&f(e)}}}function Ct(r,e,t){let{width:l=12}=e,{height:n=13}=e,{fill:o="#B3B8BD"}=e;return r.$$set=i=>{"width"in i&&t(0,l=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[l,n,o]}class bt extends De{constructor(e){super(),Ee(this,e,Ct,vt,xe,{width:0,height:1,fill:2})}}function wt(r){let e,t,l,n,o;return{c(){e=ce("svg"),t=ce("path"),l=ce("path"),n=ce("path"),o=ce("path"),this.h()},l(i){e=he(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var m=g(e);t=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(f),l=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),g(l).forEach(f),n=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(n).forEach(f),o=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"stroke-linecap":!0}),g(o).forEach(f),m.forEach(f),this.h()},h(){s(t,"d","M10.9921 5.09375C10.912 6.20582 10.087 7.0625 9.1874 7.0625C8.28779 7.0625 7.46147 6.20609 7.38272 5.09375C7.30069 3.93684 8.10377 3.125 9.1874 3.125C10.271 3.125 11.0741 3.95789 10.9921 5.09375Z"),s(t,"stroke","#B3B8BD"),s(t,"stroke-width","0.875"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(l,"d","M9.18739 8.8125C7.4054 8.8125 5.69177 9.69762 5.26247 11.4214C5.20559 11.6494 5.3486 11.875 5.58294 11.875H12.7921C13.0265 11.875 13.1686 11.6494 13.1126 11.4214C12.6833 9.67 10.9697 8.8125 9.18739 8.8125Z"),s(l,"stroke","#B3B8BD"),s(l,"stroke-width","0.875"),s(l,"stroke-miterlimit","10"),s(n,"d","M5.46889 5.5843C5.4049 6.47242 4.73826 7.17188 4.01967 7.17188C3.30108 7.17188 2.63334 6.4727 2.57045 5.5843C2.5051 4.66035 3.15397 4 4.01967 4C4.88537 4 5.53424 4.6773 5.46889 5.5843Z"),s(n,"stroke","#B3B8BD"),s(n,"stroke-width","0.875"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(o,"d","M5.63259 8.86777C5.13904 8.64164 4.59544 8.55469 4.01931 8.55469C2.59744 8.55469 1.22751 9.26152 0.884349 10.6383C0.839232 10.8204 0.953529 11.0006 1.14056 11.0006H4.21072"),s(o,"stroke","#B3B8BD"),s(o,"stroke-width","0.875"),s(o,"stroke-miterlimit","10"),s(o,"stroke-linecap","round"),s(e,"width",r[0]),s(e,"height",r[1]),s(e,"viewBox","0 0 14 15"),s(e,"fill",r[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(i,m){Q(i,e,m),a(e,t),a(e,l),a(e,n),a(e,o)},p(i,[m]){m&1&&s(e,"width",i[0]),m&2&&s(e,"height",i[1]),m&4&&s(e,"fill",i[2])},i:J,o:J,d(i){i&&f(e)}}}function kt(r,e,t){let{width:l=14}=e,{height:n=15}=e,{fill:o="none"}=e;return r.$$set=i=>{"width"in i&&t(0,l=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[l,n,o]}class $t extends De{constructor(e){super(),Ee(this,e,kt,wt,xe,{width:0,height:1,fill:2})}}function Bt(r){let e,t,l;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(n){e=he(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=g(e);t=he(o,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(t).forEach(f),o.forEach(f),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"clip-rule","evenodd"),s(t,"d","M6.3606 3.24177C6.59269 3.11426 6.75 2.8675 6.75 2.58398C6.75 2.16975 6.41421 1.83398 6 1.83398C5.58579 1.83398 5.25 2.16975 5.25 2.58398C5.25 2.86755 5.40736 3.11434 5.63951 3.24183L4.18809 5.85343C4.17304 5.87497 4.20214 5.83188 4.18809 5.85343C3.9551 6.21086 3.75 6.52148 3.75 6.52148C3.73755 6.51285 3.76286 6.52552 3.74935 6.51852L2.09706 5.66295C2.19302 5.53693 2.25 5.37961 2.25 5.20898C2.25 4.79475 1.91421 4.45898 1.5 4.45898C1.08579 4.45898 0.75 4.79475 0.75 5.20898C0.75 5.49229 0.907074 5.7389 1.13888 5.86648L2.03233 10.5354C2.06554 10.7089 2.21254 10.834 2.38335 10.834H4.8194L4.82498 10.8339L7.78924 10.834L7.7941 10.834H9.61665C9.78746 10.834 9.93446 10.7089 9.96766 10.5354L10.8611 5.86648C11.0929 5.7389 11.25 5.49229 11.25 5.20898C11.25 4.79475 10.9142 4.45898 10.5 4.45898C10.0858 4.45898 9.75 4.79475 9.75 5.20898C9.75 5.37961 9.80698 5.53693 9.90294 5.66295L8.25065 6.51852C8.23553 6.52635 8.22104 6.53524 8.20726 6.5451L6.3606 3.24177Z"),s(t,"fill",l=r[0]==="owner"?"#FF7A00":"#1FCA70"),s(e,"width","12"),s(e,"height","13"),s(e,"viewBox","0 0 12 13"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,o){Q(n,e,o),a(e,t)},p(n,[o]){o&1&&l!==(l=n[0]==="owner"?"#FF7A00":"#1FCA70")&&s(t,"fill",l)},i:J,o:J,d(n){n&&f(e)}}}function xt(r,e,t){let{type:l="owner"}=e;return r.$$set=n=>{"type"in n&&t(0,l=n.type)},[l]}class Dt extends De{constructor(e){super(),Ee(this,e,xt,Bt,xe,{type:0})}}function Et(r){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(l){e=he(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);t=he(n,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M15 4.00195H5V18.002C5 18.5324 5.21071 19.0411 5.58579 19.4162C5.96086 19.7912 6.46957 20.002 7 20.002H15M16 15.002L19 12.002M19 12.002L16 9.00195M19 12.002H9"),s(t,"stroke",r[0]),s(t,"stroke-width","2"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(e,"width","24"),s(e,"height","24"),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(l,n){Q(l,e,n),a(e,t)},p(l,[n]){n&1&&s(t,"stroke",l[0])},i:J,o:J,d(l){l&&f(e)}}}function It(r,e,t){let{strokeColor:l="white"}=e;return r.$$set=n=>{"strokeColor"in n&&t(0,l=n.strokeColor)},[l]}class Vt extends De{constructor(e){super(),Ee(this,e,It,Et,xe,{strokeColor:0})}}function Ge(r,e,t){const l=r.slice();return l[31]=e[t],l[33]=t,l}function Ft(r){let e,t,l,n,o,i,m,F,E;return l=new _t({props:{width:"24",height:"24"}}),i=new gt({props:{width:"24",height:"24"}}),{c(){e=p("div"),t=p("button"),re(l.$$.fragment),n=y(),o=p("button"),re(i.$$.fragment),this.h()},l(d){e=v(d,"DIV",{slot:!0,class:!0});var B=g(e);t=v(B,"BUTTON",{});var A=g(t);ne(l.$$.fragment,A),A.forEach(f),n=j(B),o=v(B,"BUTTON",{});var b=g(o);ne(i.$$.fragment,b),b.forEach(f),B.forEach(f),this.h()},h(){s(e,"slot","right"),s(e,"class","flex items-center gap-2")},m(d,B){Q(d,e,B),a(e,t),se(l,t,null),a(e,n),a(e,o),se(i,o,null),m=!0,F||(E=[fe(t,"click",r[18]),fe(o,"click",r[9])],F=!0)},p:J,i(d){m||(D(l.$$.fragment,d),D(i.$$.fragment,d),m=!0)},o(d){L(l.$$.fragment,d),L(i.$$.fragment,d),m=!1},d(d){d&&f(e),oe(l),oe(i),F=!1,He(E)}}}function qe(r){let e,t,l="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어 보세요!",n,o,i="새 박스 만들기",m,F;return{c(){e=p("div"),t=p("p"),t.innerHTML=l,n=y(),o=p("button"),o.textContent=i,this.h()},l(E){e=v(E,"DIV",{class:!0});var d=g(e);t=v(d,"P",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-kmfbm7"&&(t.innerHTML=l),n=j(d),o=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(o)!=="svelte-ap04k6"&&(o.textContent=i),d.forEach(f),this.h()},h(){s(t,"class","font-normal text-sm text-[#B3B8BD] text-center"),s(o,"class","px-3 py-2.5 bg-[#383838]/30 border border-[#383838]/30 rounded-[50px] font-normal text-xs text-[#B3B8BD]"),s(e,"class","flex flex-col gap-3.5 px-5 items-center")},m(E,d){Q(E,e,d),a(e,t),a(e,n),a(e,o),m||(F=fe(o,"click",r[9]),m=!0)},p:J,d(E){E&&f(e),m=!1,F()}}}function Lt(r){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,l){Q(t,e,l)},p:J,i:J,o:J,d(t){t&&f(e)}}}function Mt(r){let e,t;return e=new Qe({props:{src:ye(r[31].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const o={};n[0]&8&&(o.src=ye(l[31].image??"",500)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Je(r){let e,t,l;return t=new Dt({props:{type:r[31].role}}),{c(){e=p("div"),re(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=g(e);ne(t.$$.fragment,o),o.forEach(f),this.h()},h(){s(e,"class","absolute bottom-0 right-0 bg-[#FFF5F0] w-4 h-4 rounded-full flex justify-center items-center")},m(n,o){Q(n,e,o),se(t,e,null),l=!0},p(n,o){const i={};o[0]&8&&(i.type=n[31].role),t.$set(i)},i(n){l||(D(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&f(e),oe(t)}}}function Tt(r){let e,t;return e=new Vt({}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function yt(r){let e,t;return e=new dt({}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function We(r){let e,t,l,n,o,i,m,F,E,d,B,A,b,M,Z,Y=r[31].place_count+"",H,N,T,R,ee,te,x=r[31].follower_count+"",I,C,q,_,U=r[31].name+"",ae,u,c,w,V,h,S=`${de}px`,k=`${de}px`,W=`-${de}px`,G,K,$,P;const ue=[Mt,Lt],ie=[];function Ce(z,X){return z[31].image?0:1}i=Ce(r),m=ie[i]=ue[i](r);let O=r[31].role==="owner"&&Je(r);b=new bt({}),R=new $t({});const Be=[yt,Tt],le=[];function be(z,X){return z[31].role==="owner"?0:1}w=be(r),V=le[w]=Be[w](r);function Ie(){return r[21](r[31])}function et(...z){return r[22](r[31],...z)}function tt(){return r[23](r[31])}return{c(){e=p("div"),t=p("div"),l=p("div"),n=p("div"),o=y(),m.c(),F=y(),O&&O.c(),E=y(),d=p("div"),B=p("div"),A=p("div"),re(b.$$.fragment),M=y(),Z=p("div"),H=_e(Y),N=y(),T=p("div"),re(R.$$.fragment),ee=y(),te=p("div"),I=_e(x),C=y(),q=p("div"),_=p("div"),ae=_e(U),u=y(),c=p("button"),V.c(),this.h()},l(z){e=v(z,"DIV",{class:!0,"aria-hidden":!0});var X=g(e);t=v(X,"DIV",{class:!0});var me=g(t);l=v(me,"DIV",{class:!0});var ge=g(l);n=v(ge,"DIV",{class:!0}),g(n).forEach(f),o=j(ge),m.l(ge),ge.forEach(f),F=j(me),O&&O.l(me),me.forEach(f),E=j(X),d=v(X,"DIV",{class:!0});var Ve=g(d);B=v(Ve,"DIV",{class:!0});var Fe=g(B);A=v(Fe,"DIV",{class:!0});var Le=g(A);ne(b.$$.fragment,Le),M=j(Le),Z=v(Le,"DIV",{});var Ne=g(Z);H=pe(Ne,Y),Ne.forEach(f),Le.forEach(f),N=j(Fe),T=v(Fe,"DIV",{class:!0});var Me=g(T);ne(R.$$.fragment,Me),ee=j(Me),te=v(Me,"DIV",{});var Oe=g(te);I=pe(Oe,x),Oe.forEach(f),Me.forEach(f),Fe.forEach(f),C=j(Ve),q=v(Ve,"DIV",{class:!0});var Se=g(q);_=v(Se,"DIV",{class:!0});var Xe=g(_);ae=pe(Xe,U),Xe.forEach(f),Se.forEach(f),Ve.forEach(f),u=j(X),c=v(X,"BUTTON",{class:!0});var Pe=g(c);V.l(Pe),Pe.forEach(f),X.forEach(f),this.h()},h(){s(n,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(l,"class","flex w-full h-full justify-center items-center"),s(t,"class","flex-none w-10 h-10 relative"),s(A,"class","flex flex-row gap-0.5 items-center"),s(T,"class","flex flex-row gap-0.5 items-center"),s(B,"class","flex flex-row gap-1.5 text-[#B3B8BD] font-normal text-xs"),s(_,"class","typo-body3 text-white truncate"),s(q,"class","w-full flex flex-row gap-2"),s(d,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),s(c,"class",h="absolute flex justify-center items-center "+(r[31].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")),we(c,"width",S),we(c,"height",k),we(c,"right",W),s(e,"class",G=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${r[4]===r[31].idx&&!r[7]?"":"transition-transform"}`),s(e,"aria-hidden",""),we(e,"transform",`translateX(${r[4]===r[31].idx?r[5]?-de+r[6]:r[6]:0}px)`)},m(z,X){Q(z,e,X),a(e,t),a(t,l),a(l,n),a(l,o),ie[i].m(l,null),a(t,F),O&&O.m(t,null),a(e,E),a(e,d),a(d,B),a(B,A),se(b,A,null),a(A,M),a(A,Z),a(Z,H),a(B,N),a(B,T),se(R,T,null),a(T,ee),a(T,te),a(te,I),a(d,C),a(d,q),a(q,_),a(_,ae),a(e,u),a(e,c),le[w].m(c,null),K=!0,$||(P=[fe(c,"click",nt(Ie)),fe(e,"touchstart",et),fe(e,"touchmove",r[12]),fe(e,"touchend",r[13]),fe(e,"transitionend",r[14]),fe(e,"click",tt)],$=!0)},p(z,X){r=z;let me=i;i=Ce(r),i===me?ie[i].p(r,X):($e(),L(ie[me],1,1,()=>{ie[me]=null}),ke(),m=ie[i],m?m.p(r,X):(m=ie[i]=ue[i](r),m.c()),D(m,1),m.m(l,null)),r[31].role==="owner"?O?(O.p(r,X),X[0]&8&&D(O,1)):(O=Je(r),O.c(),D(O,1),O.m(t,null)):O&&($e(),L(O,1,1,()=>{O=null}),ke()),(!K||X[0]&8)&&Y!==(Y=r[31].place_count+"")&&ve(H,Y),(!K||X[0]&8)&&x!==(x=r[31].follower_count+"")&&ve(I,x),(!K||X[0]&8)&&U!==(U=r[31].name+"")&&ve(ae,U);let ge=w;w=be(r),w!==ge&&($e(),L(le[ge],1,1,()=>{le[ge]=null}),ke(),V=le[w],V||(V=le[w]=Be[w](r),V.c()),D(V,1),V.m(c,null)),(!K||X[0]&8&&h!==(h="absolute flex justify-center items-center "+(r[31].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")))&&s(c,"class",h),(!K||X[0]&152&&G!==(G=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${r[4]===r[31].idx&&!r[7]?"":"transition-transform"}`))&&s(e,"class",G),X[0]&120&&we(e,"transform",`translateX(${r[4]===r[31].idx?r[5]?-de+r[6]:r[6]:0}px)`)},i(z){K||(D(m),D(O),D(b.$$.fragment,z),D(R.$$.fragment,z),D(V),K=!0)},o(z){L(m),L(O),L(b.$$.fragment,z),L(R.$$.fragment,z),L(V),K=!1},d(z){z&&f(e),ie[i].d(),O&&O.d(),oe(b),oe(R),le[w].d(),$=!1,He(P)}}}function Ke(r){let e,t;return e=new mt({props:{modalVisible:!0,backgroundColor:"bg-[rgba(56,56,56,0.8)]",padding:"",shadow:"",filter:"",closeModal:r[16],$$slots:{default:[Ht]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const o={};n[0]&256|n[1]&8&&(o.$$scope={dirty:n,ctx:l}),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function jt(r){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,l){Q(t,e,l)},p:J,i:J,o:J,d(t){t&&f(e)}}}function At(r){let e,t;return e=new Qe({props:{src:ye(r[8].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const o={};n[0]&256&&(o.src=ye(l[8].image??"",500)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ht(r){let e,t,l,n,o,i,m,F,E,d,B=r[8].name+"",A,b,M,Z=r[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?",Y,H,N,T=r[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",R,ee,te,x,I=r[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",C,q,_,U,ae="취소",u,c,w=r[8].stage==="delete"?"삭제":"나가기",V,h,S,k;const W=[At,jt],G=[];function K($,P){return $[8].image?0:1}return o=K(r),i=G[o]=W[o](r),{c(){e=p("div"),t=p("div"),l=p("div"),n=y(),i.c(),m=y(),F=p("div"),E=p("div"),d=p("p"),A=_e(B),b=y(),M=p("p"),Y=_e(Z),H=y(),N=p("p"),R=_e(T),ee=y(),te=p("br"),x=y(),C=_e(I),q=y(),_=p("div"),U=p("button"),U.textContent=ae,u=y(),c=p("button"),V=_e(w),this.h()},l($){e=v($,"DIV",{class:!0});var P=g(e);t=v(P,"DIV",{class:!0});var ue=g(t);l=v(ue,"DIV",{class:!0}),g(l).forEach(f),n=j(ue),i.l(ue),ue.forEach(f),m=j(P),F=v(P,"DIV",{class:!0});var ie=g(F);E=v(ie,"DIV",{class:!0});var Ce=g(E);d=v(Ce,"P",{class:!0});var O=g(d);A=pe(O,B),O.forEach(f),b=j(Ce),M=v(Ce,"P",{class:!0});var Be=g(M);Y=pe(Be,Z),Be.forEach(f),Ce.forEach(f),H=j(ie),N=v(ie,"P",{class:!0});var le=g(N);R=pe(le,T),ee=j(le),te=v(le,"BR",{}),x=j(le),C=pe(le,I),le.forEach(f),ie.forEach(f),P.forEach(f),q=j($),_=v($,"DIV",{class:!0});var be=g(_);U=v(be,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(U)!=="svelte-1cmzvzk"&&(U.textContent=ae),u=j(be),c=v(be,"BUTTON",{class:!0});var Ie=g(c);V=pe(Ie,w),Ie.forEach(f),be.forEach(f),this.h()},h(){s(l,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(t,"class","flex w-10 h-10 relative justify-center items-center"),s(d,"class","text-[15px] font-semibold truncate"),s(M,"class","text-[15px] font-semibold flex-none"),s(E,"class","w-full flex flex-row justify-center"),s(N,"class","text-[11px] font-normal text-center"),s(F,"class","flex flex-col gap-1.5 text-white"),s(e,"class","flex flex-col w-full h-full justify-center items-center p-[22px] gap-3 border-b-[0.5px] border-[#757475] rounded-[18px_18px_0px_0px]"),s(U,"class","text-[#0C79FE] typo-body3 p-2.5 border-r-[0.5px] border-[#757475] rounded-[0px_0px_0px_18px]"),s(c,"class","text-[#FF4F1E] typo-body3 p-2.5"),s(_,"class","grid grid-flow-col grid-col-2")},m($,P){Q($,e,P),a(e,t),a(t,l),a(t,n),G[o].m(t,null),a(e,m),a(e,F),a(F,E),a(E,d),a(d,A),a(E,b),a(E,M),a(M,Y),a(F,H),a(F,N),a(N,R),a(N,ee),a(N,te),a(N,x),a(N,C),Q($,q,P),Q($,_,P),a(_,U),a(_,u),a(_,c),a(c,V),h=!0,S||(k=[fe(U,"click",r[16]),fe(c,"click",r[17])],S=!0)},p($,P){let ue=o;o=K($),o===ue?G[o].p($,P):($e(),L(G[ue],1,1,()=>{G[ue]=null}),ke(),i=G[o],i?i.p($,P):(i=G[o]=W[o]($),i.c()),D(i,1),i.m(t,null)),(!h||P[0]&256)&&B!==(B=$[8].name+"")&&ve(A,B),(!h||P[0]&256)&&Z!==(Z=$[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?")&&ve(Y,Z),(!h||P[0]&256)&&T!==(T=$[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ve(R,T),(!h||P[0]&256)&&I!==(I=$[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ve(C,I),(!h||P[0]&256)&&w!==(w=$[8].stage==="delete"?"삭제":"나가기")&&ve(V,w)},i($){h||(D(i),h=!0)},o($){L(i),h=!1},d($){$&&(f(e),f(q),f(_)),G[o].d(),S=!1,He(k)}}}function Nt(r){var U,ae;let e,t,l,n,o,i,m,F=`${((ae=(U=r[2])==null?void 0:U.getClientRects()[0])==null?void 0:ae.height)??0}px`,E,d,B,A,b,M,Z,Y,H,N;function T(u){r[19](u)}let R={position:"sticky",backgroundColor:"bg-black",leftBack:!0,centerTitle:"박스",$$slots:{right:[Ft]},$$scope:{ctx:r}};r[2]!==void 0&&(R.header=r[2]),t=new st({props:R}),Ze.push(()=>ze(t,"header",T));function ee(u){r[20](u)}let te={round:!0,placeholder:"박스 검색",fontSize:"font-normal text-sm",fontColor:"text-[#757D86]",clear:!0,backgroundColor:"bg-[#383838]/30",onInput:r[10]};r[1]!==void 0&&(te.value=r[1]),i=new ot({props:te}),Ze.push(()=>ze(i,"value",ee));let x=r[0].length===0&&qe(r),I=Ye(r[3]),C=[];for(let u=0;u<I.length;u+=1)C[u]=We(Ge(r,I,u));const q=u=>L(C[u],1,1,()=>{C[u]=null});b=new ht({});let _=r[8]&&Ke(r);return H=new ct({}),{c(){e=p("div"),re(t.$$.fragment),n=y(),o=p("section"),re(i.$$.fragment),E=y(),d=p("section"),x&&x.c(),B=y();for(let u=0;u<C.length;u+=1)C[u].c();A=y(),re(b.$$.fragment),Z=y(),_&&_.c(),Y=y(),re(H.$$.fragment),this.h()},l(u){e=v(u,"DIV",{class:!0});var c=g(e);ne(t.$$.fragment,c),n=j(c),o=v(c,"SECTION",{class:!0});var w=g(o);ne(i.$$.fragment,w),w.forEach(f),E=j(c),d=v(c,"SECTION",{class:!0});var V=g(d);x&&x.l(V),B=j(V);for(let h=0;h<C.length;h+=1)C[h].l(V);A=j(V),ne(b.$$.fragment,V),V.forEach(f),Z=j(c),_&&_.l(c),c.forEach(f),Y=j(u),ne(H.$$.fragment,u),this.h()},h(){s(o,"class","box-search sticky px-5 py-3 z-10 bg-black"),we(o,"top",F),s(d,"class",M=`box-contents flex flex-col ${r[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`),s(e,"class","box flex flex-col min-h-dvh bg-black")},m(u,c){Q(u,e,c),se(t,e,null),a(e,n),a(e,o),se(i,o,null),a(e,E),a(e,d),x&&x.m(d,null),a(d,B);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(d,null);a(d,A),se(b,d,null),a(e,Z),_&&_.m(e,null),Q(u,Y,c),se(H,u,c),N=!0},p(u,c){var h,S;const w={};c[1]&8&&(w.$$scope={dirty:c,ctx:u}),!l&&c[0]&4&&(l=!0,w.header=u[2],Ue(()=>l=!1)),t.$set(w);const V={};if(!m&&c[0]&2&&(m=!0,V.value=u[1],Ue(()=>m=!1)),i.$set(V),c[0]&4&&F!==(F=`${((S=(h=u[2])==null?void 0:h.getClientRects()[0])==null?void 0:S.height)??0}px`)&&we(o,"top",F),u[0].length===0?x?x.p(u,c):(x=qe(u),x.c(),x.m(d,B)):x&&(x.d(1),x=null),c[0]&63736){I=Ye(u[3]);let k;for(k=0;k<I.length;k+=1){const W=Ge(u,I,k);C[k]?(C[k].p(W,c),D(C[k],1)):(C[k]=We(W),C[k].c(),D(C[k],1),C[k].m(d,A))}for($e(),k=I.length;k<C.length;k+=1)q(k);ke()}(!N||c[0]&8&&M!==(M=`box-contents flex flex-col ${u[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`))&&s(d,"class",M),u[8]?_?(_.p(u,c),c[0]&256&&D(_,1)):(_=Ke(u),_.c(),D(_,1),_.m(e,null)):_&&($e(),L(_,1,1,()=>{_=null}),ke())},i(u){if(!N){D(t.$$.fragment,u),D(i.$$.fragment,u);for(let c=0;c<I.length;c+=1)D(C[c]);D(b.$$.fragment,u),D(_),D(H.$$.fragment,u),N=!0}},o(u){L(t.$$.fragment,u),L(i.$$.fragment,u),C=C.filter(Boolean);for(let c=0;c<C.length;c+=1)L(C[c]);L(b.$$.fragment,u),L(_),L(H.$$.fragment,u),N=!1},d(u){u&&(f(e),f(Y)),oe(t),oe(i),x&&x.d(),lt(C,u),oe(b),_&&_.d(),oe(H,u)}}}const de=64;function Ot(r,e,t){let l;rt(r,Re,h=>t(0,l=h));let n="",o,i=[],m=!1;function F(){it()?je("/boxes/-1/setting"):Te.emit("showSignInModal",{removable:!0})}let E;function d(h){clearTimeout(E),E=setTimeout(B,300)}function B(){t(3,i=A())}function A(){return n?l.filter(h=>h.name.includes(n)):l}let b,M=!1,Z=-1,Y=-1,H;function N(h,S){H=void 0,t(6,T=0),t(7,ee=!1),Z=h.touches[0].clientX,Y=h.touches[0].clientY,b!==void 0&&b!==S&&t(5,M=!1),t(4,b=S)}let T=0;function R(h){if(b===void 0)return;let k=h.touches[0].clientX-Z,G=h.touches[0].clientY-Y;if(H===void 0&&(H=Math.abs(k)-Math.abs(G)>=0,!M&&H&&k>0)){t(4,b=void 0),t(6,T=0);return}if(H){const K=M?de:0,$=M?0:-de;t(6,T=k>K?K:k<$?$:k)}}let ee=!1;function te(h){if(b!==void 0&&H){t(7,ee=!0);let S=h.changedTouches[0].clientX-Z;(T===0||Math.abs(T)===de)&&(h.stopPropagation(),x()),S>=de/2?t(5,M=!1):S<=-de/2&&t(5,M=!0),t(6,T=0)}}function x(){t(7,ee=!1)}let I;function C(h,S,k,W){t(8,I={idx:h,name:S,image:k,stage:W==="owner"?"delete":"leave"})}function q(){t(8,I=void 0),t(4,b=void 0),t(5,M=!1)}async function _(){if(!I||m)return;const h=at();if(!h)return;const S=ut();if(!S)return;m=!0;const k=I.stage==="delete";if(k){if(!(await fetch(`${ft}/boxes/${I.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${h}`}})).ok)return m=!1,Te.emit("pushSnackbar",{message:"권한이 없어 삭제할 수 없습니다."})}else try{await pt({targetTable:"boxes",targetIdx:BigInt(I.idx),subjectIdx:S})}catch{return m=!1,Te.emit("pushSnackbar",{message:"나가기에 실패했습니다. 잠시 후 다시 시도해 주세요."})}Re.update(W=>W=W.filter(G=>G.idx!==I.idx)),Te.emit("pushSnackbar",{message:`${I.name} ${k?"박스를 삭제했습니다.":"박스에서 나갔습니다."}`}),q(),m=!1}const U=async()=>{await je("/search")};function ae(h){o=h,t(2,o)}function u(h){n=h,t(1,n)}const c=h=>C(h.idx,h.name,h.image,h.role),w=(h,S)=>N(S,h.idx),V=h=>je(`/boxes/${h.idx}`);return r.$$.update=()=>{r.$$.dirty[0]&1&&l&&B()},[l,n,o,i,b,M,T,ee,I,F,d,N,R,te,x,C,q,_,U,ae,u,c,w,V]}class ll extends De{constructor(e){super(),Ee(this,e,Ot,Nt,xe,{},null,[-1,-1])}}export{ll as component};
