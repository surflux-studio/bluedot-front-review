import{q as Pt,e as V,S as X,t as qt,u as ot,i as Ze,s as Be,n as et,g as be,A as Re,v as ct,k as Ut,d as dt,w as ht,x as Ft}from"../chunks/sign.BxCoe6p8.js";import{r as Gt}from"../chunks/index.dKLmRj2n.js";import{n as O,_ as Ht,U as Dt,s as pe,A as me,i as B,f as b,k as Se,W as ve,e as $,t as oe,a as T,c as x,b as E,d as ue,g as S,x as p,h as w,y as D,j as Me,v as He,w as De,q as ut,r as ft,z as G,D as Ve,E as tt,F as lt,O as he,J as nt,B as Ie,S as ae,X as st,G as re,H as mt,N as Nt,I as Te,P as Jt,L as pt,m as Wt,u as Rt,o as Yt,p as Zt}from"../chunks/scheduler.B69fKoFa.js";import{n as Kt,l as Xt,h as Qt,j as el,S as ge,i as _e,g as fe,f as ce,t as I,a as M,k as tl,e as Ne,c as A,b as P,m as q,d as U}from"../chunks/index.dtT_z20O.js";import{e as Ye,u as ll,f as nl}from"../chunks/each.CwS2ZKx_.js";import{w as sl,i as rt}from"../chunks/entry.rxoMCqBw.js";import{c as il,A as gt}from"../chunks/ActionSheet.of5Fe97F.js";import{p as Vt}from"../chunks/stores.B0I4f_9d.js";import{r as rl,l as al,w as ol,H as ul}from"../chunks/Header.CWwfNqbM.js";/* empty css                                                             *//* empty css                                                          */import"../chunks/index.BqcJK9xU.js";/* empty css                                                     *//* empty css                                                   */import"../chunks/heic2any.DdjaI_5d.js";/* empty css                                                     *//* empty css                                                            *//* empty css                                                   */import"../chunks/picker.DO1g6OCe.js";import"../chunks/ImageShaper.Dix5sBHT.js";import"../chunks/map.wfdUmv8d.js";import{L as fl}from"../chunks/location.DNK-si5X.js";/* empty css                                                  */import{F as jt}from"../chunks/Field.QwOYI19X.js";/* empty css                                                   */import{M as cl}from"../chunks/Modal.Dz1rGaAP.js";import{s as dl}from"../chunks/search.BhpZG1Ux.js";import{b as hl,H as ml}from"../chunks/HexImage.S2t3i2Ck.js";import{B as _t}from"../chunks/Button.fc5_LK6J.js";import{M as pl}from"../chunks/Mask.CP4fIvGT.js";import{u as it}from"../chunks/searchParams.CxTvUzzR.js";import{s as bt}from"../chunks/s32cloudfront.BwHITURH.js";import{g as vt,p as gl}from"../chunks/boxRequest.JqnLT3Oq.js";import{T as _l,a as bl,b as vl}from"../chunks/TermsOfService.BUXcFmWV.js";function Cl(s,e,t,l){if(!e)return O;const i=s.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return O;const{delay:r=0,duration:a=300,easing:o=Ht,start:n=Kt()+r,end:u=n+a,tick:c=O,css:g}=t(s,{from:e,to:i},l);let v=!0,d=!1,h;function C(){g&&(h=Qt(s,0,1,a,r,o,g)),r||(d=!0)}function _(){g&&el(s,h),v=!1}return Xt(f=>{if(!d&&f>=n&&(d=!0),d&&f>=u&&(c(1,0),_()),!v)return!1;if(d){const y=f-n,L=0+1*o(y/a);c(L,1-L)}return!0}),C(),c(0,1),_}function wl(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,i=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=l,Ot(s,i)}}function Ot(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(s),i=l.transform==="none"?"":l.transform;s.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}const yl=!1,kl="auto",$l=async({route:s,url:e})=>{if(console.warn("e.route.id on load",s.id),await Pt(e),e.pathname=="/")return Gt(302,"/viewer")},Un=Object.freeze(Object.defineProperty({__proto__:null,load:$l,prerender:kl,ssr:yl},Symbol.toStringTag,{value:"Module"}));function xl(s,{delay:e=0,duration:t=400,easing:l=Ht}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*i}`}}function Bl(s,{from:e,to:t},l={}){const i=getComputedStyle(s),r=i.transform==="none"?"":i.transform,[a,o]=i.transformOrigin.split(" ").map(parseFloat),n=e.left+e.width*a/t.width-(t.left+a),u=e.top+e.height*o/t.height-(t.top+o),{delay:c=0,duration:g=d=>Math.sqrt(d)*120,easing:v=il}=l;return{delay:c,duration:Dt(g)?g(Math.sqrt(n*n+u*u)):g,easing:v,css:(d,h)=>{const C=h*n,_=h*u,f=d+h*e.width/t.width,y=d+h*e.height/t.height;return`transform: ${r} translate(${C}px, ${_}px) scale(${f}, ${y});`}}}function Ct(s,e,t){const l=s.slice();return l[5]=e[t],l[7]=t,l}function wt(s,e){let t,l,i,r=e[5].message+"",a,o,n,u=(e[5].buttonText||at)+"",c,g,v,d,h,C,_=O,f,y,L;return{key:s,first:null,c(){t=$("div"),l=$("div"),i=$("div"),a=oe(r),o=T(),n=$("div"),c=oe(u),v=T(),this.h()},l(z){t=x(z,"DIV",{class:!0,style:!0});var H=E(t);l=x(H,"DIV",{class:!0,style:!0});var j=E(l);i=x(j,"DIV",{class:!0});var J=E(i);a=ue(J,r),J.forEach(b),o=S(j),n=x(j,"DIV",{class:!0});var W=E(n);c=ue(W,u),W.forEach(b),j.forEach(b),v=S(H),H.forEach(b),this.h()},h(){p(i,"class","text-white flex-grow"),p(n,"class","text-primary-300"),p(l,"class","flex bg-black p-[1.125rem]"),p(l,"style",g=`transform: scale(${1-.05*e[7]})`),p(t,"class","fixed bottom-24 w-full p-4"),p(t,"style",d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`),this.first=t},m(z,H){B(z,t,H),w(t,l),w(l,i),w(i,a),w(l,o),w(l,n),w(n,c),w(t,v),f=!0,y||(L=D(n,"click",function(){Dt(e[5].callback)&&e[5].callback.apply(this,arguments)}),y=!0)},p(z,H){e=z,(!f||H&1)&&r!==(r=e[5].message+"")&&Me(a,r),(!f||H&1)&&u!==(u=(e[5].buttonText||at)+"")&&Me(c,u),(!f||H&1&&g!==(g=`transform: scale(${1-.05*e[7]})`))&&p(l,"style",g),(!f||H&1&&d!==(d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`))&&p(t,"style",d)},r(){C=t.getBoundingClientRect()},f(){wl(t),_(),Ot(t,C)},a(){_(),_=Cl(t,C,Bl,{})},i(z){f||(h&&h.end(1),f=!0)},o(z){z&&(h=tl(t,xl,{duration:300})),f=!1},d(z){z&&b(t),z&&h&&h.end(),y=!1,L()}}}function Il(s){let e=[],t=new Map,l,i,r=Ye(s[0]);const a=o=>o[5].uuid;for(let o=0;o<r.length;o+=1){let n=Ct(s,r,o),u=a(n);t.set(u,e[o]=wt(u,n))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=me()},l(o){for(let n=0;n<e.length;n+=1)e[n].l(o);l=me()},m(o,n){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,n);B(o,l,n),i=!0},p(o,[n]){if(n&1){r=Ye(o[0]),fe();for(let u=0;u<e.length;u+=1)e[u].r();e=ll(e,n,a,1,o,r,t,l.parentNode,nl,wt,l,Ct);for(let u=0;u<e.length;u+=1)e[u].a();ce()}},i(o){if(!i){for(let n=0;n<r.length;n+=1)I(e[n]);i=!0}},o(o){for(let n=0;n<e.length;n+=1)M(e[n]);i=!1},d(o){o&&b(l);for(let n=0;n<e.length;n+=1)e[n].d(o)}}}const Tl=5e3,Sl=!1,at="닫기";function Ml(s,e,t){let l;const i=()=>{clearTimeout(a),ve(r,l=l.slice(1),l)},r=sl([]);Se(s,r,n=>t(0,l=n));let a;V.on("pushSnackbar",o);function o(n){if(l.some(c=>c.uuid===n.uuid))return;const u={uuid:n.uuid||crypto.randomUUID(),message:n.message,urgent:n.urgent,keep:n.keep||Sl,duration:n.duration||Tl,buttonText:n.buttonText||at,callback:()=>{i();try{n.callback()}catch{}}};if(n.urgent){clearTimeout(a),ve(r,l=[u,...l],l);return}ve(r,l=[...l,u],l)}return s.$$.update=()=>{if(s.$$.dirty&5&&l.length>0){const{duration:n,keep:u}=l[0];clearTimeout(a),u||t(2,a=setTimeout(()=>{ve(r,l=l.slice(1),l)},n))}},[l,r,a]}class El extends ge{constructor(e){super(),_e(this,e,Ml,Il,pe,{})}}function At(){const s=window.innerWidth<=X.MobileS?X.MobileS:window.innerWidth<=X.MobileM?X.MobileM:window.innerWidth<=X.MobileL?X.MobileL:window.innerWidth<=X.Tablet?X.Tablet:window.innerWidth<=X.Laptop?X.Laptop:window.innerWidth<=X.LaptopL?X.LaptopL:X.FourK;qt.set(s)}window.onresize=At;function Ll(s){let e,t='<h2 class="text-xl font-semibold text-gray-800">로그인이 필요합니다</h2> <p class="text-gray-600 mt-2 text-sm">이 기능을 사용하기 위해서는 로그인이 필요합니다</p>',l,i,r='<svg class="w-5 h-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg> <span class="font-medium">Google로 계속하기</span>',a,o,n,u,c,g="로그인 상태 유지",v,d,h="계속 진행하면 서비스 약관 및 개인정보 처리방침에 동의하게 됩니다",C,_;return{c(){e=$("div"),e.innerHTML=t,l=T(),i=$("button"),i.innerHTML=r,a=T(),o=$("div"),n=$("input"),u=T(),c=$("label"),c.textContent=g,v=T(),d=$("p"),d.textContent=h,this.h()},l(f){e=x(f,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-16crajj"&&(e.innerHTML=t),l=S(f),i=x(f,"BUTTON",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-969d7k"&&(i.innerHTML=r),a=S(f),o=x(f,"DIV",{class:!0});var y=E(o);n=x(y,"INPUT",{type:!0,id:!0,name:!0}),u=S(y),c=x(y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(c)!=="svelte-kdij29"&&(c.textContent=g),y.forEach(b),v=S(f),d=x(f,"P",{class:!0,"data-svelte-h":!0}),G(d)!=="svelte-1gzx1qk"&&(d.textContent=h),this.h()},h(){p(e,"class","text-center mb-6"),p(i,"class","w-full flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 py-3 text-gray-700 hover:bg-gray-50 transition-colors duration-200"),p(n,"type","checkbox"),p(n,"id","save-sign-state"),p(n,"name","save-sign-state"),n.value="save-sign-state",p(c,"for","save-sign-state"),p(c,"class","text-xs text-gray-500"),p(o,"class","mt-4 flex justify-center items-center gap-2"),p(d,"class","text-xs text-gray-500 text-center mt-6")},m(f,y){B(f,e,y),B(f,l,y),B(f,i,y),B(f,a,y),B(f,o,y),w(o,n),w(o,u),w(o,c),B(f,v,y),B(f,d,y),C||(_=[D(i,"click",s[3]),D(n,"change",s[4])],C=!0)},p:O,d(f){f&&(b(e),b(l),b(i),b(a),b(o),b(v),b(d)),C=!1,Ve(_)}}}function zl(s){let e,t,l;function i(a){s[5](a)}let r={removable:s[1],global:s[2],$$slots:{default:[Ll]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.modalVisible=s[0]),e=new cl({props:r}),He.push(()=>Ne(e,"modalVisible",i)),{c(){A(e.$$.fragment)},l(a){P(e.$$.fragment,a)},m(a,o){q(e,a,o),l=!0},p(a,[o]){const n={};o&2&&(n.removable=a[1]),o&4&&(n.global=a[2]),o&512&&(n.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,n.modalVisible=a[0],De(()=>t=!1)),e.$set(n)},i(a){l||(I(e.$$.fragment,a),l=!0)},o(a){M(e.$$.fragment,a),l=!1},d(a){U(e,a)}}}function yt(s){localStorage.setItem("saveSignLocal",s)}function Hl(s,e,t){let{global:l=!1}=e,{modalVisible:i=!1}=e,{removable:r=!0}=e,a;ut(()=>{l&&(V.on("showSignInModal",o),V.on("hideSignInModal",n))}),ft(()=>{l&&(V.off("showSignInModal",o),V.off("hideSignInModal",n))});const o=v=>{t(0,i=!0),t(1,r=(v==null?void 0:v.removable)??!0),a=v==null?void 0:v.callback},n=()=>{t(0,i=!1),t(1,r=!0)};async function u(){await ot(),Ze()&&(t(0,i=!1),a==null||a(),a=void 0)}const c=v=>{v.target.checked?yt(!0):yt(!1)};function g(v){i=v,t(0,i)}return s.$$set=v=>{"global"in v&&t(2,l=v.global),"modalVisible"in v&&t(0,i=v.modalVisible),"removable"in v&&t(1,r=v.removable)},[i,r,l,u,c,g]}class Dl extends ge{constructor(e){super(),_e(this,e,Hl,zl,pe,{global:2,modalVisible:0,removable:1})}}function Nl(s){let e,t,l,i;return{c(){e=tt("svg"),t=tt("title"),l=oe(s[1]),i=tt("path"),this.h()},l(r){e=lt(r,"svg",{width:!0,height:!0,viewBox:!0,role:!0,fill:!0,xmlns:!0});var a=E(e);t=lt(a,"title",{});var o=E(t);l=ue(o,s[1]),o.forEach(b),i=lt(a,"path",{d:!0,fill:!0}),E(i).forEach(b),a.forEach(b),this.h()},h(){p(i,"d","M19.5556 42.6912V25.9088L4.88889 17.395V34.1775L19.5556 42.6912ZM24.4444 42.6912L39.1111 34.1775V17.395L24.4444 25.9088V42.6912ZM19.5556 48.3263L2.44444 38.465C1.67037 38.0158 1.06944 37.4238 0.641667 36.6888C0.213889 35.9538 0 35.1371 0 34.2388V14.7613C0 13.8629 0.213889 13.0463 0.641667 12.3113C1.06944 11.5763 1.67037 10.9842 2.44444 10.535L19.5556 0.67375C20.3296 0.224583 21.1444 0 22 0C22.8556 0 23.6704 0.224583 24.4444 0.67375L41.5556 10.535C42.3296 10.9842 42.9306 11.5763 43.3583 12.3113C43.7861 13.0463 44 13.8629 44 14.7613V34.2388C44 35.1371 43.7861 35.9538 43.3583 36.6888C42.9306 37.4238 42.3296 38.0158 41.5556 38.465L24.4444 48.3263C23.6704 48.7754 22.8556 49 22 49C21.1444 49 20.3296 48.7754 19.5556 48.3263ZM31.7778 15.9862L36.4833 13.2913L22 4.9L17.2333 7.65625L31.7778 15.9862ZM22 21.6825L26.7667 18.9263L12.2833 10.535L7.51667 13.2913L22 21.6825Z"),p(i,"fill",s[0]),p(e,"width",s[2]),p(e,"height",s[2]),p(e,"viewBox","0 0 44 49"),p(e,"role","img"),p(e,"fill","none"),p(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){B(r,e,a),w(e,t),w(t,l),w(e,i)},p(r,[a]){a&2&&Me(l,r[1]),a&1&&p(i,"fill",r[0]),a&4&&p(e,"width",r[2]),a&4&&p(e,"height",r[2])},i:O,o:O,d(r){r&&b(e)}}}function Vl(s,e,t){let l,{fill:i="#5f6368"}=e,{length:r="1.75"}=e,{alt:a="Box"}=e;return s.$$set=o=>{"fill"in o&&t(0,i=o.fill),"length"in o&&t(3,r=o.length),"alt"in o&&t(1,a=o.alt)},s.$$.update=()=>{s.$$.dirty&8&&t(2,l=rl(r))},[i,a,l,r]}class jl extends ge{constructor(e){super(),_e(this,e,Vl,Nl,pe,{fill:0,length:3,alt:1})}}function kt(s,e,t){const l=s.slice();return l[51]=e[t],l[53]=t,l}function Ol(s){let e,t='<svg class="w-5 h-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg> <span class="font-medium">Google로 로그인하기</span>',l,i;return{c(){e=$("button"),e.innerHTML=t,this.h()},l(r){e=x(r,"BUTTON",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-tnnq5j"&&(e.innerHTML=t),this.h()},h(){p(e,"class","flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 py-3 text-gray-700 hover:bg-gray-50 transition-colors duration-200")},m(r,a){B(r,e,a),l||(i=D(e,"click",s[25]),l=!0)},p:O,i:O,o:O,d(r){r&&b(e),l=!1,i()}}}function Al(s){let e,t,l,i,r=Ye(s[8]),a=[];for(let n=0;n<r.length;n+=1)a[n]=$t(kt(s,r,n));const o=n=>M(a[n],1,1,()=>{a[n]=null});return{c(){e=$("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=x(n,"DIV",{class:!0});var u=E(e);for(let c=0;c<a.length;c+=1)a[c].l(u);u.forEach(b),this.h()},h(){p(e,"class","boxes w-full grid grid-cols-3 gap-x-8 gap-y-4 justify-items-center text-center overflow-scroll")},m(n,u){B(n,e,u);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0,l||(i=[D(e,"touchstart",re(s[29])),D(e,"touchmove",re(s[30])),D(e,"touchend",re(s[31]))],l=!0)},p(n,u){if(u[0]&264){r=Ye(n[8]);let c;for(c=0;c<r.length;c+=1){const g=kt(n,r,c);a[c]?(a[c].p(g,u),I(a[c],1)):(a[c]=$t(g),a[c].c(),I(a[c],1),a[c].m(e,null))}for(fe(),c=r.length;c<a.length;c+=1)o(c);ce()}},i(n){if(!t){for(let u=0;u<r.length;u+=1)I(a[u]);t=!0}},o(n){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)M(a[u]);t=!1},d(n){n&&b(e),Jt(a,n),l=!1,Ve(i)}}}function Pl(s){let e,t;return{c(){e=$("img"),this.h()},l(l){e=x(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","w-20 h-20"),Nt(e.src,t=hl)||p(e,"src",t),p(e,"alt","")},m(l,i){B(l,e,i)},p:O,i:O,o:O,d(l){l&&b(e)}}}function ql(s){let e,t,l;return t=new ml({props:{src:bt(s[51].image,500),width:300,height:300}}),{c(){e=$("div"),A(t.$$.fragment),this.h()},l(i){e=x(i,"DIV",{class:!0});var r=E(e);P(t.$$.fragment,r),r.forEach(b),this.h()},h(){p(e,"class","w-20 h-20")},m(i,r){B(i,e,r),q(t,e,null),l=!0},p(i,r){const a={};r[0]&256&&(a.src=bt(i[51].image,500)),t.$set(a)},i(i){l||(I(t.$$.fragment,i),l=!0)},o(i){M(t.$$.fragment,i),l=!1},d(i){i&&b(e),U(t)}}}function $t(s){let e,t,l,i,r,a=s[51].name+"",o,n,u,c,g;const v=[ql,Pl],d=[];function h(_,f){return _[51].image?0:1}t=h(s),l=d[t]=v[t](s);function C(){return s[35](s[51])}return{c(){e=$("div"),l.c(),i=T(),r=$("p"),o=oe(a),n=T(),this.h()},l(_){e=x(_,"DIV",{class:!0,"aria-hidden":!0});var f=E(e);l.l(f),i=S(f),r=x(f,"P",{class:!0,style:!0});var y=E(r);o=ue(y,a),y.forEach(b),n=S(f),f.forEach(b),this.h()},h(){p(r,"class","text-center text-sm font-medium overflow-hidden truncate whitespace-normal leading-4 pt-1.5"),ae(r,"display","-webkit-box"),ae(r,"-webkit-line-clamp","2"),ae(r,"-webkit-box-orient","vertical"),ae(r,"word-break","normal"),ae(r,"overflow-wrap","normal"),p(e,"class","w-full flex flex-col place-items-center"),p(e,"aria-hidden","")},m(_,f){B(_,e,f),d[t].m(e,null),w(e,i),w(e,r),w(r,o),w(e,n),u=!0,c||(g=D(e,"click",C),c=!0)},p(_,f){s=_;let y=t;t=h(s),t===y?d[t].p(s,f):(fe(),M(d[y],1,1,()=>{d[y]=null}),ce(),l=d[t],l?l.p(s,f):(l=d[t]=v[t](s),l.c()),I(l,1),l.m(e,i)),(!u||f[0]&256)&&a!==(a=s[51].name+"")&&Me(o,a)},i(_){u||(I(l),u=!0)},o(_){M(l),u=!1},d(_){_&&b(e),d[t].d(),c=!1,g()}}}function Ul(s){let e,t;return e=new jl({props:{length:"1.25"}}),{c(){A(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,i){q(e,l,i),t=!0},p:O,i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Fl(s){let e,t;return{c(){e=$("img"),this.h()},l(l){e=x(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","w-5 h-5"),Nt(e.src,t=al)||p(e,"src",t),p(e,"alt","link copy")},m(l,i){B(l,e,i)},p:O,d(l){l&&b(e)}}}function Gl(s){let e,t="새 박스의 이름을 지어주세요";return{c(){e=$("p"),e.textContent=t,this.h()},l(l){e=x(l,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1infne6"&&(e.textContent=t),this.h()},h(){p(e,"class","pb-1 typo-sub-h3 text-gray-300")},m(l,i){B(l,e,i)},p:O,d(l){l&&b(e)}}}function Jl(s){let e,t,l,i,r,a,o,n,u,c,g;function v(h){s[39](h)}let d={clear:!0,padding:"pb-2.5",border:"border-b-[1.5px] border-b-gray-300",fontSize:"text-lg",fontColor:"text-white",limit:20,backgroundColor:"bg-transparent",$$slots:{default:[Gl]},$$scope:{ctx:s}};return s[10]!==void 0&&(d.value=s[10]),l=new jt({props:d}),He.push(()=>Ne(l,"value",v)),{c(){e=$("div"),t=$("section"),A(l.$$.fragment),r=T(),a=$("button"),o=oe("만들기"),this.h()},l(h){e=x(h,"DIV",{class:!0});var C=E(e);t=x(C,"SECTION",{class:!0});var _=E(t);P(l.$$.fragment,_),_.forEach(b),r=S(C),a=x(C,"BUTTON",{class:!0});var f=E(a);o=ue(f,"만들기"),f.forEach(b),C.forEach(b),this.h()},h(){p(t,"class","box-name flex flex-col gap-4 py-6"),p(a,"class","w-full h-14 enabled:bg-primary-500 disabled:bg-gray-300 rounded-md text-white disabled:opacity-50"),a.disabled=n=!s[10].trim(),p(e,"class","px-4")},m(h,C){B(h,e,C),w(e,t),q(l,t,null),w(e,r),w(e,a),w(a,o),u=!0,c||(g=D(a,"click",s[23]),c=!0)},p(h,C){const _={};C[1]&8388608&&(_.$$scope={dirty:C,ctx:h}),!i&&C[0]&1024&&(i=!0,_.value=h[10],De(()=>i=!1)),l.$set(_),(!u||C[0]&1024&&n!==(n=!h[10].trim()))&&(a.disabled=n)},i(h){u||(I(l.$$.fragment,h),u=!0)},o(h){M(l.$$.fragment,h),u=!1},d(h){h&&b(e),U(l),c=!1,g()}}}function Wl(s){var v;let e,t,l,i=((v=s[3])==null?void 0:v.name)+"",r,a,o,n,u="확인",c,g;return{c(){e=$("div"),t=$("p"),l=oe("'"),r=oe(i),a=oe("' 에 담을까요?"),o=T(),n=$("button"),n.textContent=u,this.h()},l(d){e=x(d,"DIV",{class:!0});var h=E(e);t=x(h,"P",{class:!0});var C=E(t);l=ue(C,"'"),r=ue(C,i),a=ue(C,"' 에 담을까요?"),C.forEach(b),o=S(h),n=x(h,"BUTTON",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-1dl4ic1"&&(n.textContent=u),h.forEach(b),this.h()},h(){p(t,"class","pb-1 typo-body1 text-gray-300"),p(n,"class","w-full h-14 bg-primary-500 rounded-md text-white disabled:opacity-50"),p(e,"class","px-4")},m(d,h){B(d,e,h),w(e,t),w(t,l),w(t,r),w(t,a),w(e,o),w(e,n),c||(g=D(n,"click",s[21]),c=!0)},p(d,h){var C;h[0]&8&&i!==(i=((C=d[3])==null?void 0:C.name)+"")&&Me(r,i)},d(d){d&&b(e),c=!1,g()}}}function Rl(s){let e,t,l,i,r,a,o,n,u,c,g,v,d,h,C,_,f,y,L,z,H,j,J,W="박스 추가",ne,ee,R,Ce,de,je="링크 복사",Oe,we,ye,ke,$e,te,Ee,xe,le,Le,Q,ze,Ae;l=new pl({props:{onMask:!0,position:"absolute",onTouch:s[32]}});function Ke(k){s[33](k)}let Pe={round:!0,placeholder:"검색하세요",prefixIcon:dl,prefixPointer:!0,clear:!0,backgroundColor:"bg-gray-50",onInput:s[20]};s[13]!==void 0&&(Pe.value=s[13]),c=new jt({props:Pe}),He.push(()=>Ne(c,"value",Ke));const qe=[Al,Ol],se=[];function Ue(k,m){return k[7]?0:1}C=Ue(s),_=se[C]=qe[C](s),H=new _t({props:{backgroundColor:"bg-primary-50",rounded:"rounded-full",padding:"p-3",$$slots:{default:[Ul]},$$scope:{ctx:s}}}),H.$on("click",s[22]),R=new _t({props:{backgroundColor:"bg-primary-50",rounded:"rounded-full",padding:"p-3",$$slots:{default:[Fl]},$$scope:{ctx:s}}}),R.$on("click",s[36]);function Xe(k){s[41](k)}let Fe={onClose:s[40],maxHeight:240,defaultHeight:240,$$slots:{default:[Jl]},$$scope:{ctx:s}};s[9]!==void 0&&(Fe.isOpen=s[9]),te=new gt({props:Fe}),He.push(()=>Ne(te,"isOpen",Xe));function Qe(k){s[43](k)}let Ge={onClose:s[42],maxHeight:150,defaultHeight:150,$$slots:{default:[Wl]},$$scope:{ctx:s}};return s[11]!==void 0&&(Ge.isOpen=s[11]),le=new gt({props:Ge}),He.push(()=>Ne(le,"isOpen",Qe)),{c(){e=$("div"),t=$("div"),A(l.$$.fragment),i=T(),r=$("section"),a=$("div"),o=$("div"),n=T(),u=$("section"),A(c.$$.fragment),d=T(),h=$("div"),_.c(),y=T(),L=$("div"),z=$("div"),A(H.$$.fragment),j=T(),J=$("p"),J.textContent=W,ne=T(),ee=$("div"),A(R.$$.fragment),Ce=T(),de=$("p"),de.textContent=je,$e=T(),A(te.$$.fragment),xe=T(),A(le.$$.fragment),this.h()},l(k){e=x(k,"DIV",{class:!0});var m=E(e);t=x(m,"DIV",{class:!0});var N=E(t);P(l.$$.fragment,N),N.forEach(b),i=S(m),r=x(m,"SECTION",{class:!0});var F=E(r);a=x(F,"DIV",{class:!0});var Y=E(a);o=x(Y,"DIV",{class:!0}),E(o).forEach(b),n=S(Y),u=x(Y,"SECTION",{class:!0});var Z=E(u);P(c.$$.fragment,Z),Z.forEach(b),Y.forEach(b),d=S(F),h=x(F,"DIV",{class:!0});var K=E(h);_.l(K),K.forEach(b),y=S(F),L=x(F,"DIV",{class:!0});var ie=E(L);z=x(ie,"DIV",{class:!0});var Je=E(z);P(H.$$.fragment,Je),j=S(Je),J=x(Je,"P",{"data-svelte-h":!0}),G(J)!=="svelte-e1v4dr"&&(J.textContent=W),Je.forEach(b),ne=S(ie),ee=x(ie,"DIV",{class:!0});var We=E(ee);P(R.$$.fragment,We),Ce=S(We),de=x(We,"P",{"data-svelte-h":!0}),G(de)!=="svelte-1xk0u5e"&&(de.textContent=je),We.forEach(b),ie.forEach(b),F.forEach(b),m.forEach(b),$e=S(k),P(te.$$.fragment,k),xe=S(k),P(le.$$.fragment,k),this.h()},h(){p(t,"class","svelte-sg1foz"),he(t,"hidden",!s[4]),he(t,"animation-fade-in",s[15]),he(t,"animation-fade-out",!s[15]),p(o,"class","modal-handle w-8 h-1 bg-gray-300 m-auto rounded-full my-2.5"),p(u,"class","box-search w-full z-10 bg-white"),p(a,"class","modal-header flex-none w-full pb-3 px-4"),nt(()=>s[34].call(a)),p(h,"class",f=Ie(`modal-body flex-auto flex flex-col ${s[7]?"justify-start":"justify-center"} items-center w-full px-4`)+" svelte-sg1foz"),ae(h,"min-height",`${s[6]}px`),p(z,"class","flex flex-col place-items-center"),p(ee,"class","flex flex-col place-items-center"),p(L,"class","modal-footer flex-none w-full flex flex-row gap-6 justify-start py-2.5 px-4 border-t text-xs"),nt(()=>s[37].call(L)),p(r,"class",we=Ie(`modal flex flex-col absolute bottom-0 bg-white rounded-t-3xl w-screen h-screen z-40 transition-height ${s[12]?"duration-200":""}`)+" svelte-sg1foz"),ae(r,"height",`${s[5]}px`),p(e,"class",ye=Ie(`modal-container w-full fixed h-full left-0 top-0 overflow-hidden  ${s[4]?"z-40":"-z-10"}`)+" svelte-sg1foz"),nt(()=>s[38].call(e))},m(k,m){B(k,e,m),w(e,t),q(l,t,null),w(e,i),w(e,r),w(r,a),w(a,o),w(a,n),w(a,u),q(c,u,null),v=st(a,s[34].bind(a)),w(r,d),w(r,h),se[C].m(h,null),w(r,y),w(r,L),w(L,z),q(H,z,null),w(z,j),w(z,J),w(L,ne),w(L,ee),q(R,ee,null),w(ee,Ce),w(ee,de),Oe=st(L,s[37].bind(L)),ke=st(e,s[38].bind(e)),B(k,$e,m),q(te,k,m),B(k,xe,m),q(le,k,m),Q=!0,ze||(Ae=[D(r,"touchstart",re(s[16])),D(r,"touchmove",re(mt(s[17]))),D(r,"touchend",re(s[18])),D(r,"transitionend",s[19]),D(e,"touchstart",re(s[26])),D(e,"touchmove",re(mt(s[27]))),D(e,"touchend",re(s[28]))],ze=!0)},p(k,m){(!Q||m[0]&16)&&he(t,"hidden",!k[4]),(!Q||m[0]&32768)&&he(t,"animation-fade-in",k[15]),(!Q||m[0]&32768)&&he(t,"animation-fade-out",!k[15]);const N={};!g&&m[0]&8192&&(g=!0,N.value=k[13],De(()=>g=!1)),c.$set(N);let F=C;C=Ue(k),C===F?se[C].p(k,m):(fe(),M(se[F],1,1,()=>{se[F]=null}),ce(),_=se[C],_?_.p(k,m):(_=se[C]=qe[C](k),_.c()),I(_,1),_.m(h,null)),(!Q||m[0]&128&&f!==(f=Ie(`modal-body flex-auto flex flex-col ${k[7]?"justify-start":"justify-center"} items-center w-full px-4`)+" svelte-sg1foz"))&&p(h,"class",f),m[0]&64&&ae(h,"min-height",`${k[6]}px`);const Y={};m[1]&8388608&&(Y.$$scope={dirty:m,ctx:k}),H.$set(Y);const Z={};m[1]&8388608&&(Z.$$scope={dirty:m,ctx:k}),R.$set(Z),(!Q||m[0]&4096&&we!==(we=Ie(`modal flex flex-col absolute bottom-0 bg-white rounded-t-3xl w-screen h-screen z-40 transition-height ${k[12]?"duration-200":""}`)+" svelte-sg1foz"))&&p(r,"class",we),m[0]&32&&ae(r,"height",`${k[5]}px`),(!Q||m[0]&16&&ye!==(ye=Ie(`modal-container w-full fixed h-full left-0 top-0 overflow-hidden  ${k[4]?"z-40":"-z-10"}`)+" svelte-sg1foz"))&&p(e,"class",ye);const K={};m[0]&512&&(K.onClose=k[40]),m[0]&1024|m[1]&8388608&&(K.$$scope={dirty:m,ctx:k}),!Ee&&m[0]&512&&(Ee=!0,K.isOpen=k[9],De(()=>Ee=!1)),te.$set(K);const ie={};m[0]&8&&(ie.onClose=k[42]),m[0]&8|m[1]&8388608&&(ie.$$scope={dirty:m,ctx:k}),!Le&&m[0]&2048&&(Le=!0,ie.isOpen=k[11],De(()=>Le=!1)),le.$set(ie)},i(k){Q||(I(l.$$.fragment,k),I(c.$$.fragment,k),I(_),I(H.$$.fragment,k),I(R.$$.fragment,k),I(te.$$.fragment,k),I(le.$$.fragment,k),Q=!0)},o(k){M(l.$$.fragment,k),M(c.$$.fragment,k),M(_),M(H.$$.fragment,k),M(R.$$.fragment,k),M(te.$$.fragment,k),M(le.$$.fragment,k),Q=!1},d(k){k&&(b(e),b($e),b(xe)),U(l),U(c),v(),se[C].d(),U(H),U(R),Oe(),ke(),U(te,k),U(le,k),ze=!1,Ve(Ae)}}}function Yl(s,e,t){let l,i,r;Se(s,Be,m=>t(48,l=m)),Se(s,Vt,m=>t(14,i=m)),Se(s,et,m=>t(15,r=m));let a=!1,o=0,n=0,u=0,c=0,g=0,v=0,d=!1,h=[];Be.subscribe(m=>{m.length>0&&t(7,d=!0),t(8,h=m)});let C=!1,_="",f,y=!1,L=!1;et.subscribe(m=>{m?(H(),t(4,a=!0),t(12,L=!0),t(5,n=u)):(t(12,L=!0),t(5,n=0),t(3,f=void 0))});let z=!1;function H(){if(l.length!==0||z)return;z=!0;const m=be();if(!m)return z=!1;t(7,d=!0),vt(m).then(N=>N.json()).then(N=>{N.data&&Be.set(N.data)}).finally(()=>z=!1)}let j=-1;function J(m){t(12,L=!1),j=m.touches[0].clientY}function W(m){const N=m.touches[0].clientY;let F=N-j;j=N,t(5,n-=F),t(5,n=n>o?o:n<0?0:n)}function ne(m){t(12,L=!0),(n===0||n===o)&&ee(),n>=o*(3/4)?t(5,n=o):n<=o*(1/4)?t(5,n=0):t(5,n=u)}function ee(){t(12,L=!1),n===0&&(et.set(!1),t(4,a=!1))}let R="",Ce;function de(m){clearTimeout(Ce),Ce=setTimeout(je,300)}function je(){t(8,h=R?l.filter(m=>m.name.includes(R)):l)}async function Oe(){const m=be();if(!m)return it({onshare:"1"},{replace:!0}),V.emit("showSignInModal",{removable:!0});if(!f||!i.params.idx)return;let N=!0;const F=f.idx;try{const Y=await gl(m,F,i.params.idx);if(!Y.ok)throw new Error;if((await Y.json()).data==="already")return N=!1,V.emit("pushSnackbar",{message:"이미 포함된 장소입니다."});ve(Be,l=l.map(K=>K.idx===F?{...K,place_count:K.place_count?`${Number(K.place_count)+1}`:"0"}:K),l),V.emit("pushSnackbar",{message:"장소를 박스에 담았습니다"})}catch{V.emit("pushSnackbar",{message:"일시적으로 장애가 발생했습니다."})}finally{t(3,f=void 0),N&&ke()}}function we(){Ze()?t(9,C=!0):(it({onshare:"1"},{replace:!0}),V.emit("showSignInModal",{removable:!0}))}async function ye(){const m=be();if(!m)return it({onshare:"1"},{replace:!0}),V.emit("showSignInModal",{removable:!0});const N=_.trim();if(N)try{const F=await fetch(`${Re}/boxes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({name:N,visibility:"follower"})});if(!F.ok)throw new Error;F.json().then(Y=>{const Z=Y.data;Z.role="owner",Z.visibility="follower",Z.is_subcribed=!1,Z.place_count="0",Z.member_count="1",ve(Be,l=[Z,...l],l)}),V.emit("pushSnackbar",{message:"새 박스를 만들었습니다"})}catch{V.emit("pushSnackbar",{message:"일시적으로 장애가 발생했습니다."})}finally{t(9,C=!1),t(10,_="")}}function ke(){t(12,L=!0),t(5,n=0)}async function $e(){await ot();const m=be();m&&(vt(m).then(N=>N.json()).then(N=>Be.set(N.data)),t(7,d=!0))}function te(m){Te.call(this,s,m)}function Ee(m){Te.call(this,s,m)}function xe(m){Te.call(this,s,m)}function le(m){Te.call(this,s,m)}function Le(m){Te.call(this,s,m)}function Q(m){Te.call(this,s,m)}const ze=()=>{ke()};function Ae(m){R=m,t(13,R)}function Ke(){c=this.clientHeight,t(1,c)}const Pe=m=>t(3,f=m),qe=()=>ol(i.url);function se(){g=this.clientHeight,t(2,g)}function Ue(){o=this.clientHeight,t(0,o)}function Xe(m){_=m,t(10,_)}const Fe=()=>t(9,C=!1);function Qe(m){C=m,t(9,C)}const Ge=()=>t(3,f=void 0);function k(m){y=m,t(11,y),t(3,f)}return s.$$.update=()=>{s.$$.dirty[0]&7&&t(6,v=o/2-(c+g)),s.$$.dirty[0]&1&&(u=o/2),s.$$.dirty[0]&8&&t(11,y=f!==void 0)},[o,c,g,f,a,n,v,d,h,C,_,y,L,R,i,r,J,W,ne,ee,de,Oe,we,ye,ke,$e,te,Ee,xe,le,Le,Q,ze,Ae,Ke,Pe,qe,se,Ue,Xe,Fe,Qe,Ge,k]}class Zl extends ge{constructor(e){super(),_e(this,e,Yl,Rl,pe,{},null,[-1,-1])}}function xt(s){let e,t,l,i,r,a='<h2 class="text-xl font-semibold text-gray-800">로그인이 필요합니다</h2> <p class="text-gray-600 mt-2 text-sm">이 기능을 사용하기 위해서는 로그인이 필요합니다</p>',o,n,u='<svg class="w-5 h-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg> <span class="font-medium">Google로 계속하기</span>',c,g,v,d,h,C="로그인 상태 유지",_,f,y="계속 진행하면 서비스 약관 및 개인정보 처리방침에 동의하게 됩니다",L,z,H;return t=new ul({props:{position:"fixed",leftBack:"black"}}),{c(){e=$("div"),A(t.$$.fragment),l=T(),i=$("div"),r=$("div"),r.innerHTML=a,o=T(),n=$("button"),n.innerHTML=u,c=T(),g=$("div"),v=$("input"),d=T(),h=$("label"),h.textContent=C,_=T(),f=$("p"),f.textContent=y,this.h()},l(j){e=x(j,"DIV",{class:!0});var J=E(e);P(t.$$.fragment,J),l=S(J),i=x(J,"DIV",{class:!0});var W=E(i);r=x(W,"DIV",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1tksbkv"&&(r.innerHTML=a),o=S(W),n=x(W,"BUTTON",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-4tyq00"&&(n.innerHTML=u),c=S(W),g=x(W,"DIV",{class:!0});var ne=E(g);v=x(ne,"INPUT",{type:!0,id:!0,name:!0}),d=S(ne),h=x(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(h)!=="svelte-hl76kh"&&(h.textContent=C),ne.forEach(b),_=S(W),f=x(W,"P",{class:!0,"data-svelte-h":!0}),G(f)!=="svelte-ydh58"&&(f.textContent=y),W.forEach(b),J.forEach(b),this.h()},h(){p(r,"class","text-center mb-6"),p(n,"class","w-full flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 py-3 text-gray-700 hover:bg-gray-50 transition-colors duration-200"),p(v,"type","checkbox"),p(v,"id","save-sign-state"),p(v,"name","save-sign-state"),v.value="save-sign-state",p(h,"for","save-sign-state"),p(h,"class","text-xs text-gray-500"),p(g,"class","mt-4"),p(f,"class","text-xs text-gray-500 text-center mt-6"),p(i,"class","relative left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-96 flex flex-col items-center justify-center"),p(e,"class","fixed left-0 top-0 w-full h-full bg-white z-40")},m(j,J){B(j,e,J),q(t,e,null),w(e,l),w(e,i),w(i,r),w(i,o),w(i,n),w(i,c),w(i,g),w(g,v),w(g,d),w(g,h),w(i,_),w(i,f),L=!0,z||(H=[D(n,"click",s[1]),D(v,"change",s[2])],z=!0)},p:O,i(j){L||(I(t.$$.fragment,j),L=!0)},o(j){M(t.$$.fragment,j),L=!1},d(j){j&&b(e),U(t),z=!1,Ve(H)}}}function Kl(s){let e,t,l=s[0]===!0&&xt(s);return{c(){l&&l.c(),e=me()},l(i){l&&l.l(i),e=me()},m(i,r){l&&l.m(i,r),B(i,e,r),t=!0},p(i,[r]){i[0]===!0?l?(l.p(i,r),r&1&&I(l,1)):(l=xt(i),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(fe(),M(l,1,1,()=>{l=null}),ce())},i(i){t||(I(l),t=!0)},o(i){M(l),t=!1},d(i){i&&b(e),l&&l.d(i)}}}function Bt(s){localStorage.setItem("saveSignLocal",s)}function Xl(s,e,t){let l=!1,i;ut(()=>{V.on("showSignInFull",r),V.on("hideSignInFull",a)}),ft(()=>{V.off("showSignInFull",r),V.off("hideSignInFull",a)});const r=u=>{i=u==null?void 0:u.invalidateUrl,t(0,l=!0)},a=()=>{t(0,l=!1)};async function o(){await ot(),Ze()&&(i&&rt(i),a())}return[l,o,u=>{u.target.checked?Bt(!0):Bt(!1)}]}class Ql extends ge{constructor(e){super(),_e(this,e,Xl,Kl,pe,{})}}function It(s){let e,t,l,i,r,a,o=s[0]===0&&Tt(s),n=s[0]===1&&Mt(s),u=s[0]===2&&Et(s),c=s[0]===3&&Lt(s);return{c(){e=$("div"),t=$("div"),o&&o.c(),l=T(),n&&n.c(),i=T(),u&&u.c(),r=T(),c&&c.c(),this.h()},l(g){e=x(g,"DIV",{class:!0});var v=E(e);t=x(v,"DIV",{id:!0,class:!0});var d=E(t);o&&o.l(d),l=S(d),n&&n.l(d),i=S(d),u&&u.l(d),r=S(d),c&&c.l(d),d.forEach(b),v.forEach(b),this.h()},h(){p(t,"id","scroll-target"),p(t,"class","w-full h-full p-8 overflow-y-auto"),p(e,"class","fixed left-0 top-0 w-full h-full bg-white z-50")},m(g,v){B(g,e,v),w(e,t),o&&o.m(t,null),w(t,l),n&&n.m(t,null),w(t,i),u&&u.m(t,null),w(t,r),c&&c.m(t,null),a=!0},p(g,v){g[0]===0?o?o.p(g,v):(o=Tt(g),o.c(),o.m(t,l)):o&&(o.d(1),o=null),g[0]===1?n?(n.p(g,v),v&1&&I(n,1)):(n=Mt(g),n.c(),I(n,1),n.m(t,i)):n&&(fe(),M(n,1,1,()=>{n=null}),ce()),g[0]===2?u?(u.p(g,v),v&1&&I(u,1)):(u=Et(g),u.c(),I(u,1),u.m(t,r)):u&&(fe(),M(u,1,1,()=>{u=null}),ce()),g[0]===3?c?(c.p(g,v),v&1&&I(c,1)):(c=Lt(g),c.c(),I(c,1),c.m(t,null)):c&&(fe(),M(c,1,1,()=>{c=null}),ce())},i(g){a||(I(n),I(u),I(c),a=!0)},o(g){M(n),M(u),M(c),a=!1},d(g){g&&b(e),o&&o.d(),n&&n.d(),u&&u.d(),c&&c.d()}}}function Tt(s){let e,t,l="Unique Name",i,r,a,o,n,u,c="저장하기",g,v,d=s[2].uniqueName&&St(s);return{c(){e=$("div"),t=$("label"),t.textContent=l,i=T(),r=$("input"),a=T(),d&&d.c(),o=T(),n=$("button"),u=$("span"),u.textContent=c,this.h()},l(h){e=x(h,"DIV",{class:!0});var C=E(e);t=x(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1m2uvjj"&&(t.textContent=l),i=S(C),r=x(C,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),a=S(C),d&&d.l(C),C.forEach(b),o=S(h),n=x(h,"BUTTON",{class:!0});var _=E(n);u=x(_,"SPAN",{"data-svelte-h":!0}),G(u)!=="svelte-1popaxd"&&(u.textContent=c),_.forEach(b),this.h()},h(){p(t,"for","uniqueName"),p(t,"class","block text-gray-700"),p(r,"id","uniqueName"),p(r,"type","text"),p(r,"class","mt-1 block w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),p(r,"placeholder","Enter your unique name"),p(e,"class","mb-6"),p(n,"class","my-8 w-full py-3 flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 text-gray-700 hover:bg-gray-50 transition-colors duration-200"),n.disabled=s[3],he(n,"display-none",s[3])},m(h,C){B(h,e,C),w(e,t),w(e,i),w(e,r),pt(r,s[1]),w(e,a),d&&d.m(e,null),B(h,o,C),B(h,n,C),w(n,u),g||(v=[D(r,"input",s[7]),D(n,"click",s[8])],g=!0)},p(h,C){C&2&&r.value!==h[1]&&pt(r,h[1]),h[2].uniqueName?d?d.p(h,C):(d=St(h),d.c(),d.m(e,null)):d&&(d.d(1),d=null),C&8&&(n.disabled=h[3]),C&8&&he(n,"display-none",h[3])},d(h){h&&(b(e),b(o),b(n)),d&&d.d(),g=!1,Ve(v)}}}function St(s){let e,t=s[2].uniqueName+"",l;return{c(){e=$("p"),l=oe(t),this.h()},l(i){e=x(i,"P",{class:!0});var r=E(e);l=ue(r,t),r.forEach(b),this.h()},h(){p(e,"class","text-red-500 text-sm mt-1")},m(i,r){B(i,e,r),w(e,l)},p(i,r){r&4&&t!==(t=i[2].uniqueName+"")&&Me(l,t)},d(i){i&&b(e)}}}function Mt(s){let e,t,l,i="<span>동의합니다</span>",r,a,o;return e=new _l({}),{c(){A(e.$$.fragment),t=T(),l=$("button"),l.innerHTML=i,this.h()},l(n){P(e.$$.fragment,n),t=S(n),l=x(n,"BUTTON",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1w31qyh"&&(l.innerHTML=i),this.h()},h(){p(l,"class","my-8 w-full py-3 flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 text-gray-700 hover:bg-gray-50 transition-colors duration-200")},m(n,u){q(e,n,u),B(n,t,u),B(n,l,u),r=!0,a||(o=D(l,"click",s[9]),a=!0)},p:O,i(n){r||(I(e.$$.fragment,n),r=!0)},o(n){M(e.$$.fragment,n),r=!1},d(n){n&&(b(t),b(l)),U(e,n),a=!1,o()}}}function Et(s){let e,t,l,i="<span>동의합니다</span>",r,a,o;return e=new bl({}),{c(){A(e.$$.fragment),t=T(),l=$("button"),l.innerHTML=i,this.h()},l(n){P(e.$$.fragment,n),t=S(n),l=x(n,"BUTTON",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-w1ze96"&&(l.innerHTML=i),this.h()},h(){p(l,"class","my-8 w-full py-3 flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 text-gray-700 hover:bg-gray-50 transition-colors duration-200")},m(n,u){q(e,n,u),B(n,t,u),B(n,l,u),r=!0,a||(o=D(l,"click",s[10]),a=!0)},p:O,i(n){r||(I(e.$$.fragment,n),r=!0)},o(n){M(e.$$.fragment,n),r=!1},d(n){n&&(b(t),b(l)),U(e,n),a=!1,o()}}}function Lt(s){let e,t,l,i="<span>동의합니다</span>",r,a,o;return e=new vl({}),{c(){A(e.$$.fragment),t=T(),l=$("button"),l.innerHTML=i,this.h()},l(n){P(e.$$.fragment,n),t=S(n),l=x(n,"BUTTON",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-mb4nog"&&(l.innerHTML=i),this.h()},h(){p(l,"class","my-8 w-full py-3 flex items-center justify-center space-x-2 bg-white border border-gray-300 rounded-lg px-8 text-gray-700 hover:bg-gray-50 transition-colors duration-200")},m(n,u){q(e,n,u),B(n,t,u),B(n,l,u),r=!0,a||(o=D(l,"click",s[6]),a=!0)},p:O,i(n){r||(I(e.$$.fragment,n),r=!0)},o(n){M(e.$$.fragment,n),r=!1},d(n){n&&(b(t),b(l)),U(e,n),a=!1,o()}}}function en(s){let e,t,l=s[4]===!0&&It(s);return{c(){l&&l.c(),e=me()},l(i){l&&l.l(i),e=me()},m(i,r){l&&l.m(i,r),B(i,e,r),t=!0},p(i,[r]){i[4]===!0?l?(l.p(i,r),r&16&&I(l,1)):(l=It(i),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(fe(),M(l,1,1,()=>{l=null}),ce())},i(i){t||(I(l),t=!0)},o(i){M(l),t=!1},d(i){i&&b(e),l&&l.d(i)}}}function tn(s,e,t){var C;let l;Se(s,ct,_=>t(4,l=_));let i=0,r=((C=Ut())==null?void 0:C.uni)||"",a={uniqueName:""},o=!1;function n(){let _=!0;return t(2,a.uniqueName="",a),/^[a-z0-9._]{1,30}$/.test(r)||(t(2,a.uniqueName="Unique Name은 1-30자이며, 영어 소문자, 숫자, ., _ 만 허용됩니다.",a),_=!1),_}async function u(_){if(!n())return;t(3,o=!0);const f=await fetch(`${Re}/auth/users/${dt()}`,{method:"PATCH",headers:{Authorization:`Bearer ${be()}`,"Content-Type":"application/json"},body:JSON.stringify({uniqueName:_})});if(f.ok)ht((await f.json()).data.access),t(0,i=1);else{const y=await f.json();console.error(y),V.emit("pushSnackbar",{message:y.message})}t(3,o=!1)}async function c(){await fl.getCurrentOrLastLocation();const f=await(await fetch(`${Re}/auth/users/${dt()}`,{method:"PATCH",headers:{Authorization:`Bearer ${be()}`,"Content-Type":"application/json"},body:JSON.stringify({signedUp:!0})})).json();ht(f.data.access),ve(ct,l=!1,l),t(0,i=0),window.scrollTo({top:0,behavior:"instant"})}function g(){r=this.value,t(1,r)}const v=async()=>{await u(r)},d=async()=>{t(0,i=2)},h=()=>{t(0,i=3)};return s.$$.update=()=>{if(s.$$.dirty&1&&i){const _=document.getElementById("scroll-target");_==null||_.scrollTo({top:0,behavior:"instant"})}},[i,r,a,o,l,u,c,g,v,d,h]}class ln extends ge{constructor(e){super(),_e(this,e,tn,en,pe,{})}}function zt(s){let e,t='<div class="flex flex-col items-center justify-center p-6 bg-white rounded shadow-md"><div class="w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div></div>';return{c(){e=$("div"),e.innerHTML=t,this.h()},l(l){e=x(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1o755sw"&&(e.innerHTML=t),this.h()},h(){p(e,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50")},m(l,i){B(l,e,i)},d(l){l&&b(e)}}}function nn(s){let e,t=s[0]&&zt();return{c(){t&&t.c(),e=me()},l(l){t&&t.l(l),e=me()},m(l,i){t&&t.m(l,i),B(l,e,i)},p(l,[i]){l[0]?t||(t=zt(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(l){l&&b(e),t&&t.d(l)}}}function sn(s,e,t){let l=!1;return V.on("loading",i=>{t(0,l=i)}),[l]}class rn extends ge{constructor(e){super(),_e(this,e,sn,nn,pe,{})}}function an(s){let e,t,l,i,r,a,o,n,u,c,g,v,d,h;e=new El({});const C=s[4].default,_=Wt(C,s,s[3],null);return r=new Zl({}),o=new Dl({props:{global:!0}}),u=new Ql({}),g=new ln({}),d=new rn({}),{c(){A(e.$$.fragment),t=T(),l=$("main"),_&&_.c(),i=T(),A(r.$$.fragment),a=T(),A(o.$$.fragment),n=T(),A(u.$$.fragment),c=T(),A(g.$$.fragment),v=T(),A(d.$$.fragment),this.h()},l(f){P(e.$$.fragment,f),t=S(f),l=x(f,"MAIN",{id:!0,class:!0});var y=E(l);_&&_.l(y),y.forEach(b),i=S(f),P(r.$$.fragment,f),a=S(f),P(o.$$.fragment,f),n=S(f),P(u.$$.fragment,f),c=S(f),P(g.$$.fragment,f),v=S(f),P(d.$$.fragment,f),this.h()},h(){p(l,"id","page-container"),p(l,"class","w-full h-full overflow-visible")},m(f,y){q(e,f,y),B(f,t,y),B(f,l,y),_&&_.m(l,null),B(f,i,y),q(r,f,y),B(f,a,y),q(o,f,y),B(f,n,y),q(u,f,y),B(f,c,y),q(g,f,y),B(f,v,y),q(d,f,y),h=!0},p(f,[y]){_&&_.p&&(!h||y&8)&&Rt(_,C,f,f[3],h?Zt(C,f[3],y,null):Yt(f[3]),null)},i(f){h||(I(e.$$.fragment,f),I(_,f),I(r.$$.fragment,f),I(o.$$.fragment,f),I(u.$$.fragment,f),I(g.$$.fragment,f),I(d.$$.fragment,f),h=!0)},o(f){M(e.$$.fragment,f),M(_,f),M(r.$$.fragment,f),M(o.$$.fragment,f),M(u.$$.fragment,f),M(g.$$.fragment,f),M(d.$$.fragment,f),h=!1},d(f){f&&(b(t),b(l),b(i),b(a),b(n),b(c),b(v)),U(e,f),_&&_.d(f),U(r,f),U(o,f),U(u,f),U(g,f),U(d,f)}}}function on(s,e,t){let l;Se(s,Vt,c=>t(2,l=c));let{$$slots:i={},$$scope:r}=e;const a={myinfo:"app:user",boxes:"app:boxes"};let o=!1;ut(()=>{t(0,o=!0),At(),Ft()}),ft(()=>{t(0,o=!1)});let n=!0;V.on("setReaction",u);async function u(c){const g=be();if(!(await fetch(`${Re}/vote/reactions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({type:c.reaction,targetTable:c.target,targetId:c.targetId})})).ok)return V.emit("pushSnackbar",{message:"이모지 선택 실패"});c.callback&&c.callback()}return s.$$set=c=>{"$$scope"in c&&t(3,r=c.$$scope)},s.$$.update=()=>{if(s.$$.dirty&5&&o&&l){const c=l.url.pathname,g=c.startsWith("/users/0"),v=c==="/boxes";if(Ze()===!1&&(g||v)){const d=g?a.myinfo:a.boxes;V.emit("showSignInFull",{invalidateUrl:d})}else V.emit("hideSignInFull")}s.$$.dirty&6&&(l.url.pathname==="/viewer"||l.url.pathname==="/search"?(n&&(rt("/viewer"),rt("/search")),t(1,n=!1)):t(1,n=!0))},[o,n,l,r,i]}class Fn extends ge{constructor(e){super(),_e(this,e,on,an,pe,{})}}export{Fn as component,Un as universal};
