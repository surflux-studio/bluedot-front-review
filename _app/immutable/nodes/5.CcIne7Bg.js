import{s as Be,q as ce,r as he,b as g,f,v as s,i as Q,h as a,n as W,z as Ze,e as p,a as T,c as v,g as j,C as we,A as ze,L as rt,k as lt,x as Ae,y as fe,t as _e,d as pe,H as nt,j as ve,F as He}from"../chunks/scheduler.CbwPF6wx.js";import{S as De,i as Ee,f as Ue,c as le,b as ne,m as se,t as D,d as ke,a as L,e as oe,g as $e}from"../chunks/index.DiLw73rm.js";import{e as Ye}from"../chunks/each.CXq2Zfzp.js";import{g as je}from"../chunks/entry.CYhhIJ0e.js";import{H as st}from"../chunks/Header.BOnL5d1B.js";import{F as ot}from"../chunks/Field.BxNLG4MS.js";import{s as Re,A as it}from"../chunks/store.CPTkvk8U.js";import{e as ye}from"../chunks/emitter.BcHy5OTs.js";import{i as at,g as ut,a as ft}from"../chunks/sign.BcpGJUxZ.js";import{N as ct}from"../chunks/NavigationBar.CO7Wh7xX.js";import{s as Te}from"../chunks/s32cloudfront.DjPWYYa3.js";import{B as ht}from"../chunks/BottomNavigationPadder.BR6eHBA2.js";import{C as Qe}from"../chunks/CircleImage.S7F7_7k5.js";import{I as dt}from"../chunks/IconDelete.BmV87tWE.js";import{M as mt}from"../chunks/Modal.DY_WW6ab.js";import{I as gt}from"../chunks/IconAdd.BdR_02gA.js";import{I as _t}from"../chunks/IconSearch.C7IijKP7.js";import{u as pt}from"../chunks/follow.CbL3tkgA.js";function vt(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);t=he(n,"path",{d:!0}),g(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M5.29289 10.4018C5.68342 10.7924 6.31658 10.7924 6.70711 10.4018L8.8875 8.22144C9.5 7.50049 9.84738 6.92278 10.0049 6.1307C10.1624 5.33862 10.0815 4.51762 9.77247 3.77151C9.4634 3.02541 8.94003 2.3877 8.26854 1.93904C7.59704 1.49037 6.80759 1.2509 6 1.2509C5.19241 1.2509 4.40296 1.49037 3.73147 1.93904C3.05998 2.3877 2.5366 3.02541 2.22753 3.77151C1.91846 4.51762 1.83758 5.33862 1.9951 6.1307C2.15262 6.92278 2.5 7.50049 3.1125 8.22144L5.29289 10.4018ZM6.70711 12.0515C6.31658 12.442 5.68342 12.442 5.29289 12.0515L2.28767 9.04627C1.55345 8.31205 1.05344 7.37658 0.850875 6.35819C0.648308 5.33979 0.752279 4.28419 1.14964 3.32488C1.547 2.36557 2.21991 1.54564 3.08327 0.968765C3.94662 0.39189 4.96165 0.0839844 6 0.0839844C7.03835 0.0839844 8.05338 0.39189 8.91674 0.968765C9.7801 1.54564 10.453 2.36557 10.8504 3.32488C11.2477 4.28419 11.3517 5.33979 11.1491 6.35819C10.9466 7.37658 10.4466 8.31205 9.71234 9.04627L6.70711 12.0515ZM6 6.50061C6.30942 6.50061 6.60617 6.37769 6.82496 6.1589C7.04375 5.9401 7.16667 5.64336 7.16667 5.33394C7.16667 5.02452 7.04375 4.72777 6.82496 4.50898C6.60617 4.29019 6.30942 4.16727 6 4.16727C5.69058 4.16727 5.39384 4.29019 5.17504 4.50898C4.95625 4.72777 4.83334 5.02452 4.83334 5.33394C4.83334 5.64336 4.95625 5.9401 5.17504 6.1589C5.39384 6.37769 5.69058 6.50061 6 6.50061ZM6 7.66727C5.38116 7.66727 4.78767 7.42144 4.35009 6.98386C3.9125 6.54627 3.66667 5.95278 3.66667 5.33394C3.66667 4.7151 3.9125 4.12161 4.35009 3.68402C4.78767 3.24644 5.38116 3.00061 6 3.00061C6.61884 3.00061 7.21233 3.24644 7.64992 3.68402C8.0875 4.12161 8.33333 4.7151 8.33333 5.33394C8.33333 5.95278 8.0875 6.54627 7.64992 6.98386C7.21233 7.42144 6.61884 7.66727 6 7.66727Z"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 12 13"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){Q(r,e,n),a(e,t)},p(r,[n]){n&1&&s(e,"width",r[0]),n&2&&s(e,"height",r[1]),n&4&&s(e,"fill",r[2])},i:W,o:W,d(r){r&&f(e)}}}function Ct(l,e,t){let{width:r=12}=e,{height:n=13}=e,{fill:o="#B3B8BD"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class bt extends De{constructor(e){super(),Ee(this,e,Ct,vt,Be,{width:0,height:1,fill:2})}}function wt(l){let e,t,r,n,o;return{c(){e=ce("svg"),t=ce("path"),r=ce("path"),n=ce("path"),o=ce("path"),this.h()},l(i){e=he(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var m=g(e);t=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(f),r=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),g(r).forEach(f),n=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(n).forEach(f),o=he(m,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"stroke-linecap":!0}),g(o).forEach(f),m.forEach(f),this.h()},h(){s(t,"d","M10.9921 5.09375C10.912 6.20582 10.087 7.0625 9.1874 7.0625C8.28779 7.0625 7.46147 6.20609 7.38272 5.09375C7.30069 3.93684 8.10377 3.125 9.1874 3.125C10.271 3.125 11.0741 3.95789 10.9921 5.09375Z"),s(t,"stroke","#B3B8BD"),s(t,"stroke-width","0.875"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(r,"d","M9.18739 8.8125C7.4054 8.8125 5.69177 9.69762 5.26247 11.4214C5.20559 11.6494 5.3486 11.875 5.58294 11.875H12.7921C13.0265 11.875 13.1686 11.6494 13.1126 11.4214C12.6833 9.67 10.9697 8.8125 9.18739 8.8125Z"),s(r,"stroke","#B3B8BD"),s(r,"stroke-width","0.875"),s(r,"stroke-miterlimit","10"),s(n,"d","M5.46889 5.5843C5.4049 6.47242 4.73826 7.17188 4.01967 7.17188C3.30108 7.17188 2.63334 6.4727 2.57045 5.5843C2.5051 4.66035 3.15397 4 4.01967 4C4.88537 4 5.53424 4.6773 5.46889 5.5843Z"),s(n,"stroke","#B3B8BD"),s(n,"stroke-width","0.875"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(o,"d","M5.63259 8.86777C5.13904 8.64164 4.59544 8.55469 4.01931 8.55469C2.59744 8.55469 1.22751 9.26152 0.884349 10.6383C0.839232 10.8204 0.953529 11.0006 1.14056 11.0006H4.21072"),s(o,"stroke","#B3B8BD"),s(o,"stroke-width","0.875"),s(o,"stroke-miterlimit","10"),s(o,"stroke-linecap","round"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 14 15"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(i,m){Q(i,e,m),a(e,t),a(e,r),a(e,n),a(e,o)},p(i,[m]){m&1&&s(e,"width",i[0]),m&2&&s(e,"height",i[1]),m&4&&s(e,"fill",i[2])},i:W,o:W,d(i){i&&f(e)}}}function kt(l,e,t){let{width:r=14}=e,{height:n=15}=e,{fill:o="none"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class $t extends De{constructor(e){super(),Ee(this,e,kt,wt,Be,{width:0,height:1,fill:2})}}function xt(l){let e,t,r;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(n){e=he(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=g(e);t=he(o,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(t).forEach(f),o.forEach(f),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"clip-rule","evenodd"),s(t,"d","M6.3606 3.24177C6.59269 3.11426 6.75 2.8675 6.75 2.58398C6.75 2.16975 6.41421 1.83398 6 1.83398C5.58579 1.83398 5.25 2.16975 5.25 2.58398C5.25 2.86755 5.40736 3.11434 5.63951 3.24183L4.18809 5.85343C4.17304 5.87497 4.20214 5.83188 4.18809 5.85343C3.9551 6.21086 3.75 6.52148 3.75 6.52148C3.73755 6.51285 3.76286 6.52552 3.74935 6.51852L2.09706 5.66295C2.19302 5.53693 2.25 5.37961 2.25 5.20898C2.25 4.79475 1.91421 4.45898 1.5 4.45898C1.08579 4.45898 0.75 4.79475 0.75 5.20898C0.75 5.49229 0.907074 5.7389 1.13888 5.86648L2.03233 10.5354C2.06554 10.7089 2.21254 10.834 2.38335 10.834H4.8194L4.82498 10.8339L7.78924 10.834L7.7941 10.834H9.61665C9.78746 10.834 9.93446 10.7089 9.96766 10.5354L10.8611 5.86648C11.0929 5.7389 11.25 5.49229 11.25 5.20898C11.25 4.79475 10.9142 4.45898 10.5 4.45898C10.0858 4.45898 9.75 4.79475 9.75 5.20898C9.75 5.37961 9.80698 5.53693 9.90294 5.66295L8.25065 6.51852C8.23553 6.52635 8.22104 6.53524 8.20726 6.5451L6.3606 3.24177Z"),s(t,"fill",r=l[0]==="owner"?"#FF7A00":"#1FCA70"),s(e,"width","12"),s(e,"height","13"),s(e,"viewBox","0 0 12 13"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,o){Q(n,e,o),a(e,t)},p(n,[o]){o&1&&r!==(r=n[0]==="owner"?"#FF7A00":"#1FCA70")&&s(t,"fill",r)},i:W,o:W,d(n){n&&f(e)}}}function Bt(l,e,t){let{type:r="owner"}=e;return l.$$set=n=>{"type"in n&&t(0,r=n.type)},[r]}class Dt extends De{constructor(e){super(),Ee(this,e,Bt,xt,Be,{type:0})}}function Et(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=g(e);t=he(n,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M15 4.00195H5V18.002C5 18.5324 5.21071 19.0411 5.58579 19.4162C5.96086 19.7912 6.46957 20.002 7 20.002H15M16 15.002L19 12.002M19 12.002L16 9.00195M19 12.002H9"),s(t,"stroke",l[0]),s(t,"stroke-width","2"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(e,"width","24"),s(e,"height","24"),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){Q(r,e,n),a(e,t)},p(r,[n]){n&1&&s(t,"stroke",r[0])},i:W,o:W,d(r){r&&f(e)}}}function It(l,e,t){let{strokeColor:r="white"}=e;return l.$$set=n=>{"strokeColor"in n&&t(0,r=n.strokeColor)},[r]}class Vt extends De{constructor(e){super(),Ee(this,e,It,Et,Be,{strokeColor:0})}}function qe(l,e,t){const r=l.slice();return r[31]=e[t],r[33]=t,r}function Ft(l){let e,t,r,n,o,i,m,F,E;return r=new _t({props:{width:"24",height:"24"}}),i=new gt({props:{width:"24",height:"24"}}),{c(){e=p("div"),t=p("button"),le(r.$$.fragment),n=T(),o=p("button"),le(i.$$.fragment),this.h()},l(d){e=v(d,"DIV",{slot:!0,class:!0});var x=g(e);t=v(x,"BUTTON",{});var A=g(t);ne(r.$$.fragment,A),A.forEach(f),n=j(x),o=v(x,"BUTTON",{});var b=g(o);ne(i.$$.fragment,b),b.forEach(f),x.forEach(f),this.h()},h(){s(e,"slot","right"),s(e,"class","flex items-center gap-2")},m(d,x){Q(d,e,x),a(e,t),se(r,t,null),a(e,n),a(e,o),se(i,o,null),m=!0,F||(E=[fe(t,"click",l[18]),fe(o,"click",l[9])],F=!0)},p:W,i(d){m||(D(r.$$.fragment,d),D(i.$$.fragment,d),m=!0)},o(d){L(r.$$.fragment,d),L(i.$$.fragment,d),m=!1},d(d){d&&f(e),oe(r),oe(i),F=!1,He(E)}}}function Ge(l){let e,t,r="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어 보세요!",n,o,i="새 박스 만들기",m,F;return{c(){e=p("div"),t=p("p"),t.innerHTML=r,n=T(),o=p("button"),o.textContent=i,this.h()},l(E){e=v(E,"DIV",{class:!0});var d=g(e);t=v(d,"P",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-kmfbm7"&&(t.innerHTML=r),n=j(d),o=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(o)!=="svelte-ap04k6"&&(o.textContent=i),d.forEach(f),this.h()},h(){s(t,"class","font-normal text-sm text-[#B3B8BD] text-center"),s(o,"class","px-3 py-2.5 bg-[#383838]/30 border border-[#383838]/30 rounded-[50px] font-normal text-xs text-[#B3B8BD]"),s(e,"class","flex flex-col gap-3.5 px-5 items-center")},m(E,d){Q(E,e,d),a(e,t),a(e,n),a(e,o),m||(F=fe(o,"click",l[9]),m=!0)},p:W,d(E){E&&f(e),m=!1,F()}}}function Lt(l){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){Q(t,e,r)},p:W,i:W,o:W,d(t){t&&f(e)}}}function Mt(l){let e,t;return e=new Qe({props:{src:Te(l[31].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&8&&(o.src=Te(r[31].image??"",500)),e.$set(o)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function We(l){let e,t,r;return t=new Dt({props:{type:l[31].role}}),{c(){e=p("div"),le(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=g(e);ne(t.$$.fragment,o),o.forEach(f),this.h()},h(){s(e,"class","absolute bottom-0 right-0 bg-[#FFF5F0] w-4 h-4 rounded-full flex justify-center items-center")},m(n,o){Q(n,e,o),se(t,e,null),r=!0},p(n,o){const i={};o[0]&8&&(i.type=n[31].role),t.$set(i)},i(n){r||(D(t.$$.fragment,n),r=!0)},o(n){L(t.$$.fragment,n),r=!1},d(n){n&&f(e),oe(t)}}}function yt(l){let e,t;return e=new Vt({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Tt(l){let e,t;return e=new dt({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Je(l){let e,t,r,n,o,i,m,F,E,d,x,A,b,M,Z,Y=l[31].place_count+"",H,N,y,R,ee,te,B=l[31].follower_count+"",I,C,G,_,z=l[31].name+"",ae,u,c,w,V,h,S=`${de}px`,k=`${de}px`,J=`-${de}px`,q,K,$,P;const ue=[Mt,Lt],ie=[];function Ce(U,X){return U[31].image?0:1}i=Ce(l),m=ie[i]=ue[i](l);let O=l[31].role==="owner"&&We(l);b=new bt({}),R=new $t({});const xe=[Tt,yt],re=[];function be(U,X){return U[31].role==="owner"?0:1}w=be(l),V=re[w]=xe[w](l);function Ie(){return l[21](l[31])}function et(...U){return l[22](l[31],...U)}function tt(){return l[23](l[31])}return{c(){e=p("div"),t=p("div"),r=p("div"),n=p("div"),o=T(),m.c(),F=T(),O&&O.c(),E=T(),d=p("div"),x=p("div"),A=p("div"),le(b.$$.fragment),M=T(),Z=p("div"),H=_e(Y),N=T(),y=p("div"),le(R.$$.fragment),ee=T(),te=p("div"),I=_e(B),C=T(),G=p("div"),_=p("div"),ae=_e(z),u=T(),c=p("button"),V.c(),this.h()},l(U){e=v(U,"DIV",{class:!0,"aria-hidden":!0});var X=g(e);t=v(X,"DIV",{class:!0});var me=g(t);r=v(me,"DIV",{class:!0});var ge=g(r);n=v(ge,"DIV",{class:!0}),g(n).forEach(f),o=j(ge),m.l(ge),ge.forEach(f),F=j(me),O&&O.l(me),me.forEach(f),E=j(X),d=v(X,"DIV",{class:!0});var Ve=g(d);x=v(Ve,"DIV",{class:!0});var Fe=g(x);A=v(Fe,"DIV",{class:!0});var Le=g(A);ne(b.$$.fragment,Le),M=j(Le),Z=v(Le,"DIV",{});var Ne=g(Z);H=pe(Ne,Y),Ne.forEach(f),Le.forEach(f),N=j(Fe),y=v(Fe,"DIV",{class:!0});var Me=g(y);ne(R.$$.fragment,Me),ee=j(Me),te=v(Me,"DIV",{});var Oe=g(te);I=pe(Oe,B),Oe.forEach(f),Me.forEach(f),Fe.forEach(f),C=j(Ve),G=v(Ve,"DIV",{class:!0});var Se=g(G);_=v(Se,"DIV",{class:!0});var Xe=g(_);ae=pe(Xe,z),Xe.forEach(f),Se.forEach(f),Ve.forEach(f),u=j(X),c=v(X,"BUTTON",{class:!0});var Pe=g(c);V.l(Pe),Pe.forEach(f),X.forEach(f),this.h()},h(){s(n,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(r,"class","flex w-full h-full justify-center items-center"),s(t,"class","flex-none w-10 h-10 relative"),s(A,"class","flex flex-row gap-0.5 items-center"),s(y,"class","flex flex-row gap-0.5 items-center"),s(x,"class","flex flex-row gap-1.5 text-[#B3B8BD] font-normal text-xs"),s(_,"class","typo-body3 text-white truncate"),s(G,"class","w-full flex flex-row gap-2"),s(d,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),s(c,"class",h="absolute flex justify-center items-center "+(l[31].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")),we(c,"width",S),we(c,"height",k),we(c,"right",J),s(e,"class",q=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[4]===l[31].idx&&!l[7]?"":"transition-transform"}`),s(e,"aria-hidden",""),we(e,"transform",`translateX(${l[4]===l[31].idx?l[5]?-de+l[6]:l[6]:0}px)`)},m(U,X){Q(U,e,X),a(e,t),a(t,r),a(r,n),a(r,o),ie[i].m(r,null),a(t,F),O&&O.m(t,null),a(e,E),a(e,d),a(d,x),a(x,A),se(b,A,null),a(A,M),a(A,Z),a(Z,H),a(x,N),a(x,y),se(R,y,null),a(y,ee),a(y,te),a(te,I),a(d,C),a(d,G),a(G,_),a(_,ae),a(e,u),a(e,c),re[w].m(c,null),K=!0,$||(P=[fe(c,"click",nt(Ie)),fe(e,"touchstart",et),fe(e,"touchmove",l[12]),fe(e,"touchend",l[13]),fe(e,"transitionend",l[14]),fe(e,"click",tt)],$=!0)},p(U,X){l=U;let me=i;i=Ce(l),i===me?ie[i].p(l,X):($e(),L(ie[me],1,1,()=>{ie[me]=null}),ke(),m=ie[i],m?m.p(l,X):(m=ie[i]=ue[i](l),m.c()),D(m,1),m.m(r,null)),l[31].role==="owner"?O?(O.p(l,X),X[0]&8&&D(O,1)):(O=We(l),O.c(),D(O,1),O.m(t,null)):O&&($e(),L(O,1,1,()=>{O=null}),ke()),(!K||X[0]&8)&&Y!==(Y=l[31].place_count+"")&&ve(H,Y),(!K||X[0]&8)&&B!==(B=l[31].follower_count+"")&&ve(I,B),(!K||X[0]&8)&&z!==(z=l[31].name+"")&&ve(ae,z);let ge=w;w=be(l),w!==ge&&($e(),L(re[ge],1,1,()=>{re[ge]=null}),ke(),V=re[w],V||(V=re[w]=xe[w](l),V.c()),D(V,1),V.m(c,null)),(!K||X[0]&8&&h!==(h="absolute flex justify-center items-center "+(l[31].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")))&&s(c,"class",h),(!K||X[0]&152&&q!==(q=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[4]===l[31].idx&&!l[7]?"":"transition-transform"}`))&&s(e,"class",q),X[0]&120&&we(e,"transform",`translateX(${l[4]===l[31].idx?l[5]?-de+l[6]:l[6]:0}px)`)},i(U){K||(D(m),D(O),D(b.$$.fragment,U),D(R.$$.fragment,U),D(V),K=!0)},o(U){L(m),L(O),L(b.$$.fragment,U),L(R.$$.fragment,U),L(V),K=!1},d(U){U&&f(e),ie[i].d(),O&&O.d(),oe(b),oe(R),re[w].d(),$=!1,He(P)}}}function Ke(l){let e,t;return e=new mt({props:{modalVisible:!0,backgroundColor:"bg-[rgba(56,56,56,0.8)]",padding:"",shadow:"",filter:"",closeModal:l[16],$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&256|n[1]&8&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function jt(l){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){Q(t,e,r)},p:W,i:W,o:W,d(t){t&&f(e)}}}function At(l){let e,t;return e=new Qe({props:{src:Te(l[8].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&256&&(o.src=Te(r[8].image??"",500)),e.$set(o)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Ht(l){let e,t,r,n,o,i,m,F,E,d,x=l[8].name+"",A,b,M,Z=l[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?",Y,H,N,y=l[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",R,ee,te,B,I=l[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",C,G,_,z,ae="취소",u,c,w=l[8].stage==="delete"?"삭제":"나가기",V,h,S,k;const J=[At,jt],q=[];function K($,P){return $[8].image?0:1}return o=K(l),i=q[o]=J[o](l),{c(){e=p("div"),t=p("div"),r=p("div"),n=T(),i.c(),m=T(),F=p("div"),E=p("div"),d=p("p"),A=_e(x),b=T(),M=p("p"),Y=_e(Z),H=T(),N=p("p"),R=_e(y),ee=T(),te=p("br"),B=T(),C=_e(I),G=T(),_=p("div"),z=p("button"),z.textContent=ae,u=T(),c=p("button"),V=_e(w),this.h()},l($){e=v($,"DIV",{class:!0});var P=g(e);t=v(P,"DIV",{class:!0});var ue=g(t);r=v(ue,"DIV",{class:!0}),g(r).forEach(f),n=j(ue),i.l(ue),ue.forEach(f),m=j(P),F=v(P,"DIV",{class:!0});var ie=g(F);E=v(ie,"DIV",{class:!0});var Ce=g(E);d=v(Ce,"P",{class:!0});var O=g(d);A=pe(O,x),O.forEach(f),b=j(Ce),M=v(Ce,"P",{class:!0});var xe=g(M);Y=pe(xe,Z),xe.forEach(f),Ce.forEach(f),H=j(ie),N=v(ie,"P",{class:!0});var re=g(N);R=pe(re,y),ee=j(re),te=v(re,"BR",{}),B=j(re),C=pe(re,I),re.forEach(f),ie.forEach(f),P.forEach(f),G=j($),_=v($,"DIV",{class:!0});var be=g(_);z=v(be,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(z)!=="svelte-1cmzvzk"&&(z.textContent=ae),u=j(be),c=v(be,"BUTTON",{class:!0});var Ie=g(c);V=pe(Ie,w),Ie.forEach(f),be.forEach(f),this.h()},h(){s(r,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(t,"class","flex w-10 h-10 relative justify-center items-center"),s(d,"class","text-[15px] font-semibold truncate"),s(M,"class","text-[15px] font-semibold flex-none"),s(E,"class","w-full flex flex-row justify-center"),s(N,"class","text-[11px] font-normal text-center"),s(F,"class","flex flex-col gap-1.5 text-white"),s(e,"class","flex flex-col w-full h-full justify-center items-center p-[22px] gap-3 border-b-[0.5px] border-[#757475] rounded-[18px_18px_0px_0px]"),s(z,"class","text-[#0C79FE] typo-body3 p-2.5 border-r-[0.5px] border-[#757475] rounded-[0px_0px_0px_18px]"),s(c,"class","text-[#FF4F1E] typo-body3 p-2.5"),s(_,"class","grid grid-flow-col grid-col-2")},m($,P){Q($,e,P),a(e,t),a(t,r),a(t,n),q[o].m(t,null),a(e,m),a(e,F),a(F,E),a(E,d),a(d,A),a(E,b),a(E,M),a(M,Y),a(F,H),a(F,N),a(N,R),a(N,ee),a(N,te),a(N,B),a(N,C),Q($,G,P),Q($,_,P),a(_,z),a(_,u),a(_,c),a(c,V),h=!0,S||(k=[fe(z,"click",l[16]),fe(c,"click",l[17])],S=!0)},p($,P){let ue=o;o=K($),o===ue?q[o].p($,P):($e(),L(q[ue],1,1,()=>{q[ue]=null}),ke(),i=q[o],i?i.p($,P):(i=q[o]=J[o]($),i.c()),D(i,1),i.m(t,null)),(!h||P[0]&256)&&x!==(x=$[8].name+"")&&ve(A,x),(!h||P[0]&256)&&Z!==(Z=$[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?")&&ve(Y,Z),(!h||P[0]&256)&&y!==(y=$[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ve(R,y),(!h||P[0]&256)&&I!==(I=$[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ve(C,I),(!h||P[0]&256)&&w!==(w=$[8].stage==="delete"?"삭제":"나가기")&&ve(V,w)},i($){h||(D(i),h=!0)},o($){L(i),h=!1},d($){$&&(f(e),f(G),f(_)),q[o].d(),S=!1,He(k)}}}function Nt(l){var z,ae;let e,t,r,n,o,i,m,F=`${((ae=(z=l[2])==null?void 0:z.getClientRects()[0])==null?void 0:ae.height)??0}px`,E,d,x,A,b,M,Z,Y,H,N;function y(u){l[19](u)}let R={position:"sticky",backgroundColor:"bg-black",leftBack:!0,centerTitle:"박스",$$slots:{right:[Ft]},$$scope:{ctx:l}};l[2]!==void 0&&(R.header=l[2]),t=new st({props:R}),Ze.push(()=>Ue(t,"header",y));function ee(u){l[20](u)}let te={round:!0,placeholder:"박스 검색",fontSize:"font-normal text-sm",fontColor:"text-[#757D86]",clear:!0,backgroundColor:"bg-[#383838]/30",onInput:l[10]};l[1]!==void 0&&(te.value=l[1]),i=new ot({props:te}),Ze.push(()=>Ue(i,"value",ee));let B=l[0].length===0&&Ge(l),I=Ye(l[3]),C=[];for(let u=0;u<I.length;u+=1)C[u]=Je(qe(l,I,u));const G=u=>L(C[u],1,1,()=>{C[u]=null});b=new ht({});let _=l[8]&&Ke(l);return H=new ct({}),{c(){e=p("div"),le(t.$$.fragment),n=T(),o=p("section"),le(i.$$.fragment),E=T(),d=p("section"),B&&B.c(),x=T();for(let u=0;u<C.length;u+=1)C[u].c();A=T(),le(b.$$.fragment),Z=T(),_&&_.c(),Y=T(),le(H.$$.fragment),this.h()},l(u){e=v(u,"DIV",{class:!0});var c=g(e);ne(t.$$.fragment,c),n=j(c),o=v(c,"SECTION",{class:!0});var w=g(o);ne(i.$$.fragment,w),w.forEach(f),E=j(c),d=v(c,"SECTION",{class:!0});var V=g(d);B&&B.l(V),x=j(V);for(let h=0;h<C.length;h+=1)C[h].l(V);A=j(V),ne(b.$$.fragment,V),V.forEach(f),Z=j(c),_&&_.l(c),c.forEach(f),Y=j(u),ne(H.$$.fragment,u),this.h()},h(){s(o,"class","box-search sticky px-5 py-3 z-10 bg-black"),we(o,"top",F),s(d,"class",M=`box-contents flex flex-col ${l[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`),s(e,"class","box flex flex-col min-h-dvh bg-black")},m(u,c){Q(u,e,c),se(t,e,null),a(e,n),a(e,o),se(i,o,null),a(e,E),a(e,d),B&&B.m(d,null),a(d,x);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(d,null);a(d,A),se(b,d,null),a(e,Z),_&&_.m(e,null),Q(u,Y,c),se(H,u,c),N=!0},p(u,c){var h,S;const w={};c[1]&8&&(w.$$scope={dirty:c,ctx:u}),!r&&c[0]&4&&(r=!0,w.header=u[2],ze(()=>r=!1)),t.$set(w);const V={};if(!m&&c[0]&2&&(m=!0,V.value=u[1],ze(()=>m=!1)),i.$set(V),c[0]&4&&F!==(F=`${((S=(h=u[2])==null?void 0:h.getClientRects()[0])==null?void 0:S.height)??0}px`)&&we(o,"top",F),u[0].length===0?B?B.p(u,c):(B=Ge(u),B.c(),B.m(d,x)):B&&(B.d(1),B=null),c[0]&63736){I=Ye(u[3]);let k;for(k=0;k<I.length;k+=1){const J=qe(u,I,k);C[k]?(C[k].p(J,c),D(C[k],1)):(C[k]=Je(J),C[k].c(),D(C[k],1),C[k].m(d,A))}for($e(),k=I.length;k<C.length;k+=1)G(k);ke()}(!N||c[0]&8&&M!==(M=`box-contents flex flex-col ${u[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`))&&s(d,"class",M),u[8]?_?(_.p(u,c),c[0]&256&&D(_,1)):(_=Ke(u),_.c(),D(_,1),_.m(e,null)):_&&($e(),L(_,1,1,()=>{_=null}),ke())},i(u){if(!N){D(t.$$.fragment,u),D(i.$$.fragment,u);for(let c=0;c<I.length;c+=1)D(C[c]);D(b.$$.fragment,u),D(_),D(H.$$.fragment,u),N=!0}},o(u){L(t.$$.fragment,u),L(i.$$.fragment,u),C=C.filter(Boolean);for(let c=0;c<C.length;c+=1)L(C[c]);L(b.$$.fragment,u),L(_),L(H.$$.fragment,u),N=!1},d(u){u&&(f(e),f(Y)),oe(t),oe(i),B&&B.d(),rt(C,u),oe(b),_&&_.d(),oe(H,u)}}}const de=64;function Ot(l,e,t){let r;lt(l,Re,h=>t(0,r=h));let n="",o,i=[],m=!1;function F(){at()?je("/boxes/-1/setting"):ye.emit("showSignInModal",{removable:!0})}let E;function d(h){clearTimeout(E),E=setTimeout(x,300)}function x(){t(3,i=A())}function A(){return n?r.filter(h=>h.name.includes(n)):r}let b,M=!1,Z=-1,Y=-1,H;function N(h,S){H=void 0,t(6,y=0),t(7,ee=!1),Z=h.touches[0].clientX,Y=h.touches[0].clientY,b!==void 0&&b!==S&&t(5,M=!1),t(4,b=S)}let y=0;function R(h){if(b===void 0)return;let k=h.touches[0].clientX-Z,q=h.touches[0].clientY-Y;if(H===void 0&&(H=Math.abs(k)-Math.abs(q)>=0,!M&&H&&k>0)){t(4,b=void 0),t(6,y=0);return}if(H){const K=M?de:0,$=M?0:-de;t(6,y=k>K?K:k<$?$:k)}}let ee=!1;function te(h){if(b!==void 0&&H){t(7,ee=!0);let S=h.changedTouches[0].clientX-Z;(y===0||Math.abs(y)===de)&&(h.stopPropagation(),B()),S>=de/2?t(5,M=!1):S<=-de/2&&t(5,M=!0),t(6,y=0)}}function B(){t(7,ee=!1)}let I;function C(h,S,k,J){t(8,I={idx:h,name:S,image:k,stage:J==="owner"?"delete":"leave"})}function G(){t(8,I=void 0),t(4,b=void 0),t(5,M=!1)}async function _(){if(!I||m)return;const h=ut();if(!h)return;const S=ft();if(!S)return;m=!0;const k=I.stage==="delete";if(k){if(!(await fetch(`${it}/boxes/${I.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${h}`}})).ok)return m=!1,ye.emit("pushSnackbar",{message:"권한이 없어 삭제할 수 없습니다."})}else try{await pt({targetTable:"boxes",targetIdx:BigInt(I.idx),subjectIdx:S})}catch{return m=!1,ye.emit("pushSnackbar",{message:"나가기에 실패했습니다. 잠시 후 다시 시도해 주세요."})}Re.update(J=>J=J.filter(q=>q.idx!==I.idx)),ye.emit("pushSnackbar",{message:`${I.name} ${k?"박스를 삭제했습니다.":"박스에서 나갔습니다."}`}),G(),m=!1}const z=async()=>{await je("/search")};function ae(h){o=h,t(2,o)}function u(h){n=h,t(1,n)}const c=h=>C(h.idx,h.name,h.image,h.role),w=(h,S)=>N(S,h.idx),V=h=>je(`/boxes/${h.idx}`);return l.$$.update=()=>{l.$$.dirty[0]&1&&r&&x()},[r,n,o,i,b,M,y,ee,I,F,d,N,R,te,B,C,G,_,z,ae,u,c,w,V]}class nr extends De{constructor(e){super(),Ee(this,e,Ot,Nt,Be,{},null,[-1,-1])}}export{nr as component};
