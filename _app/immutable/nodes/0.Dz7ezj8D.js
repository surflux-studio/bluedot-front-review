import{n as j,p as st,m as rt,s as it,c as at,D as W,o as mt,a as pt,h as ht,u as _t,i as gt,j as bt}from"../chunks/scheduler.CS_98Wiq.js";import{I as wt,J as yt,K as kt,L as vt,S as lt,i as ct,q as I,g as M,A as D,B,n as y,o as v,d as w,e as T,t as J,s as z,c as X,a as C,b as U,f as N,r as k,h as E,v as Lt,j as H,M as $t,k as R,l as ut,m as V,p as A,H as St,C as q,D as G}from"../chunks/index.DkGyNcZ4.js";import{e as O,u as xt,f as Et}from"../chunks/each.CKz6_1ty.js";import{w as Mt,p as Q}from"../chunks/entry.BKZ_6MSL.js";import{e as Tt,d as Xt,f as Ct,a as It}from"../chunks/icon.iuqdwY6R.js";import{S as b}from"../chunks/index.Dq4Y7YpW.js";import{component as Dt}from"./17.B3MA5tH-.js";import{component as Bt}from"./8.D7SVzV3G.js";import{component as Pt}from"./14.C37Ty5uC.js";import{component as Wt}from"./3.EOpGQ-UG.js";import{h as qt}from"../chunks/Footer.C72tiJLz.js";function jt(a,t,s,n){if(!t)return j;const e=a.getBoundingClientRect();if(t.left===e.left&&t.right===e.right&&t.top===e.top&&t.bottom===e.bottom)return j;const{delay:l=0,duration:r=300,easing:i=st,start:o=wt()+l,end:c=o+r,tick:u=j,css:f}=s(a,{from:t,to:e},n);let g=!0,p=!1,_;function S(){f&&(_=kt(a,0,1,r,l,i,f)),l||(p=!0)}function L(){f&&vt(a,_),g=!1}return yt(d=>{if(!p&&d>=o&&(p=!0),p&&d>=c&&(u(1,0),L()),!g)return!1;if(p){const m=d-o,x=0+1*i(m/r);u(x,1-x)}return!0}),S(),u(0,1),L}function zt(a){const t=getComputedStyle(a);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:s,height:n}=t,e=a.getBoundingClientRect();a.style.position="absolute",a.style.width=s,a.style.height=n,ft(a,e)}}function ft(a,t){const s=a.getBoundingClientRect();if(t.left!==s.left||t.top!==s.top){const n=getComputedStyle(a),e=n.transform==="none"?"":n.transform;a.style.transform=`${e} translate(${t.left-s.left}px, ${t.top-s.top}px)`}}const Nt=!1,Ot="auto",Rt=a=>{if(console.log(a.route.id),a.route.id!==null)return{route:a.route.id==="/"?"/viewer":a.route.id}},de=Object.freeze(Object.defineProperty({__proto__:null,load:Rt,prerender:Ot,ssr:Nt},Symbol.toStringTag,{value:"Module"}));function Vt(a){const t=a-1;return t*t*t+1}function At(a,{delay:t=0,duration:s=400,easing:n=st}={}){const e=+getComputedStyle(a).opacity;return{delay:t,duration:s,easing:n,css:l=>`opacity: ${l*e}`}}function Kt(a,{from:t,to:s},n={}){const e=getComputedStyle(a),l=e.transform==="none"?"":e.transform,[r,i]=e.transformOrigin.split(" ").map(parseFloat),o=t.left+t.width*r/s.width-(s.left+r),c=t.top+t.height*i/s.height-(s.top+i),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:g=Vt}=n;return{delay:u,duration:rt(f)?f(Math.sqrt(o*o+c*c)):f,easing:g,css:(p,_)=>{const S=_*o,L=_*c,d=p+_*t.width/s.width,m=p+_*t.height/s.height;return`transform: ${l} translate(${S}px, ${L}px) scale(${d}, ${m});`}}}function Z(a,t,s){const n=a.slice();return n[5]=t[s],n[7]=s,n}function tt(a,t){let s,n,e,l=t[5].message+"",r,i,o,c=(t[5].buttonText||K)+"",u,f,g,p,_,S,L=j,d,m,x;return{key:a,first:null,c(){s=T("div"),n=T("div"),e=T("div"),r=J(l),i=z(),o=T("div"),u=J(c),g=z(),this.h()},l(h){s=X(h,"DIV",{class:!0,style:!0});var $=C(s);n=X($,"DIV",{class:!0,style:!0});var P=C(n);e=X(P,"DIV",{class:!0});var Y=C(e);r=U(Y,l),Y.forEach(w),i=N(P),o=X(P,"DIV",{class:!0});var F=C(o);u=U(F,c),F.forEach(w),P.forEach(w),g=N($),$.forEach(w),this.h()},h(){k(e,"class","text-white flex-grow"),k(o,"class","text-primary-300"),k(n,"class","flex bg-black p-[1.125rem]"),k(n,"style",f=`transform: scale(${1-.05*t[7]})`),k(s,"class","fixed bottom-24 w-full p-4"),k(s,"style",p=`z-index: ${80-t[7]}; transform: translateY(${-.3*t[7]}rem);`),this.first=s},m(h,$){M(h,s,$),E(s,n),E(n,e),E(e,r),E(n,i),E(n,o),E(o,u),E(s,g),d=!0,m||(x=Lt(o,"click",function(){rt(t[5].callback)&&t[5].callback.apply(this,arguments)}),m=!0)},p(h,$){t=h,(!d||$&1)&&l!==(l=t[5].message+"")&&H(r,l),(!d||$&1)&&c!==(c=(t[5].buttonText||K)+"")&&H(u,c),(!d||$&1&&f!==(f=`transform: scale(${1-.05*t[7]})`))&&k(n,"style",f),(!d||$&1&&p!==(p=`z-index: ${80-t[7]}; transform: translateY(${-.3*t[7]}rem);`))&&k(s,"style",p)},r(){S=s.getBoundingClientRect()},f(){zt(s),L(),ft(s,S)},a(){L(),L=jt(s,S,Kt,{})},i(h){d||(_&&_.end(1),d=!0)},o(h){h&&(_=$t(s,At,{duration:300})),d=!1},d(h){h&&w(s),h&&_&&_.end(),m=!1,x()}}}function Yt(a){let t=[],s=new Map,n,e,l=O(a[0]);const r=i=>i[5].uuid;for(let i=0;i<l.length;i+=1){let o=Z(a,l,i),c=r(o);s.set(c,t[i]=tt(c,o))}return{c(){for(let i=0;i<t.length;i+=1)t[i].c();n=I()},l(i){for(let o=0;o<t.length;o+=1)t[o].l(i);n=I()},m(i,o){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(i,o);M(i,n,o),e=!0},p(i,[o]){if(o&1){l=O(i[0]),D();for(let c=0;c<t.length;c+=1)t[c].r();t=xt(t,o,r,1,i,l,s,n.parentNode,Et,tt,n,Z);for(let c=0;c<t.length;c+=1)t[c].a();B()}},i(i){if(!e){for(let o=0;o<l.length;o+=1)y(t[o]);e=!0}},o(i){for(let o=0;o<t.length;o+=1)v(t[o]);e=!1},d(i){i&&w(n);for(let o=0;o<t.length;o+=1)t[o].d(i)}}}const Ft=5e3,Jt=!1,K="닫기";function Ut(a,t,s){let n;const e=()=>{clearTimeout(r),W(l,n=n.slice(1),n)},l=Mt([]);at(a,l,o=>s(0,n=o));let r;Tt.on("pushSnackbar",i);function i(o){if(n.some(u=>u.uuid===o.uuid))return;const c={uuid:o.uuid||crypto.randomUUID(),message:o.message,urgent:o.urgent,keep:o.keep||Jt,duration:o.duration||Ft,buttonText:o.buttonText||K,callback:()=>{e();try{o.callback()}catch{}}};if(o.urgent){clearTimeout(r),W(l,n=[c,...n],n);return}W(l,n=[...n,c],n)}return a.$$.update=()=>{if(a.$$.dirty&5&&n.length>0){const{duration:o,keep:c}=n[0];clearTimeout(r),c||s(2,r=setTimeout(()=>{W(l,n=n.slice(1),n)},o))}},[n,l,r]}class Ht extends lt{constructor(t){super(),ct(this,t,Ut,Yt,it,{})}}function dt(){const a=window.innerWidth<=b.MobileS?b.MobileS:window.innerWidth<=b.MobileM?b.MobileM:window.innerWidth<=b.MobileL?b.MobileL:window.innerWidth<=b.Tablet?b.Tablet:window.innerWidth<=b.Laptop?b.Laptop:window.innerWidth<=b.LaptopL?b.LaptopL:b.FourK;Xt.set(a)}window.onresize=dt;function et(a,t,s){const n=a.slice();return n[14]=t[s],n[16]=s,n}function Gt(a){let t;const s=a[5].default,n=ht(s,a,a[4],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,l){n&&n.m(e,l),t=!0},p(e,l){n&&n.p&&(!t||l&16)&&_t(n,s,e,e[4],t?bt(s,e[4],l,null):gt(e[4]),null)},i(e){t||(y(n,e),t=!0)},o(e){v(n,e),t=!1},d(e){n&&n.d(e)}}}function Qt(a){let t,s,n=O(a[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=ot(et(a,n,r));const l=r=>v(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=I()},l(r){for(let i=0;i<e.length;i+=1)e[i].l(r);t=I()},m(r,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(r,i);M(r,t,i),s=!0},p(r,i){if(i&7){n=O(r[0]);let o;for(o=0;o<n.length;o+=1){const c=et(r,n,o);e[o]?(e[o].p(c,i),y(e[o],1)):(e[o]=ot(c),e[o].c(),y(e[o],1),e[o].m(t.parentNode,t))}for(D(),o=n.length;o<e.length;o+=1)l(o);B()}},i(r){if(!s){for(let i=0;i<n.length;i+=1)y(e[i]);s=!0}},o(r){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)v(e[i]);s=!1},d(r){r&&w(t),St(e,r)}}}function nt(a){let t,s,n;var e=a[14].component;function l(r,i){return{}}return e&&(t=G(e,l())),{c(){t&&R(t.$$.fragment),s=I()},l(r){t&&ut(t.$$.fragment,r),s=I()},m(r,i){t&&V(t,r,i),M(r,s,i),n=!0},p(r,i){if(i&1&&e!==(e=r[14].component)){if(t){D();const o=t;v(o.$$.fragment,1,0,()=>{A(o,1)}),B()}e?(t=G(e,l()),R(t.$$.fragment),y(t.$$.fragment,1),V(t,s.parentNode,s)):t=null}},i(r){n||(t&&y(t.$$.fragment,r),n=!0)},o(r){t&&v(t.$$.fragment,r),n=!1},d(r){r&&w(s),t&&A(t,r)}}}function ot(a){let t,s,n,e=a[14].component&&a[14].isLoading&&nt(a);return{c(){t=T("div"),e&&e.c(),s=z(),this.h()},l(l){t=X(l,"DIV",{class:!0});var r=C(t);e&&e.l(r),s=N(r),r.forEach(w),this.h()},h(){k(t,"class","page svelte-1g77332"),q(t,"transform",a[1]),q(t,"left",`${(a[16]-a[2])*100}%`)},m(l,r){M(l,t,r),e&&e.m(t,null),E(t,s),n=!0},p(l,r){l[14].component&&l[14].isLoading?e?(e.p(l,r),r&1&&y(e,1)):(e=nt(l),e.c(),y(e,1),e.m(t,s)):e&&(D(),v(e,1,1,()=>{e=null}),B()),r&2&&q(t,"transform",l[1]),r&4&&q(t,"left",`${(l[16]-l[2])*100}%`)},i(l){n||(y(e),n=!0)},o(l){v(e),n=!1},d(l){l&&w(t),e&&e.d()}}}function Zt(a){let t,s,n,e,l,r;t=new Ht({});const i=[Qt,Gt],o=[];function c(u,f){return u[2]!==-1?0:1}return e=c(a),l=o[e]=i[e](a),{c(){R(t.$$.fragment),s=z(),n=T("main"),l.c(),this.h()},l(u){ut(t.$$.fragment,u),s=N(u),n=X(u,"MAIN",{id:!0,class:!0});var f=C(n);l.l(f),f.forEach(w),this.h()},h(){k(n,"id","page-container"),k(n,"class","w-screen min-h-screen overflow-visible")},m(u,f){V(t,u,f),M(u,s,f),M(u,n,f),o[e].m(n,null),r=!0},p(u,[f]){let g=e;e=c(u),e===g?o[e].p(u,f):(D(),v(o[g],1,1,()=>{o[g]=null}),B(),l=o[e],l?l.p(u,f):(l=o[e]=i[e](u),l.c()),y(l,1),l.m(n,null))},i(u){r||(y(t.$$.fragment,u),y(l),r=!0)},o(u){v(t.$$.fragment,u),v(l),r=!1},d(u){u&&(w(s),w(n)),A(t,u),o[e].d()}}}function te(a,t,s){let n,e;at(a,It,d=>s(8,e=d));let{$$slots:l={},$$scope:r}=t,{data:i}=t;const o=[{route:"/map",path:"/map",regex:/^\/map$/,component:Bt,isLoading:!1},{route:"/viewer",path:"/viewer",regex:/^\/(viewer)?$/,component:Dt,isLoading:!1},{route:"/boxes",path:"/boxes",regex:/^\/boxes$/,component:Wt,isLoading:!1},{route:"/users/[idx]",path:"/users/111",regex:/^\/users\/\d+$/,component:Pt,isLoading:!1}];mt(()=>{Ct.set(window),qt(),dt(),S()}),pt(()=>{L()});let c="translateX(0)",u=-1,f;function g(d){n!==-1&&(u=d.touches[0].clientX,n===0&&u<f-20&&(s(1,c="translateX(0)"),u=-1))}function p(d){if(e||u<0||n===-1)return;let m=d.touches[0].clientX-u;m=m>f?f:m<-f?-f:m,m=n===0&&m>0||n===o.length-1&&m<0?0:m,m>0?s(0,o[n-1].isLoading=!0,o):m<0&&s(0,o[n+1].isLoading=!0,o),s(1,c=`translateX(${m}px)`)}function _(d){if(e||u<0||n===-1)return;let m=d.changedTouches[0].clientX-u;if(m>f/2&&n!==0){s(1,c=`translateX(${f}px)`);const x=n-1,h=o[x];Q(h.path,{}),s(3,i.route=h.route,i),s(1,c="translateX(0)")}else if(-m>f/2&&n!==o.length-1){s(1,c=`translateX(${-f}px)`);const x=n+1,h=o[x];Q(h.path,{}),s(3,i.route=h.route,i),s(1,c="translateX(0)")}else s(1,c="translateX(0)")}function S(){f=document.body.clientWidth,document.addEventListener("touchstart",g),document.addEventListener("touchmove",p),document.addEventListener("touchend",_),window.onpopstate=function(){if(n!==-1){for(const d of o)if(d.regex.test(window.location.pathname)){s(3,i.route=d.route,i);break}}}}function L(){document.removeEventListener("touchstart",g),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",_)}return a.$$set=d=>{"data"in d&&s(3,i=d.data),"$$scope"in d&&s(4,r=d.$$scope)},a.$$.update=()=>{a.$$.dirty&9&&s(2,n=o.findIndex(d=>{const m=i.route===d.route;return m&&(d.isLoading=!0),m}))},[o,c,n,i,r,l]}class me extends lt{constructor(t){super(),ct(this,t,te,Zt,it,{data:3})}}export{me as component,de as universal};
