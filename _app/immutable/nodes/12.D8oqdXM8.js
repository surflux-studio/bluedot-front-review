import{s as N,a as b,g as h,i as x,f as c,k as w,w as I,e as v,t as y,c as B,b as P,d as k,v as M,h as A,n as C}from"../chunks/scheduler.DobTUrUU.js";import{S as E,i as G,c as $,b as u,m as l,t as _,a as g,d}from"../chunks/index.BzbOx6Bd.js";import{H}from"../chunks/Header.BWVlw1P1.js";import{M as R}from"../chunks/Map.DnOan94b.js";import{p as S}from"../chunks/stores.B22jY-hJ.js";import{U as T}from"../chunks/UpperBoxes.BWvLgoAi.js";import{g as U}from"../chunks/entry.72j06AYb.js";import{A as j}from"../chunks/sign.D2LB2NXZ.js";function q(m){let t,r;return{c(){t=v("div"),r=y(m[1]),this.h()},l(a){t=B(a,"DIV",{class:!0});var o=P(t);r=k(o,m[1]),o.forEach(c),this.h()},h(){M(t,"class","typo-sub-h2 text-gray-900")},m(a,o){x(a,t,o),A(t,r)},p:C,d(a){a&&c(t)}}}function D(m){let t,r,a,o,n,p;return t=new H({props:{position:"fixed",leftBack:!0,$$slots:{default:[q]},$$scope:{ctx:m}}}),a=new R({}),n=new T({props:{boxes:m[0],top:"top-[100px]",onBoxClick:m[2]}}),{c(){$(t.$$.fragment),r=b(),$(a.$$.fragment),o=b(),$(n.$$.fragment)},l(e){u(t.$$.fragment,e),r=h(e),u(a.$$.fragment,e),o=h(e),u(n.$$.fragment,e)},m(e,s){l(t,e,s),x(e,r,s),l(a,e,s),x(e,o,s),l(n,e,s),p=!0},p(e,[s]){const i={};s&32&&(i.$$scope={dirty:s,ctx:e}),t.$set(i);const f={};s&1&&(f.boxes=e[0]),n.$set(f)},i(e){p||(_(t.$$.fragment,e),_(a.$$.fragment,e),_(n.$$.fragment,e),p=!0)},o(e){g(t.$$.fragment,e),g(a.$$.fragment,e),g(n.$$.fragment,e),p=!1},d(e){e&&(c(r),c(o)),d(t,e),d(a,e),d(n,e)}}}function L(m,t,r){let a;w(m,S,s=>r(3,a=s));let o=[];const n=a.url.searchParams.get("placeName");async function p(){const s=Number(a.url.searchParams.get("placeIdx"));if(Number.isNaN(s)||!s)return;const i=await fetch(`${j}/places/${s}/boxes`,{method:"GET"});if(!i.ok)return;const f=await i.json();f.data&&r(0,o=f.data)}I(()=>{p()});function e(s){U(`/boxes/${s}/detail`)}return[o,n,e]}class X extends E{constructor(t){super(),G(this,t,L,D,N,{})}}export{X as component};
