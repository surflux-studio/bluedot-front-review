import{s as H,a as w,e as M,g as C,c as U,b as j,f as $,l as q,i as k,n as T,t as D,d as I}from"../chunks/scheduler.DVlEcQ2N.js";import{S as V,i as W,c as p,a as _,m as g,t as l,b as c,d}from"../chunks/index.sqOQyxVq.js";import{g as B}from"../chunks/entry.DdiwUxVt.js";import{F as P}from"../chunks/Footer.B-S8sRGW.js";import{H as A}from"../chunks/Header.D4XGnjtA.js";import{M as G}from"../chunks/Map.BiNPw5DW.js";import{N as J}from"../chunks/NavigationBar.Dxk-E8XB.js";import{B as S}from"../chunks/Button.6MCKN2sf.js";import{a as N,g as K}from"../chunks/searchParams.riJ_PJ2c.js";import{e as L}from"../chunks/emitter.E5P-NQ8u.js";function O(a){let e,r;return e=new A({props:{position:"fixed",rightFeed:!0}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Q(a){let e,r;return e=new A({props:{position:"fixed",leftBack:!0}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function X(a){let e,r;return e=new P({props:{position:"fixed",leftReposition:!0,centerSearch:!0,right:"add"}}),e.$on("click",a[3]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p:T,i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Y(a){let e,r;return e=new P({props:{position:"fixed",bottom:"2rem",$$slots:{default:[te]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const o={};s&16&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Z(a){let e;return{c(){e=D("이 장소가 아니예요")},l(r){e=I(r,"이 장소가 아니예요")},m(r,t){k(r,e,t)},d(r){r&&$(e)}}}function ee(a){let e;return{c(){e=D("이 장소가 맞아요")},l(r){e=I(r,"이 장소가 맞아요")},m(r,t){k(r,e,t)},d(r){r&&$(e)}}}function te(a){let e,r,t,s;return e=new S({props:{backgroundColor:"bg-gray-300",textColor:"text-white",$$slots:{default:[Z]},$$scope:{ctx:a}}}),e.$on("click",a[2]),t=new S({props:{backgroundColor:"bg-primary-500",textColor:"text-white",$$slots:{default:[ee]},$$scope:{ctx:a}}}),t.$on("click",a[1]),{c(){p(e.$$.fragment),r=w(),p(t.$$.fragment)},l(o){_(e.$$.fragment,o),r=C(o),_(t.$$.fragment,o)},m(o,i){g(e,o,i),k(o,r,i),g(t,o,i),s=!0},p(o,i){const m={};i&16&&(m.$$scope={dirty:i,ctx:o}),e.$set(m);const u={};i&16&&(u.$$scope={dirty:i,ctx:o}),t.$set(u)},i(o){s||(l(e.$$.fragment,o),l(t.$$.fragment,o),s=!0)},o(o){c(e.$$.fragment,o),c(t.$$.fragment,o),s=!1},d(o){o&&$(r),d(e,o),d(t,o)}}}function re(a){let e,r,t,s,o,i,m,u,h,b,x;const E=[Q,O],y=[];function F(n,f){return n[0]==="post"||n[0]==="box"?0:1}e=F(a),r=y[e]=E[e](a),o=new G({});const R=[Y,X],v=[];function z(n,f){return n[0]==="post"||n[0]==="box"?0:1}return m=z(a),u=v[m]=R[m](a),b=new J({props:{show:a[0]!=="post"}}),{c(){r.c(),t=w(),s=M("div"),p(o.$$.fragment),i=w(),u.c(),h=w(),p(b.$$.fragment),this.h()},l(n){r.l(n),t=C(n),s=U(n,"DIV",{class:!0});var f=j(s);_(o.$$.fragment,f),f.forEach($),i=C(n),u.l(n),h=C(n),_(b.$$.fragment,n),this.h()},h(){q(s,"class","fixed top-0 left-0 w-full h-full")},m(n,f){y[e].m(n,f),k(n,t,f),k(n,s,f),g(o,s,null),k(n,i,f),v[m].m(n,f),k(n,h,f),g(b,n,f),x=!0},p(n,[f]){u.p(n,f)},i(n){x||(l(r),l(o.$$.fragment,n),l(u),l(b.$$.fragment,n),x=!0)},o(n){c(r),c(o.$$.fragment,n),c(u),c(b.$$.fragment,n),x=!1},d(n){n&&($(t),$(s),$(i),$(h)),y[e].d(n),d(o),v[m].d(n),d(b,n)}}}function oe(a){const e=N("type");async function r(){if(e==="box"){const o=Number(N("boxIdx"));if(Number.isNaN(o)||!o)return B("/boxes");(await fetch(`https://azit.surflux.studio/boxes/${o}/places/${N("placeIdx")}`,{method:"PUT",headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}})).ok||L.emit("pushSnackbar",{message:"장소 추가에 실패했습니다."}),B(`/boxes/${o}/detail`)}else e==="post"&&K("/viewer/edit")}return[e,r,()=>window.history.back(),()=>{B("/map/search")}]}class pe extends V{constructor(e){super(),W(this,e,oe,re,H,{})}}export{pe as component};
