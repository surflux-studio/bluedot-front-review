import{s as xe,q as ce,r as he,b as p,f as c,v as s,i as te,h as f,n as re,w as Oe,e as g,a as L,c as _,g as T,C as we,x as ye,M as rt,k as lt,z as Se,A as fe,t as ge,d as _e,H as nt,j as ve,F as Ne}from"../chunks/scheduler.CIbz-4tf.js";import{S as De,i as Ee,b as je,c as le,d as ne,m as se,t as k,e as ke,a as I,f as ie,g as $e}from"../chunks/index.gvaMc9LH.js";import{e as Ye}from"../chunks/each.Cdd7o6io.js";import{g as He}from"../chunks/entry.BlipmNmQ.js";import{H as st}from"../chunks/Header.D0Ely6jv.js";import{F as it}from"../chunks/Field.sEKQ2dwN.js";import{s as Re,e as Le,A as ot}from"../chunks/store.C807Sv48.js";import{i as at,g as ut,a as ft}from"../chunks/sign.DjOL18JW.js";import{N as ct}from"../chunks/NavigationBar.CC2C4HCX.js";import{s as Te}from"../chunks/s32cloudfront.iC-vMcWe.js";import{B as ht}from"../chunks/BottomNavigationPadder.DW6RgBQw.js";import{C as Qe}from"../chunks/CircleImage.CZpdYjea.js";import{I as dt}from"../chunks/IconDelete.BvE9KawD.js";import{M as mt}from"../chunks/Modal.BPiwPWV6.js";import{I as pt}from"../chunks/IconAdd.PrfhF7dI.js";import{I as gt}from"../chunks/IconSearch.Deap0mXU.js";import{u as _t}from"../chunks/follow.CYqatrlJ.js";import{A as vt}from"../chunks/ActionSheetOpenApp.Hax2RVvs.js";function Ct(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=p(e);t=he(n,"path",{d:!0}),p(t).forEach(c),n.forEach(c),this.h()},h(){s(t,"d","M5.29289 10.4018C5.68342 10.7924 6.31658 10.7924 6.70711 10.4018L8.8875 8.22144C9.5 7.50049 9.84738 6.92278 10.0049 6.1307C10.1624 5.33862 10.0815 4.51762 9.77247 3.77151C9.4634 3.02541 8.94003 2.3877 8.26854 1.93904C7.59704 1.49037 6.80759 1.2509 6 1.2509C5.19241 1.2509 4.40296 1.49037 3.73147 1.93904C3.05998 2.3877 2.5366 3.02541 2.22753 3.77151C1.91846 4.51762 1.83758 5.33862 1.9951 6.1307C2.15262 6.92278 2.5 7.50049 3.1125 8.22144L5.29289 10.4018ZM6.70711 12.0515C6.31658 12.442 5.68342 12.442 5.29289 12.0515L2.28767 9.04627C1.55345 8.31205 1.05344 7.37658 0.850875 6.35819C0.648308 5.33979 0.752279 4.28419 1.14964 3.32488C1.547 2.36557 2.21991 1.54564 3.08327 0.968765C3.94662 0.39189 4.96165 0.0839844 6 0.0839844C7.03835 0.0839844 8.05338 0.39189 8.91674 0.968765C9.7801 1.54564 10.453 2.36557 10.8504 3.32488C11.2477 4.28419 11.3517 5.33979 11.1491 6.35819C10.9466 7.37658 10.4466 8.31205 9.71234 9.04627L6.70711 12.0515ZM6 6.50061C6.30942 6.50061 6.60617 6.37769 6.82496 6.1589C7.04375 5.9401 7.16667 5.64336 7.16667 5.33394C7.16667 5.02452 7.04375 4.72777 6.82496 4.50898C6.60617 4.29019 6.30942 4.16727 6 4.16727C5.69058 4.16727 5.39384 4.29019 5.17504 4.50898C4.95625 4.72777 4.83334 5.02452 4.83334 5.33394C4.83334 5.64336 4.95625 5.9401 5.17504 6.1589C5.39384 6.37769 5.69058 6.50061 6 6.50061ZM6 7.66727C5.38116 7.66727 4.78767 7.42144 4.35009 6.98386C3.9125 6.54627 3.66667 5.95278 3.66667 5.33394C3.66667 4.7151 3.9125 4.12161 4.35009 3.68402C4.78767 3.24644 5.38116 3.00061 6 3.00061C6.61884 3.00061 7.21233 3.24644 7.64992 3.68402C8.0875 4.12161 8.33333 4.7151 8.33333 5.33394C8.33333 5.95278 8.0875 6.54627 7.64992 6.98386C7.21233 7.42144 6.61884 7.66727 6 7.66727Z"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 12 13"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){te(r,e,n),f(e,t)},p(r,[n]){n&1&&s(e,"width",r[0]),n&2&&s(e,"height",r[1]),n&4&&s(e,"fill",r[2])},i:re,o:re,d(r){r&&c(e)}}}function bt(l,e,t){let{width:r=12}=e,{height:n=13}=e,{fill:i="#B3B8BD"}=e;return l.$$set=o=>{"width"in o&&t(0,r=o.width),"height"in o&&t(1,n=o.height),"fill"in o&&t(2,i=o.fill)},[r,n,i]}class wt extends De{constructor(e){super(),Ee(this,e,bt,Ct,xe,{width:0,height:1,fill:2})}}function kt(l){let e,t,r,n,i;return{c(){e=ce("svg"),t=ce("path"),r=ce("path"),n=ce("path"),i=ce("path"),this.h()},l(o){e=he(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var d=p(e);t=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(t).forEach(c),r=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),p(r).forEach(c),n=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(n).forEach(c),i=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"stroke-linecap":!0}),p(i).forEach(c),d.forEach(c),this.h()},h(){s(t,"d","M10.9921 5.09375C10.912 6.20582 10.087 7.0625 9.1874 7.0625C8.28779 7.0625 7.46147 6.20609 7.38272 5.09375C7.30069 3.93684 8.10377 3.125 9.1874 3.125C10.271 3.125 11.0741 3.95789 10.9921 5.09375Z"),s(t,"stroke","#B3B8BD"),s(t,"stroke-width","0.875"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(r,"d","M9.18739 8.8125C7.4054 8.8125 5.69177 9.69762 5.26247 11.4214C5.20559 11.6494 5.3486 11.875 5.58294 11.875H12.7921C13.0265 11.875 13.1686 11.6494 13.1126 11.4214C12.6833 9.67 10.9697 8.8125 9.18739 8.8125Z"),s(r,"stroke","#B3B8BD"),s(r,"stroke-width","0.875"),s(r,"stroke-miterlimit","10"),s(n,"d","M5.46889 5.5843C5.4049 6.47242 4.73826 7.17188 4.01967 7.17188C3.30108 7.17188 2.63334 6.4727 2.57045 5.5843C2.5051 4.66035 3.15397 4 4.01967 4C4.88537 4 5.53424 4.6773 5.46889 5.5843Z"),s(n,"stroke","#B3B8BD"),s(n,"stroke-width","0.875"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(i,"d","M5.63259 8.86777C5.13904 8.64164 4.59544 8.55469 4.01931 8.55469C2.59744 8.55469 1.22751 9.26152 0.884349 10.6383C0.839232 10.8204 0.953529 11.0006 1.14056 11.0006H4.21072"),s(i,"stroke","#B3B8BD"),s(i,"stroke-width","0.875"),s(i,"stroke-miterlimit","10"),s(i,"stroke-linecap","round"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 14 15"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(o,d){te(o,e,d),f(e,t),f(e,r),f(e,n),f(e,i)},p(o,[d]){d&1&&s(e,"width",o[0]),d&2&&s(e,"height",o[1]),d&4&&s(e,"fill",o[2])},i:re,o:re,d(o){o&&c(e)}}}function $t(l,e,t){let{width:r=14}=e,{height:n=15}=e,{fill:i="none"}=e;return l.$$set=o=>{"width"in o&&t(0,r=o.width),"height"in o&&t(1,n=o.height),"fill"in o&&t(2,i=o.fill)},[r,n,i]}class Bt extends De{constructor(e){super(),Ee(this,e,$t,kt,xe,{width:0,height:1,fill:2})}}function xt(l){let e,t,r;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(n){e=he(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=p(e);t=he(i,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(t).forEach(c),i.forEach(c),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"clip-rule","evenodd"),s(t,"d","M6.3606 3.24177C6.59269 3.11426 6.75 2.8675 6.75 2.58398C6.75 2.16975 6.41421 1.83398 6 1.83398C5.58579 1.83398 5.25 2.16975 5.25 2.58398C5.25 2.86755 5.40736 3.11434 5.63951 3.24183L4.18809 5.85343C4.17304 5.87497 4.20214 5.83188 4.18809 5.85343C3.9551 6.21086 3.75 6.52148 3.75 6.52148C3.73755 6.51285 3.76286 6.52552 3.74935 6.51852L2.09706 5.66295C2.19302 5.53693 2.25 5.37961 2.25 5.20898C2.25 4.79475 1.91421 4.45898 1.5 4.45898C1.08579 4.45898 0.75 4.79475 0.75 5.20898C0.75 5.49229 0.907074 5.7389 1.13888 5.86648L2.03233 10.5354C2.06554 10.7089 2.21254 10.834 2.38335 10.834H4.8194L4.82498 10.8339L7.78924 10.834L7.7941 10.834H9.61665C9.78746 10.834 9.93446 10.7089 9.96766 10.5354L10.8611 5.86648C11.0929 5.7389 11.25 5.49229 11.25 5.20898C11.25 4.79475 10.9142 4.45898 10.5 4.45898C10.0858 4.45898 9.75 4.79475 9.75 5.20898C9.75 5.37961 9.80698 5.53693 9.90294 5.66295L8.25065 6.51852C8.23553 6.52635 8.22104 6.53524 8.20726 6.5451L6.3606 3.24177Z"),s(t,"fill",r=l[0]==="owner"?"#FF7A00":"#1FCA70"),s(e,"width","12"),s(e,"height","13"),s(e,"viewBox","0 0 12 13"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,i){te(n,e,i),f(e,t)},p(n,[i]){i&1&&r!==(r=n[0]==="owner"?"#FF7A00":"#1FCA70")&&s(t,"fill",r)},i:re,o:re,d(n){n&&c(e)}}}function Dt(l,e,t){let{type:r="owner"}=e;return l.$$set=n=>{"type"in n&&t(0,r=n.type)},[r]}class Et extends De{constructor(e){super(),Ee(this,e,Dt,xt,xe,{type:0})}}function It(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=p(e);t=he(n,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(t).forEach(c),n.forEach(c),this.h()},h(){s(t,"d","M15 4.00195H5V18.002C5 18.5324 5.21071 19.0411 5.58579 19.4162C5.96086 19.7912 6.46957 20.002 7 20.002H15M16 15.002L19 12.002M19 12.002L16 9.00195M19 12.002H9"),s(t,"stroke",l[0]),s(t,"stroke-width","2"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(e,"width","24"),s(e,"height","24"),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){te(r,e,n),f(e,t)},p(r,[n]){n&1&&s(t,"stroke",r[0])},i:re,o:re,d(r){r&&c(e)}}}function Vt(l,e,t){let{strokeColor:r="white"}=e;return l.$$set=n=>{"strokeColor"in n&&t(0,r=n.strokeColor)},[r]}class Ft extends De{constructor(e){super(),Ee(this,e,Vt,It,xe,{strokeColor:0})}}function qe(l,e,t){const r=l.slice();return r[33]=e[t],r[35]=t,r}function Mt(l){let e,t,r,n,i,o,d,D,V;return r=new gt({props:{width:"24",height:"24"}}),o=new pt({props:{width:"24",height:"24"}}),{c(){e=g("div"),t=g("button"),le(r.$$.fragment),n=L(),i=g("button"),le(o.$$.fragment),this.h()},l(h){e=_(h,"DIV",{slot:!0,class:!0});var E=p(e);t=_(E,"BUTTON",{});var O=p(t);ne(r.$$.fragment,O),O.forEach(c),n=T(E),i=_(E,"BUTTON",{});var y=p(i);ne(o.$$.fragment,y),y.forEach(c),E.forEach(c),this.h()},h(){s(e,"slot","right"),s(e,"class","flex items-center gap-2")},m(h,E){te(h,e,E),f(e,t),se(r,t,null),f(e,n),f(e,i),se(o,i,null),d=!0,D||(V=[fe(t,"click",l[19]),fe(i,"click",l[10])],D=!0)},p:re,i(h){d||(k(r.$$.fragment,h),k(o.$$.fragment,h),d=!0)},o(h){I(r.$$.fragment,h),I(o.$$.fragment,h),d=!1},d(h){h&&c(e),ie(r),ie(o),D=!1,Ne(V)}}}function Ge(l){let e,t,r="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어 보세요!",n,i,o="새 박스 만들기",d,D;return{c(){e=g("div"),t=g("p"),t.innerHTML=r,n=L(),i=g("button"),i.textContent=o,this.h()},l(V){e=_(V,"DIV",{class:!0});var h=p(e);t=_(h,"P",{class:!0,"data-svelte-h":!0}),Se(t)!=="svelte-kmfbm7"&&(t.innerHTML=r),n=T(h),i=_(h,"BUTTON",{class:!0,"data-svelte-h":!0}),Se(i)!=="svelte-ap04k6"&&(i.textContent=o),h.forEach(c),this.h()},h(){s(t,"class","font-normal text-sm text-[#B3B8BD] text-center"),s(i,"class","px-3 py-2.5 bg-[#383838]/30 border border-[#383838]/30 rounded-[50px] font-normal text-xs text-[#B3B8BD]"),s(e,"class","flex flex-col gap-3.5 px-5 items-center")},m(V,h){te(V,e,h),f(e,t),f(e,n),f(e,i),d||(D=fe(i,"click",l[10]),d=!0)},p:re,d(V){V&&c(e),d=!1,D()}}}function At(l){let e;return{c(){e=g("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){te(t,e,r)},p:re,i:re,o:re,d(t){t&&c(e)}}}function Lt(l){let e,t;return e=new Qe({props:{src:Te(l[33].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const i={};n[0]&8&&(i.src=Te(r[33].image??"",500)),e.$set(i)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function We(l){let e,t,r;return t=new Et({props:{type:l[33].role}}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var i=p(e);ne(t.$$.fragment,i),i.forEach(c),this.h()},h(){s(e,"class","absolute bottom-0 right-0 bg-[#FFF5F0] w-4 h-4 rounded-full flex justify-center items-center")},m(n,i){te(n,e,i),se(t,e,null),r=!0},p(n,i){const o={};i[0]&8&&(o.type=n[33].role),t.$set(o)},i(n){r||(k(t.$$.fragment,n),r=!0)},o(n){I(t.$$.fragment,n),r=!1},d(n){n&&c(e),ie(t)}}}function Tt(l){let e,t;return e=new Ft({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Ot(l){let e,t;return e=new dt({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Je(l){let e,t,r,n,i,o,d,D,V,h,E,O,y,j,H,R=l[33].place_count+"",K,w,Z,M,ue,J,ae=l[33].follower_count+"",Q,v,X,m,W=l[33].name+"",$,Y,S,P,z,q,u=`${de}px`,a=`${de}px`,B=`-${de}px`,C,F,b,A;const x=[Lt,At],ee=[];function Ce(G,U){return G[33].image?0:1}o=Ce(l),d=ee[o]=x[o](l);let N=l[33].role==="owner"&&We(l);y=new wt({}),M=new Bt({});const Be=[Ot,Tt],oe=[];function be(G,U){return G[33].role==="owner"?0:1}P=be(l),z=oe[P]=Be[P](l);function Ie(){return l[22](l[33])}function et(...G){return l[23](l[33],...G)}function tt(){return l[24](l[33])}return{c(){e=g("div"),t=g("div"),r=g("div"),n=g("div"),i=L(),d.c(),D=L(),N&&N.c(),V=L(),h=g("div"),E=g("div"),O=g("div"),le(y.$$.fragment),j=L(),H=g("div"),K=ge(R),w=L(),Z=g("div"),le(M.$$.fragment),ue=L(),J=g("div"),Q=ge(ae),v=L(),X=g("div"),m=g("div"),$=ge(W),Y=L(),S=g("button"),z.c(),this.h()},l(G){e=_(G,"DIV",{class:!0,"aria-hidden":!0});var U=p(e);t=_(U,"DIV",{class:!0});var me=p(t);r=_(me,"DIV",{class:!0});var pe=p(r);n=_(pe,"DIV",{class:!0}),p(n).forEach(c),i=T(pe),d.l(pe),pe.forEach(c),D=T(me),N&&N.l(me),me.forEach(c),V=T(U),h=_(U,"DIV",{class:!0});var Ve=p(h);E=_(Ve,"DIV",{class:!0});var Fe=p(E);O=_(Fe,"DIV",{class:!0});var Me=p(O);ne(y.$$.fragment,Me),j=T(Me),H=_(Me,"DIV",{});var Xe=p(H);K=_e(Xe,R),Xe.forEach(c),Me.forEach(c),w=T(Fe),Z=_(Fe,"DIV",{class:!0});var Ae=p(Z);ne(M.$$.fragment,Ae),ue=T(Ae),J=_(Ae,"DIV",{});var Pe=p(J);Q=_e(Pe,ae),Pe.forEach(c),Ae.forEach(c),Fe.forEach(c),v=T(Ve),X=_(Ve,"DIV",{class:!0});var Ze=p(X);m=_(Ze,"DIV",{class:!0});var ze=p(m);$=_e(ze,W),ze.forEach(c),Ze.forEach(c),Ve.forEach(c),Y=T(U),S=_(U,"BUTTON",{class:!0});var Ue=p(S);z.l(Ue),Ue.forEach(c),U.forEach(c),this.h()},h(){s(n,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(r,"class","flex w-full h-full justify-center items-center"),s(t,"class","flex-none w-10 h-10 relative"),s(O,"class","flex flex-row gap-0.5 items-center"),s(Z,"class","flex flex-row gap-0.5 items-center"),s(E,"class","flex flex-row gap-1.5 text-[#B3B8BD] font-normal text-xs"),s(m,"class","typo-body3 text-white truncate"),s(X,"class","w-full flex flex-row gap-2"),s(h,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),s(S,"class",q="absolute flex justify-center items-center "+(l[33].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")),we(S,"width",u),we(S,"height",a),we(S,"right",B),s(e,"class",C=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[5]===l[33].idx&&!l[8]?"":"transition-transform"}`),s(e,"aria-hidden",""),we(e,"transform",`translateX(${l[5]===l[33].idx?l[6]?-de+l[7]:l[7]:0}px)`)},m(G,U){te(G,e,U),f(e,t),f(t,r),f(r,n),f(r,i),ee[o].m(r,null),f(t,D),N&&N.m(t,null),f(e,V),f(e,h),f(h,E),f(E,O),se(y,O,null),f(O,j),f(O,H),f(H,K),f(E,w),f(E,Z),se(M,Z,null),f(Z,ue),f(Z,J),f(J,Q),f(h,v),f(h,X),f(X,m),f(m,$),f(e,Y),f(e,S),oe[P].m(S,null),F=!0,b||(A=[fe(S,"click",nt(Ie)),fe(e,"touchstart",et),fe(e,"touchmove",l[13]),fe(e,"touchend",l[14]),fe(e,"transitionend",l[15]),fe(e,"click",tt)],b=!0)},p(G,U){l=G;let me=o;o=Ce(l),o===me?ee[o].p(l,U):($e(),I(ee[me],1,1,()=>{ee[me]=null}),ke(),d=ee[o],d?d.p(l,U):(d=ee[o]=x[o](l),d.c()),k(d,1),d.m(r,null)),l[33].role==="owner"?N?(N.p(l,U),U[0]&8&&k(N,1)):(N=We(l),N.c(),k(N,1),N.m(t,null)):N&&($e(),I(N,1,1,()=>{N=null}),ke()),(!F||U[0]&8)&&R!==(R=l[33].place_count+"")&&ve(K,R),(!F||U[0]&8)&&ae!==(ae=l[33].follower_count+"")&&ve(Q,ae),(!F||U[0]&8)&&W!==(W=l[33].name+"")&&ve($,W);let pe=P;P=be(l),P!==pe&&($e(),I(oe[pe],1,1,()=>{oe[pe]=null}),ke(),z=oe[P],z||(z=oe[P]=Be[P](l),z.c()),k(z,1),z.m(S,null)),(!F||U[0]&8&&q!==(q="absolute flex justify-center items-center "+(l[33].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")))&&s(S,"class",q),(!F||U[0]&296&&C!==(C=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[5]===l[33].idx&&!l[8]?"":"transition-transform"}`))&&s(e,"class",C),U[0]&232&&we(e,"transform",`translateX(${l[5]===l[33].idx?l[6]?-de+l[7]:l[7]:0}px)`)},i(G){F||(k(d),k(N),k(y.$$.fragment,G),k(M.$$.fragment,G),k(z),F=!0)},o(G){I(d),I(N),I(y.$$.fragment,G),I(M.$$.fragment,G),I(z),F=!1},d(G){G&&c(e),ee[o].d(),N&&N.d(),ie(y),ie(M),oe[P].d(),b=!1,Ne(A)}}}function Ke(l){let e,t;return e=new mt({props:{modalVisible:!0,backgroundColor:"bg-[rgba(56,56,56,0.8)]",padding:"",shadow:"",filter:"",closeModal:l[17],$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const i={};n[0]&512|n[1]&32&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function yt(l){let e;return{c(){e=g("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){te(t,e,r)},p:re,i:re,o:re,d(t){t&&c(e)}}}function jt(l){let e,t;return e=new Qe({props:{src:Te(l[9].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const i={};n[0]&512&&(i.src=Te(r[9].image??"",500)),e.$set(i)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Ht(l){let e,t,r,n,i,o,d,D,V,h,E=l[9].name+"",O,y,j,H=l[9].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?",R,K,w,Z=l[9].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",M,ue,J,ae,Q=l[9].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",v,X,m,W,$="취소",Y,S,P=l[9].stage==="delete"?"삭제":"나가기",z,q,u,a;const B=[jt,yt],C=[];function F(b,A){return b[9].image?0:1}return i=F(l),o=C[i]=B[i](l),{c(){e=g("div"),t=g("div"),r=g("div"),n=L(),o.c(),d=L(),D=g("div"),V=g("div"),h=g("p"),O=ge(E),y=L(),j=g("p"),R=ge(H),K=L(),w=g("p"),M=ge(Z),ue=L(),J=g("br"),ae=L(),v=ge(Q),X=L(),m=g("div"),W=g("button"),W.textContent=$,Y=L(),S=g("button"),z=ge(P),this.h()},l(b){e=_(b,"DIV",{class:!0});var A=p(e);t=_(A,"DIV",{class:!0});var x=p(t);r=_(x,"DIV",{class:!0}),p(r).forEach(c),n=T(x),o.l(x),x.forEach(c),d=T(A),D=_(A,"DIV",{class:!0});var ee=p(D);V=_(ee,"DIV",{class:!0});var Ce=p(V);h=_(Ce,"P",{class:!0});var N=p(h);O=_e(N,E),N.forEach(c),y=T(Ce),j=_(Ce,"P",{class:!0});var Be=p(j);R=_e(Be,H),Be.forEach(c),Ce.forEach(c),K=T(ee),w=_(ee,"P",{class:!0});var oe=p(w);M=_e(oe,Z),ue=T(oe),J=_(oe,"BR",{}),ae=T(oe),v=_e(oe,Q),oe.forEach(c),ee.forEach(c),A.forEach(c),X=T(b),m=_(b,"DIV",{class:!0});var be=p(m);W=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),Se(W)!=="svelte-1cmzvzk"&&(W.textContent=$),Y=T(be),S=_(be,"BUTTON",{class:!0});var Ie=p(S);z=_e(Ie,P),Ie.forEach(c),be.forEach(c),this.h()},h(){s(r,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(t,"class","flex w-10 h-10 relative justify-center items-center"),s(h,"class","text-[15px] font-semibold truncate"),s(j,"class","text-[15px] font-semibold flex-none"),s(V,"class","w-full flex flex-row justify-center"),s(w,"class","text-[11px] font-normal text-center"),s(D,"class","flex flex-col gap-1.5 text-white"),s(e,"class","flex flex-col w-full h-full justify-center items-center p-[22px] gap-3 border-b-[0.5px] border-[#757475] rounded-[18px_18px_0px_0px]"),s(W,"class","text-[#0C79FE] typo-body3 p-2.5 border-r-[0.5px] border-[#757475] rounded-[0px_0px_0px_18px]"),s(S,"class","text-[#FF4F1E] typo-body3 p-2.5"),s(m,"class","grid grid-flow-col grid-col-2")},m(b,A){te(b,e,A),f(e,t),f(t,r),f(t,n),C[i].m(t,null),f(e,d),f(e,D),f(D,V),f(V,h),f(h,O),f(V,y),f(V,j),f(j,R),f(D,K),f(D,w),f(w,M),f(w,ue),f(w,J),f(w,ae),f(w,v),te(b,X,A),te(b,m,A),f(m,W),f(m,Y),f(m,S),f(S,z),q=!0,u||(a=[fe(W,"click",l[17]),fe(S,"click",l[18])],u=!0)},p(b,A){let x=i;i=F(b),i===x?C[i].p(b,A):($e(),I(C[x],1,1,()=>{C[x]=null}),ke(),o=C[i],o?o.p(b,A):(o=C[i]=B[i](b),o.c()),k(o,1),o.m(t,null)),(!q||A[0]&512)&&E!==(E=b[9].name+"")&&ve(O,E),(!q||A[0]&512)&&H!==(H=b[9].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?")&&ve(R,H),(!q||A[0]&512)&&Z!==(Z=b[9].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ve(M,Z),(!q||A[0]&512)&&Q!==(Q=b[9].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ve(v,Q),(!q||A[0]&512)&&P!==(P=b[9].stage==="delete"?"삭제":"나가기")&&ve(z,P)},i(b){q||(k(o),q=!0)},o(b){I(o),q=!1},d(b){b&&(c(e),c(X),c(m)),C[i].d(),u=!1,Ne(a)}}}function St(l){let e,t;return e=new ct({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function Nt(l){var z,q;let e,t,r,n,i,o,d,D=`${((q=(z=l[2])==null?void 0:z.getClientRects()[0])==null?void 0:q.height)??0}px`,V,h,E,O,y,j,H,R,K,w,Z,M;function ue(u){l[20](u)}let J={position:"sticky",backgroundColor:"bg-black",leftBack:!0,centerTitle:"박스",$$slots:{right:[Mt]},$$scope:{ctx:l}};l[2]!==void 0&&(J.header=l[2]),t=new st({props:J}),Oe.push(()=>je(t,"header",ue));function ae(u){l[21](u)}let Q={round:!0,placeholder:"박스 검색",fontSize:"font-normal text-sm",fontColor:"text-[#757D86]",clear:!0,backgroundColor:"bg-[#383838]/30",onInput:l[11]};l[1]!==void 0&&(Q.value=l[1]),o=new it({props:Q}),Oe.push(()=>je(o,"value",ae));let v=l[0].length===0&&Ge(l),X=Ye(l[3]),m=[];for(let u=0;u<X.length;u+=1)m[u]=Je(qe(l,X,u));const W=u=>I(m[u],1,1,()=>{m[u]=null});y=new ht({});let $=l[9]&&Ke(l),Y=St();function S(u){l[25](u)}let P={};return l[4]!==void 0&&(P.isOpen=l[4]),w=new vt({props:P}),Oe.push(()=>je(w,"isOpen",S)),{c(){e=g("div"),le(t.$$.fragment),n=L(),i=g("section"),le(o.$$.fragment),V=L(),h=g("section"),v&&v.c(),E=L();for(let u=0;u<m.length;u+=1)m[u].c();O=L(),le(y.$$.fragment),H=L(),$&&$.c(),R=L(),Y&&Y.c(),K=L(),le(w.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var a=p(e);ne(t.$$.fragment,a),n=T(a),i=_(a,"SECTION",{class:!0});var B=p(i);ne(o.$$.fragment,B),B.forEach(c),V=T(a),h=_(a,"SECTION",{class:!0});var C=p(h);v&&v.l(C),E=T(C);for(let F=0;F<m.length;F+=1)m[F].l(C);O=T(C),ne(y.$$.fragment,C),C.forEach(c),H=T(a),$&&$.l(a),a.forEach(c),R=T(u),Y&&Y.l(u),K=T(u),ne(w.$$.fragment,u),this.h()},h(){s(i,"class","box-search sticky px-5 py-3 z-10 bg-black"),we(i,"top",D),s(h,"class",j=`box-contents flex flex-col ${l[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`),s(e,"class","box flex flex-col min-h-dvh bg-black")},m(u,a){te(u,e,a),se(t,e,null),f(e,n),f(e,i),se(o,i,null),f(e,V),f(e,h),v&&v.m(h,null),f(h,E);for(let B=0;B<m.length;B+=1)m[B]&&m[B].m(h,null);f(h,O),se(y,h,null),f(e,H),$&&$.m(e,null),te(u,R,a),Y&&Y.m(u,a),te(u,K,a),se(w,u,a),M=!0},p(u,a){var b,A;const B={};a[0]&16|a[1]&32&&(B.$$scope={dirty:a,ctx:u}),!r&&a[0]&4&&(r=!0,B.header=u[2],ye(()=>r=!1)),t.$set(B);const C={};if(!d&&a[0]&2&&(d=!0,C.value=u[1],ye(()=>d=!1)),o.$set(C),a[0]&4&&D!==(D=`${((A=(b=u[2])==null?void 0:b.getClientRects()[0])==null?void 0:A.height)??0}px`)&&we(i,"top",D),u[0].length===0?v?v.p(u,a):(v=Ge(u),v.c(),v.m(h,E)):v&&(v.d(1),v=null),a[0]&127480){X=Ye(u[3]);let x;for(x=0;x<X.length;x+=1){const ee=qe(u,X,x);m[x]?(m[x].p(ee,a),k(m[x],1)):(m[x]=Je(ee),m[x].c(),k(m[x],1),m[x].m(h,O))}for($e(),x=X.length;x<m.length;x+=1)W(x);ke()}(!M||a[0]&8&&j!==(j=`box-contents flex flex-col ${u[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`))&&s(h,"class",j),u[9]?$?($.p(u,a),a[0]&512&&k($,1)):($=Ke(u),$.c(),k($,1),$.m(e,null)):$&&($e(),I($,1,1,()=>{$=null}),ke());const F={};!Z&&a[0]&16&&(Z=!0,F.isOpen=u[4],ye(()=>Z=!1)),w.$set(F)},i(u){if(!M){k(t.$$.fragment,u),k(o.$$.fragment,u);for(let a=0;a<X.length;a+=1)k(m[a]);k(y.$$.fragment,u),k($),k(Y),k(w.$$.fragment,u),M=!0}},o(u){I(t.$$.fragment,u),I(o.$$.fragment,u),m=m.filter(Boolean);for(let a=0;a<m.length;a+=1)I(m[a]);I(y.$$.fragment,u),I($),I(Y),I(w.$$.fragment,u),M=!1},d(u){u&&(c(e),c(R),c(K)),ie(t),ie(o),v&&v.d(),rt(m,u),ie(y),$&&$.d(),Y&&Y.d(u),ie(w,u)}}}const de=64;function Xt(l,e,t){let r;lt(l,Re,a=>t(0,r=a));let n="",i,o=[],d=!1,D=!1;function V(){at()?He("/boxes/-1/setting"):Le.emit("showSignInModal",{removable:!0})}let h;function E(a){clearTimeout(h),h=setTimeout(O,300)}function O(){t(3,o=y())}function y(){return n?r.filter(a=>a.name.includes(n)):r}let j,H=!1,R=-1,K=-1,w;function Z(a,B){w=void 0,t(7,M=0),t(8,J=!1),R=a.touches[0].clientX,K=a.touches[0].clientY,j!==void 0&&j!==B&&t(6,H=!1),t(5,j=B)}let M=0;function ue(a){if(j===void 0)return;let C=a.touches[0].clientX-R,b=a.touches[0].clientY-K;if(w===void 0&&(w=Math.abs(C)-Math.abs(b)>=0,!H&&w&&C>0)){t(5,j=void 0),t(7,M=0);return}if(w){const A=H?de:0,x=H?0:-de;t(7,M=C>A?A:C<x?x:C)}}let J=!1;function ae(a){if(j!==void 0&&w){t(8,J=!0);let B=a.changedTouches[0].clientX-R;(M===0||Math.abs(M)===de)&&(a.stopPropagation(),Q()),B>=de/2?t(6,H=!1):B<=-de/2&&t(6,H=!0),t(7,M=0)}}function Q(){t(8,J=!1)}let v;function X(a,B,C,F){t(9,v={idx:a,name:B,image:C,stage:F==="owner"?"delete":"leave"})}function m(){t(9,v=void 0),t(5,j=void 0),t(6,H=!1)}async function W(){if(!v||d)return;const a=ut();if(!a)return;const B=ft();if(!B)return;d=!0;const C=v.stage==="delete";if(C){if(!(await fetch(`${ot}/boxes/${v.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)return d=!1,Le.emit("pushSnackbar",{message:"권한이 없어 삭제할 수 없습니다."})}else try{await _t({targetTable:"boxes",targetIdx:BigInt(v.idx),subjectIdx:B})}catch{return d=!1,Le.emit("pushSnackbar",{message:"나가기에 실패했습니다. 잠시 후 다시 시도해 주세요."})}Re.update(F=>F=F.filter(b=>b.idx!==v.idx)),Le.emit("pushSnackbar",{message:`${v.name} ${C?"박스를 삭제했습니다.":"박스에서 나갔습니다."}`}),m(),d=!1}const $=async()=>{await He("/search")};function Y(a){i=a,t(2,i)}function S(a){n=a,t(1,n)}const P=a=>{X(a.idx,a.name,a.image,a.role)},z=(a,B)=>Z(B,a.idx),q=a=>He(`/boxes/${a.idx}`);function u(a){D=a,t(4,D)}return l.$$.update=()=>{l.$$.dirty[0]&1&&r&&O()},[r,n,i,o,D,j,H,M,J,v,V,E,Z,ue,ae,Q,X,m,W,$,Y,S,P,z,q,u]}class ir extends De{constructor(e){super(),Ee(this,e,Xt,Nt,xe,{},null,[-1,-1])}}export{ir as component};
