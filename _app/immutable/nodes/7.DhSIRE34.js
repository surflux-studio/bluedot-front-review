import{s as z,a as w,e as H,g as C,c as M,b as j,f as $,l as q,i as k,k as T,n as U,t as P,d as D}from"../chunks/scheduler.BRtuPHcG.js";import{S as V,i as W,c as p,a as _,m as g,t as c,b as u,d as b}from"../chunks/index.B4yC_IY0.js";import{g as B}from"../chunks/entry.BiFNfNKk.js";import{F as I}from"../chunks/Footer.9RfCLaiB.js";import{H as S}from"../chunks/Header.Bwy9bDXz.js";import{M as G}from"../chunks/Map.M0gWhXy7.js";import{N as J}from"../chunks/NavigationBar.DHPdVj_8.js";import{B as N}from"../chunks/Button.05qNbzII.js";import{g as K}from"../chunks/searchParams.BD6fXk-L.js";import{e as L}from"../chunks/emitter.E5P-NQ8u.js";import{p as O}from"../chunks/stores.GOrYKYAx.js";function Q(a){let t,r;return t=new S({props:{position:"fixed",rightFeed:!0}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,s){g(t,e,s),r=!0},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){u(t.$$.fragment,e),r=!1},d(e){b(t,e)}}}function X(a){let t,r;return t=new S({props:{position:"fixed",leftBack:!0}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,s){g(t,e,s),r=!0},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){u(t.$$.fragment,e),r=!1},d(e){b(t,e)}}}function Y(a){let t,r;return t=new I({props:{position:"fixed",leftReposition:!0,centerSearch:!0,right:"add"}}),t.$on("click",a[3]),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,s){g(t,e,s),r=!0},p:U,i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){u(t.$$.fragment,e),r=!1},d(e){b(t,e)}}}function Z(a){let t,r;return t=new I({props:{position:"fixed",bottom:"2rem",$$slots:{default:[re]},$$scope:{ctx:a}}}),{c(){p(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,s){g(t,e,s),r=!0},p(e,s){const n={};s&32&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){u(t.$$.fragment,e),r=!1},d(e){b(t,e)}}}function ee(a){let t;return{c(){t=P("이 장소가 아니예요")},l(r){t=D(r,"이 장소가 아니예요")},m(r,e){k(r,t,e)},d(r){r&&$(t)}}}function te(a){let t;return{c(){t=P("이 장소가 맞아요")},l(r){t=D(r,"이 장소가 맞아요")},m(r,e){k(r,t,e)},d(r){r&&$(t)}}}function re(a){let t,r,e,s;return t=new N({props:{backgroundColor:"bg-gray-300",textColor:"text-white",$$slots:{default:[ee]},$$scope:{ctx:a}}}),t.$on("click",a[2]),e=new N({props:{backgroundColor:"bg-primary-500",textColor:"text-white",$$slots:{default:[te]},$$scope:{ctx:a}}}),e.$on("click",a[1]),{c(){p(t.$$.fragment),r=w(),p(e.$$.fragment)},l(n){_(t.$$.fragment,n),r=C(n),_(e.$$.fragment,n)},m(n,f){g(t,n,f),k(n,r,f),g(e,n,f),s=!0},p(n,f){const m={};f&32&&(m.$$scope={dirty:f,ctx:n}),t.$set(m);const i={};f&32&&(i.$$scope={dirty:f,ctx:n}),e.$set(i)},i(n){s||(c(t.$$.fragment,n),c(e.$$.fragment,n),s=!0)},o(n){u(t.$$.fragment,n),u(e.$$.fragment,n),s=!1},d(n){n&&$(r),b(t,n),b(e,n)}}}function oe(a){let t,r,e,s,n,f,m,i,h,d,x;const A=[X,Q],y=[];function E(o,l){return o[0]==="post"||o[0]==="box"?0:1}t=E(a),r=y[t]=A[t](a),n=new G({});const F=[Z,Y],v=[];function R(o,l){return o[0]==="post"||o[0]==="box"?0:1}return m=R(a),i=v[m]=F[m](a),d=new J({props:{show:a[0]!=="post"}}),{c(){r.c(),e=w(),s=H("div"),p(n.$$.fragment),f=w(),i.c(),h=w(),p(d.$$.fragment),this.h()},l(o){r.l(o),e=C(o),s=M(o,"DIV",{class:!0});var l=j(s);_(n.$$.fragment,l),l.forEach($),f=C(o),i.l(o),h=C(o),_(d.$$.fragment,o),this.h()},h(){q(s,"class","fixed top-0 left-0 w-full h-full")},m(o,l){y[t].m(o,l),k(o,e,l),k(o,s,l),g(n,s,null),k(o,f,l),v[m].m(o,l),k(o,h,l),g(d,o,l),x=!0},p(o,[l]){i.p(o,l)},i(o){x||(c(r),c(n.$$.fragment,o),c(i),c(d.$$.fragment,o),x=!0)},o(o){u(r),u(n.$$.fragment,o),u(i),u(d.$$.fragment,o),x=!1},d(o){o&&($(e),$(s),$(f),$(h)),y[t].d(o),b(n),v[m].d(o),b(d,o)}}}function ne(a,t,r){let e;T(a,O,i=>r(4,e=i));const s=e.url.searchParams.get("type");async function n(){if(s==="box"){const i=Number(e.url.searchParams.get("boxIdx"));if(Number.isNaN(i)||!i)return B("/boxes");(await fetch(`https://azit.surflux.studio/boxes/${i}/places/${e.url.searchParams.get("placeIdx")}`,{method:"PUT",headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}})).ok||L.emit("pushSnackbar",{message:"장소 추가에 실패했습니다."}),B(`/boxes/${i}/detail`)}else s==="post"&&K("/viewer/edit")}return[s,n,()=>window.history.back(),()=>{B("/map/search")}]}class ge extends V{constructor(t){super(),W(this,t,ne,oe,z,{})}}export{ge as component};
