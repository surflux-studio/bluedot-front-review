import{s as xe,q as ce,r as he,b as p,f as c,v as s,i as te,h as f,n as re,w as ye,e as g,a as M,c as _,g as T,C as we,x as je,M as lt,k as nt,z as He,A as fe,t as ge,d as _e,H as st,j as ve,F as Xe}from"../chunks/scheduler.CIbz-4tf.js";import{S as Ee,i as De,b as Ne,c as le,d as ne,m as se,t as $,e as ke,a as I,f as oe,g as $e}from"../chunks/index.gvaMc9LH.js";import{e as Re}from"../chunks/each.Cdd7o6io.js";import{g as Se}from"../chunks/entry.DrL1VMu_.js";import{H as ot}from"../chunks/Header.Dpser1X3.js";import{F as it}from"../chunks/Field.sEKQ2dwN.js";import{I as Te,s as qe,e as Me,A as at}from"../chunks/store.Db8T8Crr.js";import{i as ut,g as ft,a as ct}from"../chunks/sign.KpCItXCb.js";import{N as ht}from"../chunks/NavigationBar.D2cxJtzZ.js";import{s as Oe}from"../chunks/s32cloudfront.B_T3Ab_x.js";import{B as dt}from"../chunks/BottomNavigationPadder.C4NGb20C.js";import{C as et}from"../chunks/CircleImage.CZpdYjea.js";import{I as mt}from"../chunks/IconDelete.BvE9KawD.js";import{M as pt}from"../chunks/Modal.BEFi8uQC.js";import{I as gt}from"../chunks/IconAdd.PrfhF7dI.js";import{I as _t}from"../chunks/IconSearch.Deap0mXU.js";import{u as vt}from"../chunks/follow.DfKPA7ky.js";import{A as Ct}from"../chunks/ActionSheetOpenApp.BzPcHSBr.js";function bt(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=p(e);t=he(n,"path",{d:!0}),p(t).forEach(c),n.forEach(c),this.h()},h(){s(t,"d","M5.29289 10.4018C5.68342 10.7924 6.31658 10.7924 6.70711 10.4018L8.8875 8.22144C9.5 7.50049 9.84738 6.92278 10.0049 6.1307C10.1624 5.33862 10.0815 4.51762 9.77247 3.77151C9.4634 3.02541 8.94003 2.3877 8.26854 1.93904C7.59704 1.49037 6.80759 1.2509 6 1.2509C5.19241 1.2509 4.40296 1.49037 3.73147 1.93904C3.05998 2.3877 2.5366 3.02541 2.22753 3.77151C1.91846 4.51762 1.83758 5.33862 1.9951 6.1307C2.15262 6.92278 2.5 7.50049 3.1125 8.22144L5.29289 10.4018ZM6.70711 12.0515C6.31658 12.442 5.68342 12.442 5.29289 12.0515L2.28767 9.04627C1.55345 8.31205 1.05344 7.37658 0.850875 6.35819C0.648308 5.33979 0.752279 4.28419 1.14964 3.32488C1.547 2.36557 2.21991 1.54564 3.08327 0.968765C3.94662 0.39189 4.96165 0.0839844 6 0.0839844C7.03835 0.0839844 8.05338 0.39189 8.91674 0.968765C9.7801 1.54564 10.453 2.36557 10.8504 3.32488C11.2477 4.28419 11.3517 5.33979 11.1491 6.35819C10.9466 7.37658 10.4466 8.31205 9.71234 9.04627L6.70711 12.0515ZM6 6.50061C6.30942 6.50061 6.60617 6.37769 6.82496 6.1589C7.04375 5.9401 7.16667 5.64336 7.16667 5.33394C7.16667 5.02452 7.04375 4.72777 6.82496 4.50898C6.60617 4.29019 6.30942 4.16727 6 4.16727C5.69058 4.16727 5.39384 4.29019 5.17504 4.50898C4.95625 4.72777 4.83334 5.02452 4.83334 5.33394C4.83334 5.64336 4.95625 5.9401 5.17504 6.1589C5.39384 6.37769 5.69058 6.50061 6 6.50061ZM6 7.66727C5.38116 7.66727 4.78767 7.42144 4.35009 6.98386C3.9125 6.54627 3.66667 5.95278 3.66667 5.33394C3.66667 4.7151 3.9125 4.12161 4.35009 3.68402C4.78767 3.24644 5.38116 3.00061 6 3.00061C6.61884 3.00061 7.21233 3.24644 7.64992 3.68402C8.0875 4.12161 8.33333 4.7151 8.33333 5.33394C8.33333 5.95278 8.0875 6.54627 7.64992 6.98386C7.21233 7.42144 6.61884 7.66727 6 7.66727Z"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 12 13"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){te(r,e,n),f(e,t)},p(r,[n]){n&1&&s(e,"width",r[0]),n&2&&s(e,"height",r[1]),n&4&&s(e,"fill",r[2])},i:re,o:re,d(r){r&&c(e)}}}function wt(l,e,t){let{width:r=12}=e,{height:n=13}=e,{fill:o="#B3B8BD"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class kt extends Ee{constructor(e){super(),De(this,e,wt,bt,xe,{width:0,height:1,fill:2})}}function $t(l){let e,t,r,n,o;return{c(){e=ce("svg"),t=ce("path"),r=ce("path"),n=ce("path"),o=ce("path"),this.h()},l(i){e=he(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var d=p(e);t=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(t).forEach(c),r=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),p(r).forEach(c),n=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(n).forEach(c),o=he(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"stroke-linecap":!0}),p(o).forEach(c),d.forEach(c),this.h()},h(){s(t,"d","M10.9921 5.09375C10.912 6.20582 10.087 7.0625 9.1874 7.0625C8.28779 7.0625 7.46147 6.20609 7.38272 5.09375C7.30069 3.93684 8.10377 3.125 9.1874 3.125C10.271 3.125 11.0741 3.95789 10.9921 5.09375Z"),s(t,"stroke","#B3B8BD"),s(t,"stroke-width","0.875"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(r,"d","M9.18739 8.8125C7.4054 8.8125 5.69177 9.69762 5.26247 11.4214C5.20559 11.6494 5.3486 11.875 5.58294 11.875H12.7921C13.0265 11.875 13.1686 11.6494 13.1126 11.4214C12.6833 9.67 10.9697 8.8125 9.18739 8.8125Z"),s(r,"stroke","#B3B8BD"),s(r,"stroke-width","0.875"),s(r,"stroke-miterlimit","10"),s(n,"d","M5.46889 5.5843C5.4049 6.47242 4.73826 7.17188 4.01967 7.17188C3.30108 7.17188 2.63334 6.4727 2.57045 5.5843C2.5051 4.66035 3.15397 4 4.01967 4C4.88537 4 5.53424 4.6773 5.46889 5.5843Z"),s(n,"stroke","#B3B8BD"),s(n,"stroke-width","0.875"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(o,"d","M5.63259 8.86777C5.13904 8.64164 4.59544 8.55469 4.01931 8.55469C2.59744 8.55469 1.22751 9.26152 0.884349 10.6383C0.839232 10.8204 0.953529 11.0006 1.14056 11.0006H4.21072"),s(o,"stroke","#B3B8BD"),s(o,"stroke-width","0.875"),s(o,"stroke-miterlimit","10"),s(o,"stroke-linecap","round"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 14 15"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(i,d){te(i,e,d),f(e,t),f(e,r),f(e,n),f(e,o)},p(i,[d]){d&1&&s(e,"width",i[0]),d&2&&s(e,"height",i[1]),d&4&&s(e,"fill",i[2])},i:re,o:re,d(i){i&&c(e)}}}function Bt(l,e,t){let{width:r=14}=e,{height:n=15}=e,{fill:o="none"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class xt extends Ee{constructor(e){super(),De(this,e,Bt,$t,xe,{width:0,height:1,fill:2})}}function Et(l){let e,t,r;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(n){e=he(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=p(e);t=he(o,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),p(t).forEach(c),o.forEach(c),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"clip-rule","evenodd"),s(t,"d","M6.3606 3.24177C6.59269 3.11426 6.75 2.8675 6.75 2.58398C6.75 2.16975 6.41421 1.83398 6 1.83398C5.58579 1.83398 5.25 2.16975 5.25 2.58398C5.25 2.86755 5.40736 3.11434 5.63951 3.24183L4.18809 5.85343C4.17304 5.87497 4.20214 5.83188 4.18809 5.85343C3.9551 6.21086 3.75 6.52148 3.75 6.52148C3.73755 6.51285 3.76286 6.52552 3.74935 6.51852L2.09706 5.66295C2.19302 5.53693 2.25 5.37961 2.25 5.20898C2.25 4.79475 1.91421 4.45898 1.5 4.45898C1.08579 4.45898 0.75 4.79475 0.75 5.20898C0.75 5.49229 0.907074 5.7389 1.13888 5.86648L2.03233 10.5354C2.06554 10.7089 2.21254 10.834 2.38335 10.834H4.8194L4.82498 10.8339L7.78924 10.834L7.7941 10.834H9.61665C9.78746 10.834 9.93446 10.7089 9.96766 10.5354L10.8611 5.86648C11.0929 5.7389 11.25 5.49229 11.25 5.20898C11.25 4.79475 10.9142 4.45898 10.5 4.45898C10.0858 4.45898 9.75 4.79475 9.75 5.20898C9.75 5.37961 9.80698 5.53693 9.90294 5.66295L8.25065 6.51852C8.23553 6.52635 8.22104 6.53524 8.20726 6.5451L6.3606 3.24177Z"),s(t,"fill",r=l[0]==="owner"?"#FF7A00":"#1FCA70"),s(e,"width","12"),s(e,"height","13"),s(e,"viewBox","0 0 12 13"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,o){te(n,e,o),f(e,t)},p(n,[o]){o&1&&r!==(r=n[0]==="owner"?"#FF7A00":"#1FCA70")&&s(t,"fill",r)},i:re,o:re,d(n){n&&c(e)}}}function Dt(l,e,t){let{type:r="owner"}=e;return l.$$set=n=>{"type"in n&&t(0,r=n.type)},[r]}class It extends Ee{constructor(e){super(),De(this,e,Dt,Et,xe,{type:0})}}function Lt(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=p(e);t=he(n,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(t).forEach(c),n.forEach(c),this.h()},h(){s(t,"d","M15 4.00195H5V18.002C5 18.5324 5.21071 19.0411 5.58579 19.4162C5.96086 19.7912 6.46957 20.002 7 20.002H15M16 15.002L19 12.002M19 12.002L16 9.00195M19 12.002H9"),s(t,"stroke",l[0]),s(t,"stroke-width","2"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(e,"width","24"),s(e,"height","24"),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){te(r,e,n),f(e,t)},p(r,[n]){n&1&&s(t,"stroke",r[0])},i:re,o:re,d(r){r&&c(e)}}}function Vt(l,e,t){let{strokeColor:r="white"}=e;return l.$$set=n=>{"strokeColor"in n&&t(0,r=n.strokeColor)},[r]}class At extends Ee{constructor(e){super(),De(this,e,Vt,Lt,xe,{strokeColor:0})}}function Ge(l,e,t){const r=l.slice();return r[33]=e[t],r[35]=t,r}function Ft(l){let e,t,r,n,o,i,d,w,L;return r=new _t({props:{width:"24",height:"24"}}),i=new gt({props:{width:"24",height:"24"}}),{c(){e=g("div"),t=g("button"),le(r.$$.fragment),n=M(),o=g("button"),le(i.$$.fragment),this.h()},l(h){e=_(h,"DIV",{slot:!0,class:!0});var D=p(e);t=_(D,"BUTTON",{});var O=p(t);ne(r.$$.fragment,O),O.forEach(c),n=T(D),o=_(D,"BUTTON",{});var y=p(o);ne(i.$$.fragment,y),y.forEach(c),D.forEach(c),this.h()},h(){s(e,"slot","right"),s(e,"class","flex items-center gap-2")},m(h,D){te(h,e,D),f(e,t),se(r,t,null),f(e,n),f(e,o),se(i,o,null),d=!0,w||(L=[fe(t,"click",l[19]),fe(o,"click",l[10])],w=!0)},p:re,i(h){d||($(r.$$.fragment,h),$(i.$$.fragment,h),d=!0)},o(h){I(r.$$.fragment,h),I(i.$$.fragment,h),d=!1},d(h){h&&c(e),oe(r),oe(i),w=!1,Xe(L)}}}function We(l){let e,t,r="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어 보세요!",n,o,i="새 박스 만들기",d,w;return{c(){e=g("div"),t=g("p"),t.innerHTML=r,n=M(),o=g("button"),o.textContent=i,this.h()},l(L){e=_(L,"DIV",{class:!0});var h=p(e);t=_(h,"P",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-kmfbm7"&&(t.innerHTML=r),n=T(h),o=_(h,"BUTTON",{class:!0,"data-svelte-h":!0}),He(o)!=="svelte-ap04k6"&&(o.textContent=i),h.forEach(c),this.h()},h(){s(t,"class","font-normal text-sm text-[#B3B8BD] text-center"),s(o,"class","px-3 py-2.5 bg-[#383838]/30 border border-[#383838]/30 rounded-[50px] font-normal text-xs text-[#B3B8BD]"),s(e,"class","flex flex-col gap-3.5 px-5 items-center")},m(L,h){te(L,e,h),f(e,t),f(e,n),f(e,o),d||(w=fe(o,"click",l[10]),d=!0)},p:re,d(L){L&&c(e),d=!1,w()}}}function Mt(l){let e;return{c(){e=g("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){te(t,e,r)},p:re,i:re,o:re,d(t){t&&c(e)}}}function Tt(l){let e,t;return e=new et({props:{src:Oe(l[33].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&8&&(o.src=Oe(r[33].image??"",500)),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Je(l){let e,t,r;return t=new It({props:{type:l[33].role}}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var o=p(e);ne(t.$$.fragment,o),o.forEach(c),this.h()},h(){s(e,"class","absolute bottom-0 right-0 bg-[#FFF5F0] w-4 h-4 rounded-full flex justify-center items-center")},m(n,o){te(n,e,o),se(t,e,null),r=!0},p(n,o){const i={};o[0]&8&&(i.type=n[33].role),t.$set(i)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){I(t.$$.fragment,n),r=!1},d(n){n&&c(e),oe(t)}}}function Ot(l){let e,t;return e=new At({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function yt(l){let e,t;return e=new mt({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Ke(l){let e,t,r,n,o,i,d,w,L,h,D,O,y,j,N,R=l[33].place_count+"",K,k,Z,A,ue,J,ae=l[33].follower_count+"",Q,v,X,m,W=l[33].name+"",B,Y,S,P,z,q,u=`${de}px`,a=`${de}px`,x=`-${de}px`,C,V,b,F;const E=[Tt,Mt],ee=[];function Ce(G,U){return G[33].image?0:1}i=Ce(l),d=ee[i]=E[i](l);let H=l[33].role==="owner"&&Je(l);y=new kt({}),A=new xt({});const Be=[yt,Ot],ie=[];function be(G,U){return G[33].role==="owner"?0:1}P=be(l),z=ie[P]=Be[P](l);function Ie(){return l[22](l[33])}function tt(...G){return l[23](l[33],...G)}function rt(){return l[24](l[33])}return{c(){e=g("div"),t=g("div"),r=g("div"),n=g("div"),o=M(),d.c(),w=M(),H&&H.c(),L=M(),h=g("div"),D=g("div"),O=g("div"),le(y.$$.fragment),j=M(),N=g("div"),K=ge(R),k=M(),Z=g("div"),le(A.$$.fragment),ue=M(),J=g("div"),Q=ge(ae),v=M(),X=g("div"),m=g("div"),B=ge(W),Y=M(),S=g("button"),z.c(),this.h()},l(G){e=_(G,"DIV",{class:!0,"aria-hidden":!0});var U=p(e);t=_(U,"DIV",{class:!0});var me=p(t);r=_(me,"DIV",{class:!0});var pe=p(r);n=_(pe,"DIV",{class:!0}),p(n).forEach(c),o=T(pe),d.l(pe),pe.forEach(c),w=T(me),H&&H.l(me),me.forEach(c),L=T(U),h=_(U,"DIV",{class:!0});var Le=p(h);D=_(Le,"DIV",{class:!0});var Ve=p(D);O=_(Ve,"DIV",{class:!0});var Ae=p(O);ne(y.$$.fragment,Ae),j=T(Ae),N=_(Ae,"DIV",{});var Pe=p(N);K=_e(Pe,R),Pe.forEach(c),Ae.forEach(c),k=T(Ve),Z=_(Ve,"DIV",{class:!0});var Fe=p(Z);ne(A.$$.fragment,Fe),ue=T(Fe),J=_(Fe,"DIV",{});var Ze=p(J);Q=_e(Ze,ae),Ze.forEach(c),Fe.forEach(c),Ve.forEach(c),v=T(Le),X=_(Le,"DIV",{class:!0});var ze=p(X);m=_(ze,"DIV",{class:!0});var Ue=p(m);B=_e(Ue,W),Ue.forEach(c),ze.forEach(c),Le.forEach(c),Y=T(U),S=_(U,"BUTTON",{class:!0});var Ye=p(S);z.l(Ye),Ye.forEach(c),U.forEach(c),this.h()},h(){s(n,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(r,"class","flex w-full h-full justify-center items-center"),s(t,"class","flex-none w-10 h-10 relative"),s(O,"class","flex flex-row gap-0.5 items-center"),s(Z,"class","flex flex-row gap-0.5 items-center"),s(D,"class","flex flex-row gap-1.5 text-[#B3B8BD] font-normal text-xs"),s(m,"class","typo-body3 text-white truncate"),s(X,"class","w-full flex flex-row gap-2"),s(h,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),s(S,"class",q="absolute flex justify-center items-center "+(l[33].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")),we(S,"width",u),we(S,"height",a),we(S,"right",x),s(e,"class",C=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[5]===l[33].idx&&!l[8]?"":"transition-transform"}`),s(e,"aria-hidden",""),we(e,"transform",`translateX(${l[5]===l[33].idx?l[6]?-de+l[7]:l[7]:0}px)`)},m(G,U){te(G,e,U),f(e,t),f(t,r),f(r,n),f(r,o),ee[i].m(r,null),f(t,w),H&&H.m(t,null),f(e,L),f(e,h),f(h,D),f(D,O),se(y,O,null),f(O,j),f(O,N),f(N,K),f(D,k),f(D,Z),se(A,Z,null),f(Z,ue),f(Z,J),f(J,Q),f(h,v),f(h,X),f(X,m),f(m,B),f(e,Y),f(e,S),ie[P].m(S,null),V=!0,b||(F=[fe(S,"click",st(Ie)),fe(e,"touchstart",tt),fe(e,"touchmove",l[13]),fe(e,"touchend",l[14]),fe(e,"transitionend",l[15]),fe(e,"click",rt)],b=!0)},p(G,U){l=G;let me=i;i=Ce(l),i===me?ee[i].p(l,U):($e(),I(ee[me],1,1,()=>{ee[me]=null}),ke(),d=ee[i],d?d.p(l,U):(d=ee[i]=E[i](l),d.c()),$(d,1),d.m(r,null)),l[33].role==="owner"?H?(H.p(l,U),U[0]&8&&$(H,1)):(H=Je(l),H.c(),$(H,1),H.m(t,null)):H&&($e(),I(H,1,1,()=>{H=null}),ke()),(!V||U[0]&8)&&R!==(R=l[33].place_count+"")&&ve(K,R),(!V||U[0]&8)&&ae!==(ae=l[33].follower_count+"")&&ve(Q,ae),(!V||U[0]&8)&&W!==(W=l[33].name+"")&&ve(B,W);let pe=P;P=be(l),P!==pe&&($e(),I(ie[pe],1,1,()=>{ie[pe]=null}),ke(),z=ie[P],z||(z=ie[P]=Be[P](l),z.c()),$(z,1),z.m(S,null)),(!V||U[0]&8&&q!==(q="absolute flex justify-center items-center "+(l[33].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")))&&s(S,"class",q),(!V||U[0]&296&&C!==(C=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[5]===l[33].idx&&!l[8]?"":"transition-transform"}`))&&s(e,"class",C),U[0]&232&&we(e,"transform",`translateX(${l[5]===l[33].idx?l[6]?-de+l[7]:l[7]:0}px)`)},i(G){V||($(d),$(H),$(y.$$.fragment,G),$(A.$$.fragment,G),$(z),V=!0)},o(G){I(d),I(H),I(y.$$.fragment,G),I(A.$$.fragment,G),I(z),V=!1},d(G){G&&c(e),ee[i].d(),H&&H.d(),oe(y),oe(A),ie[P].d(),b=!1,Xe(F)}}}function Qe(l){let e,t;return e=new pt({props:{modalVisible:!0,backgroundColor:"bg-[rgba(56,56,56,0.8)]",padding:"",shadow:"",filter:"",closeModal:l[17],$$slots:{default:[St]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&512|n[1]&32&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function jt(l){let e;return{c(){e=g("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){te(t,e,r)},p:re,i:re,o:re,d(t){t&&c(e)}}}function Nt(l){let e,t;return e=new et({props:{src:Oe(l[9].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},p(r,n){const o={};n[0]&512&&(o.src=Oe(r[9].image??"",500)),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function St(l){let e,t,r,n,o,i,d,w,L,h,D=l[9].name+"",O,y,j,N=l[9].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?",R,K,k,Z=l[9].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",A,ue,J,ae,Q=l[9].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",v,X,m,W,B="취소",Y,S,P=l[9].stage==="delete"?"삭제":"나가기",z,q,u,a;const x=[Nt,jt],C=[];function V(b,F){return b[9].image?0:1}return o=V(l),i=C[o]=x[o](l),{c(){e=g("div"),t=g("div"),r=g("div"),n=M(),i.c(),d=M(),w=g("div"),L=g("div"),h=g("p"),O=ge(D),y=M(),j=g("p"),R=ge(N),K=M(),k=g("p"),A=ge(Z),ue=M(),J=g("br"),ae=M(),v=ge(Q),X=M(),m=g("div"),W=g("button"),W.textContent=B,Y=M(),S=g("button"),z=ge(P),this.h()},l(b){e=_(b,"DIV",{class:!0});var F=p(e);t=_(F,"DIV",{class:!0});var E=p(t);r=_(E,"DIV",{class:!0}),p(r).forEach(c),n=T(E),i.l(E),E.forEach(c),d=T(F),w=_(F,"DIV",{class:!0});var ee=p(w);L=_(ee,"DIV",{class:!0});var Ce=p(L);h=_(Ce,"P",{class:!0});var H=p(h);O=_e(H,D),H.forEach(c),y=T(Ce),j=_(Ce,"P",{class:!0});var Be=p(j);R=_e(Be,N),Be.forEach(c),Ce.forEach(c),K=T(ee),k=_(ee,"P",{class:!0});var ie=p(k);A=_e(ie,Z),ue=T(ie),J=_(ie,"BR",{}),ae=T(ie),v=_e(ie,Q),ie.forEach(c),ee.forEach(c),F.forEach(c),X=T(b),m=_(b,"DIV",{class:!0});var be=p(m);W=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),He(W)!=="svelte-1cmzvzk"&&(W.textContent=B),Y=T(be),S=_(be,"BUTTON",{class:!0});var Ie=p(S);z=_e(Ie,P),Ie.forEach(c),be.forEach(c),this.h()},h(){s(r,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(t,"class","flex w-10 h-10 relative justify-center items-center"),s(h,"class","text-[15px] font-semibold truncate"),s(j,"class","text-[15px] font-semibold flex-none"),s(L,"class","w-full flex flex-row justify-center"),s(k,"class","text-[11px] font-normal text-center"),s(w,"class","flex flex-col gap-1.5 text-white"),s(e,"class","flex flex-col w-full h-full justify-center items-center p-[22px] gap-3 border-b-[0.5px] border-[#757475] rounded-[18px_18px_0px_0px]"),s(W,"class","text-[#0C79FE] typo-body3 p-2.5 border-r-[0.5px] border-[#757475] rounded-[0px_0px_0px_18px]"),s(S,"class","text-[#FF4F1E] typo-body3 p-2.5"),s(m,"class","grid grid-flow-col grid-col-2")},m(b,F){te(b,e,F),f(e,t),f(t,r),f(t,n),C[o].m(t,null),f(e,d),f(e,w),f(w,L),f(L,h),f(h,O),f(L,y),f(L,j),f(j,R),f(w,K),f(w,k),f(k,A),f(k,ue),f(k,J),f(k,ae),f(k,v),te(b,X,F),te(b,m,F),f(m,W),f(m,Y),f(m,S),f(S,z),q=!0,u||(a=[fe(W,"click",l[17]),fe(S,"click",l[18])],u=!0)},p(b,F){let E=o;o=V(b),o===E?C[o].p(b,F):($e(),I(C[E],1,1,()=>{C[E]=null}),ke(),i=C[o],i?i.p(b,F):(i=C[o]=x[o](b),i.c()),$(i,1),i.m(t,null)),(!q||F[0]&512)&&D!==(D=b[9].name+"")&&ve(O,D),(!q||F[0]&512)&&N!==(N=b[9].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?")&&ve(R,N),(!q||F[0]&512)&&Z!==(Z=b[9].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ve(A,Z),(!q||F[0]&512)&&Q!==(Q=b[9].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ve(v,Q),(!q||F[0]&512)&&P!==(P=b[9].stage==="delete"?"삭제":"나가기")&&ve(z,P)},i(b){q||($(i),q=!0)},o(b){I(i),q=!1},d(b){b&&(c(e),c(X),c(m)),C[o].d(),u=!1,Xe(a)}}}function Ht(l){let e,t;return e=new ht({}),{c(){le(e.$$.fragment)},l(r){ne(e.$$.fragment,r)},m(r,n){se(e,r,n),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){oe(e,r)}}}function Xt(l){var z,q;let e,t,r,n,o,i,d,w=`${((q=(z=l[2])==null?void 0:z.getClientRects()[0])==null?void 0:q.height)??0}px`,L,h,D,O,y,j,N,R,K,k,Z,A;function ue(u){l[20](u)}let J={position:"sticky",backgroundColor:"bg-black",leftBack:!0,centerTitle:"박스",$$slots:{right:[Ft]},$$scope:{ctx:l}};l[2]!==void 0&&(J.header=l[2]),t=new ot({props:J}),ye.push(()=>Ne(t,"header",ue));function ae(u){l[21](u)}let Q={round:!0,placeholder:"박스 검색",fontSize:"font-normal text-sm",fontColor:"text-[#757D86]",clear:!0,backgroundColor:"bg-[#383838]/30",onInput:l[11]};l[1]!==void 0&&(Q.value=l[1]),i=new it({props:Q}),ye.push(()=>Ne(i,"value",ae));let v=l[0].length===0&&We(l),X=Re(l[3]),m=[];for(let u=0;u<X.length;u+=1)m[u]=Ke(Ge(l,X,u));const W=u=>I(m[u],1,1,()=>{m[u]=null});y=new dt({});let B=l[9]&&Qe(l),Y=!Te&&Ht();function S(u){l[25](u)}let P={};return l[4]!==void 0&&(P.isOpen=l[4]),k=new Ct({props:P}),ye.push(()=>Ne(k,"isOpen",S)),{c(){e=g("div"),le(t.$$.fragment),n=M(),o=g("section"),le(i.$$.fragment),L=M(),h=g("section"),v&&v.c(),D=M();for(let u=0;u<m.length;u+=1)m[u].c();O=M(),le(y.$$.fragment),N=M(),B&&B.c(),R=M(),Y&&Y.c(),K=M(),le(k.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var a=p(e);ne(t.$$.fragment,a),n=T(a),o=_(a,"SECTION",{class:!0});var x=p(o);ne(i.$$.fragment,x),x.forEach(c),L=T(a),h=_(a,"SECTION",{class:!0});var C=p(h);v&&v.l(C),D=T(C);for(let V=0;V<m.length;V+=1)m[V].l(C);O=T(C),ne(y.$$.fragment,C),C.forEach(c),N=T(a),B&&B.l(a),a.forEach(c),R=T(u),Y&&Y.l(u),K=T(u),ne(k.$$.fragment,u),this.h()},h(){s(o,"class","box-search sticky px-5 py-3 z-10 bg-black"),we(o,"top",w),s(h,"class",j=`box-contents flex flex-col ${l[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`),s(e,"class","box flex flex-col min-h-dvh bg-black")},m(u,a){te(u,e,a),se(t,e,null),f(e,n),f(e,o),se(i,o,null),f(e,L),f(e,h),v&&v.m(h,null),f(h,D);for(let x=0;x<m.length;x+=1)m[x]&&m[x].m(h,null);f(h,O),se(y,h,null),f(e,N),B&&B.m(e,null),te(u,R,a),Y&&Y.m(u,a),te(u,K,a),se(k,u,a),A=!0},p(u,a){var b,F;const x={};a[0]&16|a[1]&32&&(x.$$scope={dirty:a,ctx:u}),!r&&a[0]&4&&(r=!0,x.header=u[2],je(()=>r=!1)),t.$set(x);const C={};if(!d&&a[0]&2&&(d=!0,C.value=u[1],je(()=>d=!1)),i.$set(C),a[0]&4&&w!==(w=`${((F=(b=u[2])==null?void 0:b.getClientRects()[0])==null?void 0:F.height)??0}px`)&&we(o,"top",w),u[0].length===0?v?v.p(u,a):(v=We(u),v.c(),v.m(h,D)):v&&(v.d(1),v=null),a[0]&127480){X=Re(u[3]);let E;for(E=0;E<X.length;E+=1){const ee=Ge(u,X,E);m[E]?(m[E].p(ee,a),$(m[E],1)):(m[E]=Ke(ee),m[E].c(),$(m[E],1),m[E].m(h,O))}for($e(),E=X.length;E<m.length;E+=1)W(E);ke()}(!A||a[0]&8&&j!==(j=`box-contents flex flex-col ${u[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`))&&s(h,"class",j),u[9]?B?(B.p(u,a),a[0]&512&&$(B,1)):(B=Qe(u),B.c(),$(B,1),B.m(e,null)):B&&($e(),I(B,1,1,()=>{B=null}),ke());const V={};!Z&&a[0]&16&&(Z=!0,V.isOpen=u[4],je(()=>Z=!1)),k.$set(V)},i(u){if(!A){$(t.$$.fragment,u),$(i.$$.fragment,u);for(let a=0;a<X.length;a+=1)$(m[a]);$(y.$$.fragment,u),$(B),$(Y),$(k.$$.fragment,u),A=!0}},o(u){I(t.$$.fragment,u),I(i.$$.fragment,u),m=m.filter(Boolean);for(let a=0;a<m.length;a+=1)I(m[a]);I(y.$$.fragment,u),I(B),I(Y),I(k.$$.fragment,u),A=!1},d(u){u&&(c(e),c(R),c(K)),oe(t),oe(i),v&&v.d(),lt(m,u),oe(y),B&&B.d(),Y&&Y.d(u),oe(k,u)}}}const de=64;function Pt(l,e,t){let r;nt(l,qe,a=>t(0,r=a));let n="",o,i=[],d=!1,w=!1;function L(){if(Te)return t(4,w=!0);ut()?Se("/boxes/-1/setting"):Me.emit("showSignInModal",{removable:!0})}let h;function D(a){clearTimeout(h),h=setTimeout(O,300)}function O(){t(3,i=y())}function y(){return n?r.filter(a=>a.name.includes(n)):r}let j,N=!1,R=-1,K=-1,k;function Z(a,x){k=void 0,t(7,A=0),t(8,J=!1),R=a.touches[0].clientX,K=a.touches[0].clientY,j!==void 0&&j!==x&&t(6,N=!1),t(5,j=x)}let A=0;function ue(a){if(j===void 0)return;let C=a.touches[0].clientX-R,b=a.touches[0].clientY-K;if(k===void 0&&(k=Math.abs(C)-Math.abs(b)>=0,!N&&k&&C>0)){t(5,j=void 0),t(7,A=0);return}if(k){const F=N?de:0,E=N?0:-de;t(7,A=C>F?F:C<E?E:C)}}let J=!1;function ae(a){if(j!==void 0&&k){t(8,J=!0);let x=a.changedTouches[0].clientX-R;(A===0||Math.abs(A)===de)&&(a.stopPropagation(),Q()),x>=de/2?t(6,N=!1):x<=-de/2&&t(6,N=!0),t(7,A=0)}}function Q(){t(8,J=!1)}let v;function X(a,x,C,V){t(9,v={idx:a,name:x,image:C,stage:V==="owner"?"delete":"leave"})}function m(){t(9,v=void 0),t(5,j=void 0),t(6,N=!1)}async function W(){if(!v||d)return;const a=ft();if(!a)return;const x=ct();if(!x)return;d=!0;const C=v.stage==="delete";if(C){if(!(await fetch(`${at}/boxes/${v.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)return d=!1,Me.emit("pushSnackbar",{message:"권한이 없어 삭제할 수 없습니다."})}else try{await vt({targetTable:"boxes",targetIdx:BigInt(v.idx),subjectIdx:x})}catch{return d=!1,Me.emit("pushSnackbar",{message:"나가기에 실패했습니다. 잠시 후 다시 시도해 주세요."})}qe.update(V=>V=V.filter(b=>b.idx!==v.idx)),Me.emit("pushSnackbar",{message:`${v.name} ${C?"박스를 삭제했습니다.":"박스에서 나갔습니다."}`}),m(),d=!1}const B=async()=>{if(Te)return t(4,w=!0);await Se("/search")};function Y(a){o=a,t(2,o)}function S(a){n=a,t(1,n)}const P=a=>{if(Te)return t(4,w=!0);X(a.idx,a.name,a.image,a.role)},z=(a,x)=>Z(x,a.idx),q=a=>Se(`/boxes/${a.idx}`);function u(a){w=a,t(4,w)}return l.$$.update=()=>{l.$$.dirty[0]&1&&r&&O()},[r,n,o,i,w,j,N,A,J,v,L,D,Z,ue,ae,Q,X,m,W,B,Y,S,P,z,q,u]}class ir extends Ee{constructor(e){super(),De(this,e,Pt,Xt,xe,{},null,[-1,-1])}}export{ir as component};
