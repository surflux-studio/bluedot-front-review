import{n as q,m as se,j as re,s as ae,c as ie,C as D,o as me,f as pe,u as _e,g as he,h as ge}from"../chunks/scheduler.BfRTalqA.js";import{G as be,H as we,I as ye,J as ke,S as le,i as ce,q as X,g as x,w as C,r as B,n as w,o as $,d as b,e as E,t as F,s as z,c as M,a as P,b as G,f as N,u as v,h as S,z as ve,j as H,K as $e,k as R,l as ue,m as V,p as A,B as Le,v as j,x as J}from"../chunks/index.CAbO0WFF.js";import{e as O,u as Se,f as Te}from"../chunks/each.CDoeC7pD.js";import{w as xe,p as Q}from"../chunks/entry.D28hRbA_.js";import{e as Ee}from"../chunks/Footer.Z8H97Lm0.js";import{d as Me,e as Pe}from"../chunks/search.DKHNDi8x.js";import{S as g}from"../chunks/index.DlpRzoK4.js";import{p as Xe}from"../chunks/stores.ClH3Vh1z.js";import{P as Ie,_ as Ce}from"../chunks/16.DKR51nmS.js";import{component as Be}from"./8.CpfQDaqk.js";import{component as We}from"./13.68h_NKaz.js";import{component as De}from"./3.BuBxwcqO.js";function je(i,e,s,n){if(!e)return q;const t=i.getBoundingClientRect();if(e.left===t.left&&e.right===t.right&&e.top===t.top&&e.bottom===t.bottom)return q;const{delay:l=0,duration:r=300,easing:a=se,start:o=be()+l,end:u=o+r,tick:c=q,css:m}=s(i,{from:e,to:t},n);let f=!0,d=!1,p;function _(){m&&(p=ye(i,0,1,r,l,a,m)),l||(d=!0)}function y(){m&&ke(i,p),f=!1}return we(h=>{if(!d&&h>=o&&(d=!0),d&&h>=u&&(c(1,0),y()),!f)return!1;if(d){const T=h-o,I=0+1*a(T/r);c(I,1-I)}return!0}),_(),c(0,1),y}function qe(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:s,height:n}=e,t=i.getBoundingClientRect();i.style.position="absolute",i.style.width=s,i.style.height=n,fe(i,t)}}function fe(i,e){const s=i.getBoundingClientRect();if(e.left!==s.left||e.top!==s.top){const n=getComputedStyle(i),t=n.transform==="none"?"":n.transform;i.style.transform=`${t} translate(${e.left-s.left}px, ${e.top-s.top}px)`}}const ze=!1,Ne="auto",Oe=i=>{if(console.log(i.route.id),i.route.id!==null)return{route:i.route.id==="/"?"/viewer":i.route.id}},dt=Object.freeze(Object.defineProperty({__proto__:null,load:Oe,prerender:Ne,ssr:ze},Symbol.toStringTag,{value:"Module"}));function Re(i){const e=i-1;return e*e*e+1}function Ve(i,{delay:e=0,duration:s=400,easing:n=se}={}){const t=+getComputedStyle(i).opacity;return{delay:e,duration:s,easing:n,css:l=>`opacity: ${l*t}`}}function Ae(i,{from:e,to:s},n={}){const t=getComputedStyle(i),l=t.transform==="none"?"":t.transform,[r,a]=t.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*r/s.width-(s.left+r),u=e.top+e.height*a/s.height-(s.top+a),{delay:c=0,duration:m=d=>Math.sqrt(d)*120,easing:f=Re}=n;return{delay:c,duration:re(m)?m(Math.sqrt(o*o+u*u)):m,easing:f,css:(d,p)=>{const _=p*o,y=p*u,h=d+p*e.width/s.width,T=d+p*e.height/s.height;return`transform: ${l} translate(${_}px, ${y}px) scale(${h}, ${T});`}}}function Z(i,e,s){const n=i.slice();return n[5]=e[s],n[7]=s,n}function ee(i,e){let s,n,t,l=e[5].message+"",r,a,o,u=(e[5].buttonText||K)+"",c,m,f,d,p,_,y=q,h,T,I;return{key:i,first:null,c(){s=E("div"),n=E("div"),t=E("div"),r=F(l),a=z(),o=E("div"),c=F(u),f=z(),this.h()},l(k){s=M(k,"DIV",{class:!0,style:!0});var L=P(s);n=M(L,"DIV",{class:!0,style:!0});var W=P(n);t=M(W,"DIV",{class:!0});var U=P(t);r=G(U,l),U.forEach(b),a=N(W),o=M(W,"DIV",{class:!0});var Y=P(o);c=G(Y,u),Y.forEach(b),W.forEach(b),f=N(L),L.forEach(b),this.h()},h(){v(t,"class","text-white flex-grow"),v(o,"class","text-primary-300"),v(n,"class","flex bg-black p-[1.125rem]"),v(n,"style",m=`transform: scale(${1-.05*e[7]})`),v(s,"class","fixed bottom-24 w-full p-4"),v(s,"style",d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`),this.first=s},m(k,L){x(k,s,L),S(s,n),S(n,t),S(t,r),S(n,a),S(n,o),S(o,c),S(s,f),h=!0,T||(I=ve(o,"click",function(){re(e[5].callback)&&e[5].callback.apply(this,arguments)}),T=!0)},p(k,L){e=k,(!h||L&1)&&l!==(l=e[5].message+"")&&H(r,l),(!h||L&1)&&u!==(u=(e[5].buttonText||K)+"")&&H(c,u),(!h||L&1&&m!==(m=`transform: scale(${1-.05*e[7]})`))&&v(n,"style",m),(!h||L&1&&d!==(d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`))&&v(s,"style",d)},r(){_=s.getBoundingClientRect()},f(){qe(s),y(),fe(s,_)},a(){y(),y=je(s,_,Ae,{})},i(k){h||(p&&p.end(1),h=!0)},o(k){k&&(p=$e(s,Ve,{duration:300})),h=!1},d(k){k&&b(s),k&&p&&p.end(),T=!1,I()}}}function Ke(i){let e=[],s=new Map,n,t,l=O(i[0]);const r=a=>a[5].uuid;for(let a=0;a<l.length;a+=1){let o=Z(i,l,a),u=r(o);s.set(u,e[a]=ee(u,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=X()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);n=X()},m(a,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,o);x(a,n,o),t=!0},p(a,[o]){if(o&1){l=O(a[0]),C();for(let u=0;u<e.length;u+=1)e[u].r();e=Se(e,o,r,1,a,l,s,n.parentNode,Te,ee,n,Z);for(let u=0;u<e.length;u+=1)e[u].a();B()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)w(e[o]);t=!0}},o(a){for(let o=0;o<e.length;o+=1)$(e[o]);t=!1},d(a){a&&b(n);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}const Ue=5e3,Ye=!1,K="닫기";function Fe(i,e,s){let n;const t=()=>{clearTimeout(r),D(l,n=n.slice(1),n)},l=xe([]);ie(i,l,o=>s(0,n=o));let r;Ee.on("pushSnackbar",a);function a(o){if(n.some(c=>c.uuid===o.uuid))return;const u={uuid:o.uuid||crypto.randomUUID(),message:o.message,urgent:o.urgent,keep:o.keep||Ye,duration:o.duration||Ue,buttonText:o.buttonText||K,callback:()=>{t();try{o.callback()}catch{}}};if(o.urgent){clearTimeout(r),D(l,n=[u,...n],n);return}D(l,n=[...n,u],n)}return i.$$.update=()=>{if(i.$$.dirty&5&&n.length>0){const{duration:o,keep:u}=n[0];clearTimeout(r),u||s(2,r=setTimeout(()=>{D(l,n=n.slice(1),n)},o))}},[n,l,r]}class Ge extends le{constructor(e){super(),ce(this,e,Fe,Ke,ae,{})}}function de(){const i=window.innerWidth<=g.MobileS?g.MobileS:window.innerWidth<=g.MobileM?g.MobileM:window.innerWidth<=g.MobileL?g.MobileL:window.innerWidth<=g.Tablet?g.Tablet:window.innerWidth<=g.Laptop?g.Laptop:window.innerWidth<=g.LaptopL?g.LaptopL:g.FourK;Me.set(i)}window.onresize=de;function te(i,e,s){const n=i.slice();return n[9]=e[s],n[11]=s,n}function He(i){let e;const s=i[5].default,n=pe(s,i,i[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,l){n&&n.m(t,l),e=!0},p(t,l){n&&n.p&&(!e||l&16)&&_e(n,s,t,t[4],e?ge(s,t[4],l,null):he(t[4]),null)},i(t){e||(w(n,t),e=!0)},o(t){$(n,t),e=!1},d(t){n&&n.d(t)}}}function Je(i){let e,s,n=O(i[0]),t=[];for(let r=0;r<n.length;r+=1)t[r]=oe(te(i,n,r));const l=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=X()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=X()},m(r,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(r,a);x(r,e,a),s=!0},p(r,a){if(a&7){n=O(r[0]);let o;for(o=0;o<n.length;o+=1){const u=te(r,n,o);t[o]?(t[o].p(u,a),w(t[o],1)):(t[o]=oe(u),t[o].c(),w(t[o],1),t[o].m(e.parentNode,e))}for(C(),o=n.length;o<t.length;o+=1)l(o);B()}},i(r){if(!s){for(let a=0;a<n.length;a+=1)w(t[a]);s=!0}},o(r){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)$(t[a]);s=!1},d(r){r&&b(e),Le(t,r)}}}function ne(i){let e,s,n;var t=i[9].component;function l(r,a){return{props:{data:r[9].data}}}return t&&(e=J(t,l(i))),{c(){e&&R(e.$$.fragment),s=X()},l(r){e&&ue(e.$$.fragment,r),s=X()},m(r,a){e&&V(e,r,a),x(r,s,a),n=!0},p(r,a){if(a&1&&t!==(t=r[9].component)){if(e){C();const o=e;$(o.$$.fragment,1,0,()=>{A(o,1)}),B()}t?(e=J(t,l(r)),R(e.$$.fragment),w(e.$$.fragment,1),V(e,s.parentNode,s)):e=null}else if(t){const o={};a&1&&(o.data=r[9].data),e.$set(o)}},i(r){n||(e&&w(e.$$.fragment,r),n=!0)},o(r){e&&$(e.$$.fragment,r),n=!1},d(r){r&&b(s),e&&A(e,r)}}}function oe(i){let e,s,n,t=i[9].component&&i[9].isLoading&&ne(i);return{c(){e=E("div"),t&&t.c(),s=z(),this.h()},l(l){e=M(l,"DIV",{class:!0});var r=P(e);t&&t.l(r),s=N(r),r.forEach(b),this.h()},h(){v(e,"class","page svelte-1je9vju"),j(e,"transform",i[1]),j(e,"left",`${(i[11]-i[2])*100}%`)},m(l,r){x(l,e,r),t&&t.m(e,null),S(e,s),n=!0},p(l,r){l[9].component&&l[9].isLoading?t?(t.p(l,r),r&1&&w(t,1)):(t=ne(l),t.c(),w(t,1),t.m(e,s)):t&&(C(),$(t,1,1,()=>{t=null}),B()),r&2&&j(e,"transform",l[1]),r&4&&j(e,"left",`${(l[11]-l[2])*100}%`)},i(l){n||(w(t),n=!0)},o(l){$(t),n=!1},d(l){l&&b(e),t&&t.d()}}}function Qe(i){let e,s,n,t,l,r;e=new Ge({});const a=[Je,He],o=[];function u(c,m){return c[2]!==-1?0:1}return t=u(i),l=o[t]=a[t](i),{c(){R(e.$$.fragment),s=z(),n=E("main"),l.c(),this.h()},l(c){ue(e.$$.fragment,c),s=N(c),n=M(c,"MAIN",{id:!0,class:!0});var m=P(n);l.l(m),m.forEach(b),this.h()},h(){v(n,"id","page-container"),v(n,"class","w-screen min-h-screen overflow-visible")},m(c,m){V(e,c,m),x(c,s,m),x(c,n,m),o[t].m(n,null),r=!0},p(c,[m]){let f=t;t=u(c),t===f?o[t].p(c,m):(C(),$(o[f],1,1,()=>{o[f]=null}),B(),l=o[t],l?l.p(c,m):(l=o[t]=a[t](c),l.c()),w(l,1),l.m(n,null))},i(c){r||(w(e.$$.fragment,c),w(l),r=!0)},o(c){$(e.$$.fragment,c),$(l),r=!1},d(c){c&&(b(s),b(n)),A(e,c),o[t].d()}}}function Ze(i,e,s){let n,t;ie(i,Xe,f=>s(6,t=f));let{$$slots:l={},$$scope:r}=e,{data:a}=e;const o=[{route:"/map",path:"/map",regex:/^\/map$/,component:Be,isLoading:!1},{route:"/viewer",path:"/viewer",regex:/^\/(viewer)?$/,component:Ie,data:{posts:Ce},isLoading:!1},{route:"/users/[idx]",path:"/users/111",regex:/^\/users\/\d+$/,component:We,isLoading:!1},{route:"/boxes",path:"/boxes",regex:/^\/boxes$/,component:De,isLoading:!1}];me(async()=>{Pe.set(window),de(),u(),m()});function u(){const f=t.url.searchParams.get("access");if(f){sessionStorage.setItem("access",f),t.url.searchParams.delete("access");const d=`${t.url.origin}${t.url.pathname}?${t.url.searchParams.toString()}`;window.history.replaceState({},"",d)}}let c="translateX(0)";function m(){let f=-1;const d=document.body.clientWidth;document.addEventListener("touchstart",p=>{f=p.touches[0].clientX,n===0&&f<d-20&&(s(1,c="translateX(0)"),f=-1)},{passive:!0}),document.addEventListener("touchmove",p=>{if(p.preventDefault(),f<0)return;let _=p.touches[0].clientX-f;_=_>d?d:_<-d?-d:_,_=n===0&&_>0||n===o.length-1&&_<0?0:_,_>0?s(0,o[n-1].isLoading=!0,o):_<0&&s(0,o[n+1].isLoading=!0,o),s(1,c=`translateX(${_}px)`)},{passive:!1}),document.addEventListener("touchend",p=>{if(f<0)return;let _=p.changedTouches[0].clientX-f;if(_>d/2&&n!==0){s(1,c=`translateX(${d}px)`);const y=n-1,h=o[y];Q(h.path,{}),s(3,a.route=h.route,a),s(1,c="translateX(0)")}else if(-_>d/2&&n!==o.length-1){s(1,c=`translateX(${-d}px)`);const y=n+1,h=o[y];Q(h.path,{}),s(3,a.route=h.route,a),s(1,c="translateX(0)")}else s(1,c="translateX(0)");f=-1}),window.onpopstate=function(){if(n!==-1){for(const p of o)if(p.regex.test(window.location.pathname)){s(3,a.route=p.route,a);break}}}}return i.$$set=f=>{"data"in f&&s(3,a=f.data),"$$scope"in f&&s(4,r=f.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&s(2,n=o.findIndex(f=>{const d=a.route===f.route;return d&&(f.isLoading=!0),d}))},[o,c,n,a,r,l]}class mt extends le{constructor(e){super(),ce(this,e,Ze,Qe,ae,{data:3})}}export{mt as component,dt as universal};
