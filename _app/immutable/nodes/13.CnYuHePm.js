import{s as E,w as F,a as M,g as U,i as N,x as R,f as k,k as G,y as H,e as S,t as T,c as j,b as q,d as y,v as L,h as O,n as W}from"../chunks/scheduler.CIbz-4tf.js";import{S as v,i as z,b as A,c as _,d as g,m as d,t as b,a as h,f as x}from"../chunks/index.gvaMc9LH.js";import{H as D}from"../chunks/Header.D0Ely6jv.js";import{M as J}from"../chunks/Map.D_epeI3f.js";import{p as K}from"../chunks/stores.Bxja5V5b.js";import{U as Q}from"../chunks/UpperBoxes.A8t6Qbxs.js";import{g as V}from"../chunks/entry.BlipmNmQ.js";import{A as X}from"../chunks/store.C807Sv48.js";import{F as Y}from"../chunks/IconLocation.jehxdxar.js";import{U as Z}from"../chunks/_FindMeButton.-oz2KuDL.js";function ee(a){let t,n;return{c(){t=S("p"),n=T(a[3]),this.h()},l(s){t=j(s,"P",{class:!0});var o=q(t);n=y(o,a[3]),o.forEach(k),this.h()},h(){L(t,"class","font-semibold text-[15px] leading-[18px] text-black")},m(s,o){N(s,t,o),O(t,n)},p:W,d(s){s&&k(t)}}}function te(a){let t,n;return t=new Z({}),{c(){_(t.$$.fragment)},l(s){g(t.$$.fragment,s)},m(s,o){d(t,s,o),n=!0},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){h(t.$$.fragment,s),n=!1},d(s){x(t,s)}}}function se(a){let t,n,s,o,c,m,p,u,f,$;function B(e){a[5](e)}let r={position:"fixed",leftBack:"black",$$slots:{default:[ee]},$$scope:{ctx:a}};a[0]!==void 0&&(r.header=a[0]),t=new D({props:r}),F.push(()=>A(t,"header",B));function w(e){a[6](e)}let l={boxes:a[1],onBoxClick:a[4]};return a[2]!==void 0&&(l.top=a[2]),o=new Q({props:l}),F.push(()=>A(o,"top",w)),p=new J({}),f=new Y({props:{position:"fixed",$$slots:{right:[te]},$$scope:{ctx:a}}}),{c(){_(t.$$.fragment),s=M(),_(o.$$.fragment),m=M(),_(p.$$.fragment),u=M(),_(f.$$.fragment)},l(e){g(t.$$.fragment,e),s=U(e),g(o.$$.fragment,e),m=U(e),g(p.$$.fragment,e),u=U(e),g(f.$$.fragment,e)},m(e,i){d(t,e,i),N(e,s,i),d(o,e,i),N(e,m,i),d(p,e,i),N(e,u,i),d(f,e,i),$=!0},p(e,[i]){const P={};i&512&&(P.$$scope={dirty:i,ctx:e}),!n&&i&1&&(n=!0,P.header=e[0],R(()=>n=!1)),t.$set(P);const I={};i&2&&(I.boxes=e[1]),!c&&i&4&&(c=!0,I.top=e[2],R(()=>c=!1)),o.$set(I);const C={};i&512&&(C.$$scope={dirty:i,ctx:e}),f.$set(C)},i(e){$||(b(t.$$.fragment,e),b(o.$$.fragment,e),b(p.$$.fragment,e),b(f.$$.fragment,e),$=!0)},o(e){h(t.$$.fragment,e),h(o.$$.fragment,e),h(p.$$.fragment,e),h(f.$$.fragment,e),$=!1},d(e){e&&(k(s),k(m),k(u)),x(t,e),x(o,e),x(p,e),x(f,e)}}}function oe(a,t,n){let s,o;G(a,K,r=>n(7,o=r));const c=o.url.searchParams.get("placeName");let m=[],p;async function u(){const r=Number(o.url.searchParams.get("placeIdx"));if(Number.isNaN(r)||!r)return;const w=await fetch(`${X}/places/${r}/boxes`,{method:"GET"});if(!w.ok)return;const l=await w.json();l.data&&n(1,m=l.data)}H(()=>{u()});function f(r){V(`/boxes/${r}`)}function $(r){p=r,n(0,p)}function B(r){s=r,n(2,s),n(0,p)}return a.$$.update=()=>{var r;a.$$.dirty&1&&n(2,s=((r=p==null?void 0:p.getClientRects()[0])==null?void 0:r.height)??0)},[p,m,s,c,f,$,B]}class le extends v{constructor(t){super(),z(this,t,oe,se,E,{})}}export{le as component};
