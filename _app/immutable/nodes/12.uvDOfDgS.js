import{s as N,a as b,g as h,i as x,f as c,k as I,A as w,e as y,t as B,c as P,b as k,d as v,q as A,h as M,n as q}from"../chunks/scheduler.CAgUjVVh.js";import{S as C,i as E,c as $,b as u,m as l,t as _,a as g,d}from"../chunks/index.BArRcuOw.js";import{H as G}from"../chunks/Header.DcbN9C6J.js";import{M as H}from"../chunks/Map.BhbBGn5j.js";import{p as R}from"../chunks/stores.BKWJdjPV.js";import{U as S}from"../chunks/UpperBoxes.DAeQ-thQ.js";import{g as T}from"../chunks/entry.C0kOxo6C.js";import{A as U}from"../chunks/sign.0LSMDjDO.js";function j(m){let t,r;return{c(){t=y("div"),r=B(m[1]),this.h()},l(a){t=P(a,"DIV",{class:!0});var o=k(t);r=v(o,m[1]),o.forEach(c),this.h()},h(){A(t,"class","typo-sub-h2 text-gray-900")},m(a,o){x(a,t,o),M(t,r)},p:q,d(a){a&&c(t)}}}function D(m){let t,r,a,o,n,p;return t=new G({props:{position:"fixed",leftBack:!0,$$slots:{default:[j]},$$scope:{ctx:m}}}),a=new H({}),n=new S({props:{boxes:m[0],top:"top-[100px]",onBoxClick:m[2]}}),{c(){$(t.$$.fragment),r=b(),$(a.$$.fragment),o=b(),$(n.$$.fragment)},l(e){u(t.$$.fragment,e),r=h(e),u(a.$$.fragment,e),o=h(e),u(n.$$.fragment,e)},m(e,s){l(t,e,s),x(e,r,s),l(a,e,s),x(e,o,s),l(n,e,s),p=!0},p(e,[s]){const i={};s&32&&(i.$$scope={dirty:s,ctx:e}),t.$set(i);const f={};s&1&&(f.boxes=e[0]),n.$set(f)},i(e){p||(_(t.$$.fragment,e),_(a.$$.fragment,e),_(n.$$.fragment,e),p=!0)},o(e){g(t.$$.fragment,e),g(a.$$.fragment,e),g(n.$$.fragment,e),p=!1},d(e){e&&(c(r),c(o)),d(t,e),d(a,e),d(n,e)}}}function L(m,t,r){let a;I(m,R,s=>r(3,a=s));let o=[];const n=a.url.searchParams.get("placeName");async function p(){const s=Number(a.url.searchParams.get("placeIdx"));if(Number.isNaN(s)||!s)return;const i=await fetch(`${U}/places/${s}/boxes`,{method:"GET"});if(!i.ok)return;const f=await i.json();f.data&&r(0,o=f.data)}w(()=>{p()});function e(s){T(`/boxes/${s}/detail`)}return[o,n,e]}class X extends C{constructor(t){super(),E(this,t,L,D,N,{})}}export{X as component};
