import"../chunks/index.g5YcAAdQ.js";import{b as _e,A as oe,c as Ce}from"../chunks/sign.D2LB2NXZ.js";import{g as se}from"../chunks/entry.72j06AYb.js";import{s as Ee,y as xe,e as v,a as z,t as N,c as j,b as E,f as h,g as H,d as P,v as V,L as ae,i as S,h as p,A as ee,z as Be,F as de,k as Se,j as ce,B as ve,n as O,K as je,C as ge}from"../chunks/scheduler.DobTUrUU.js";import{S as Te,i as ye,e as De,c as J,b as Q,m as X,a as C,f as te,t as w,d as Y,g as le}from"../chunks/index.BzbOx6Bd.js";import{e as ie}from"../chunks/each.C4gaqrOA.js";import{p as Fe}from"../chunks/stores.B22jY-hJ.js";import{H as qe}from"../chunks/Header.BWVlw1P1.js";import{u as he,f as pe}from"../chunks/follow.BTH9Rxdc.js";import{B as fe}from"../chunks/Button.Bk_oUUZ6.js";import{C as Ie}from"../chunks/CircleImage.CZ1itNFz.js";import{F as Ne}from"../chunks/Field.d7TevMmM.js";import{s as ue}from"../chunks/s32cloudfront.BUx3valO.js";const Pe=async({params:n,fetch:e,depends:l})=>{l("app:user:followers");const r=String(n.idx),t=String(_e()),a=await e(`${oe}/auth/followers?targetTable=users&targetIdx=${r}&subjectTable=users`).then(f=>f.json()).then(f=>f.data),o=await e(`${oe}/auth/followers?targetTable=users&subjectTable=users&subjectIdx=${r}`).then(f=>f.json()).then(f=>f.data),i=await e(`${oe}/auth/followers?targetTable=users&targetIdx=${_e()}&subjectTable=users`).then(f=>f.json()).then(f=>f.data),s=await e(`${oe}/auth/followers?targetTable=users&subjectTable=users&subjectIdx=${_e()}`).then(f=>f.json()).then(f=>f.data);return{userFollowers:a,userFollowings:o,userIdx:r,signerFollowers:i,signerFollowings:s,signerIdx:t}},mt=Object.freeze(Object.defineProperty({__proto__:null,load:Pe},Symbol.toStringTag,{value:"Module"}));function be(n,e,l){const r=n.slice();return r[32]=e[l],r}function $e(n,e,l){const r=n.slice();return r[29]=e[l],r}function Ve(n){let e,l=(n[2].unique_name||"")+"",r;return{c(){e=v("span"),r=N(l),this.h()},l(t){e=j(t,"SPAN",{class:!0});var a=E(e);r=P(a,l),a.forEach(h),this.h()},h(){V(e,"class","font-semibold text-[0.9375rem] text-white")},m(t,a){S(t,e,a),p(e,r)},p(t,a){a[0]&4&&l!==(l=(t[2].unique_name||"")+"")&&ce(r,l)},d(t){t&&h(e)}}}function Ue(n){let e,l="팔로잉이 없습니다.";return{c(){e=v("p"),e.textContent=l,this.h()},l(r){e=j(r,"P",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-fn1ckl"&&(e.textContent=l),this.h()},h(){V(e,"class","p-5 flex w-full justify-center text-gray-400")},m(r,t){S(r,e,t)},p:O,i:O,o:O,d(r){r&&h(e)}}}function Oe(n){let e,l,r=ie(n[4]),t=[];for(let o=0;o<r.length;o+=1)t[o]=ke(be(n,r,o));const a=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){e=v("ul");for(let o=0;o<t.length;o+=1)t[o].c()},l(o){e=j(o,"UL",{});var i=E(e);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(h)},m(o,i){S(o,e,i);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);l=!0},p(o,i){if(i[0]&530){r=ie(o[4]);let s;for(s=0;s<r.length;s+=1){const f=be(o,r,s);t[s]?(t[s].p(f,i),w(t[s],1)):(t[s]=ke(f),t[s].c(),w(t[s],1),t[s].m(e,null))}for(le(),s=r.length;s<t.length;s+=1)a(s);te()}},i(o){if(!l){for(let i=0;i<r.length;i+=1)w(t[i]);l=!0}},o(o){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)C(t[i]);l=!1},d(o){o&&h(e),je(t,o)}}}function Ae(n){let e,l,r,t;const a=[Me,Ke],o=[];function i(s,f){return s[3]&&s[3].length>0?0:1}return e=i(n),l=o[e]=a[e](n),{c(){l.c(),r=ge()},l(s){l.l(s),r=ge()},m(s,f){o[e].m(s,f),S(s,r,f),t=!0},p(s,f){let b=e;e=i(s),e===b?o[e].p(s,f):(le(),C(o[b],1,1,()=>{o[b]=null}),te(),l=o[e],l?l.p(s,f):(l=o[e]=a[e](s),l.c()),w(l,1),l.m(r.parentNode,r))},i(s){t||(w(l),t=!0)},o(s){C(l),t=!1},d(s){s&&h(r),o[e].d(s)}}}function Le(n){let e,l;function r(){return n[27](n[32])}return e=new fe({props:{backgroundColor:"bg-[#2C2C2E]",textColor:"text-[#B3B8BD]",typo:"text-sm font-normal",border:"border-none",$$slots:{default:[We]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,a){X(e,t,a),l=!0},p(t,a){n=t;const o={};a[1]&16&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function ze(n){let e,l;function r(){return n[26](n[32])}return e=new fe({props:{textColor:"text-[#B3B8BD]",typo:"text-sm font-normal",border:"border border-[#2C2C2E]",$$slots:{default:[Ge]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,a){X(e,t,a),l=!0},p(t,a){n=t;const o={};a[1]&16&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function He(n){let e;return{c(){e=v("span")},l(l){e=j(l,"SPAN",{}),E(e).forEach(h)},m(l,r){S(l,e,r)},p:O,i:O,o:O,d(l){l&&h(e)}}}function We(n){let e;return{c(){e=N("팔로우")},l(l){e=P(l,"팔로우")},m(l,r){S(l,e,r)},d(l){l&&h(e)}}}function Ge(n){let e;return{c(){e=N("팔로잉")},l(l){e=P(l,"팔로잉")},m(l,r){S(l,e,r)},d(l){l&&h(e)}}}function ke(n){let e,l,r,t,a,o=(n[32].target.unique_name||"(null)")+"",i,s,f,b,y,g,d,D,x,q,A;function G(...c){return n[13](n[32],...c)}r=new Ie({props:{src:ue(n[32].target.profile_image_url,500),width:"2.375rem",strokeColor:"white",strokeWidth:"0"}});function U(){return n[24](n[32])}function F(){return n[25](n[32])}const L=[He,ze,Le],$=[];function I(c,_){return _[0]&16&&(b=null),_[0]&18&&(y=null),b==null&&(b=String(c[9])===String(c[32].target.idx)),b?0:(y==null&&(y=!!c[1].some(G)),y?1:2)}return g=I(n,[-1,-1]),d=$[g]=L[g](n),{c(){e=v("li"),l=v("div"),J(r.$$.fragment),t=z(),a=v("div"),i=N(o),s=z(),f=v("div"),d.c(),D=z(),this.h()},l(c){e=j(c,"LI",{class:!0});var _=E(e);l=j(_,"DIV",{});var T=E(l);Q(r.$$.fragment,T),T.forEach(h),t=H(_),a=j(_,"DIV",{class:!0});var B=E(a);i=P(B,o),B.forEach(h),s=H(_),f=j(_,"DIV",{});var K=E(f);d.l(K),K.forEach(h),D=H(_),_.forEach(h),this.h()},h(){V(a,"class","flex-grow text-sm font-medium leading-[1.0625rem]"),V(e,"class","flex gap-2 items-center py-2.5")},m(c,_){S(c,e,_),p(e,l),X(r,l,null),p(e,t),p(e,a),p(a,i),p(e,s),p(e,f),$[g].m(f,null),p(e,D),x=!0,q||(A=[ee(l,"click",U),ee(a,"click",F)],q=!0)},p(c,_){n=c;const T={};_[0]&16&&(T.src=ue(n[32].target.profile_image_url,500)),r.$set(T),(!x||_[0]&16)&&o!==(o=(n[32].target.unique_name||"(null)")+"")&&ce(i,o);let B=g;g=I(n,_),g===B?$[g].p(n,_):(le(),C($[B],1,1,()=>{$[B]=null}),te(),d=$[g],d?d.p(n,_):(d=$[g]=L[g](n),d.c()),w(d,1),d.m(f,null))},i(c){x||(w(r.$$.fragment,c),w(d),x=!0)},o(c){C(r.$$.fragment,c),C(d),x=!1},d(c){c&&h(e),Y(r),$[g].d(),q=!1,de(A)}}}function Ke(n){let e,l="팔로워가 없습니다.";return{c(){e=v("p"),e.textContent=l,this.h()},l(r){e=j(r,"P",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1upuy06"&&(e.textContent=l),this.h()},h(){V(e,"class","p-5 flex w-full justify-center text-gray-400")},m(r,t){S(r,e,t)},p:O,i:O,o:O,d(r){r&&h(e)}}}function Me(n){let e,l,r=ie(n[3]),t=[];for(let o=0;o<r.length;o+=1)t[o]=we($e(n,r,o));const a=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){e=v("ul");for(let o=0;o<t.length;o+=1)t[o].c()},l(o){e=j(o,"UL",{});var i=E(e);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(h)},m(o,i){S(o,e,i);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);l=!0},p(o,i){if(i[0]&778){r=ie(o[3]);let s;for(s=0;s<r.length;s+=1){const f=$e(o,r,s);t[s]?(t[s].p(f,i),w(t[s],1)):(t[s]=we(f),t[s].c(),w(t[s],1),t[s].m(e,null))}for(le(),s=r.length;s<t.length;s+=1)a(s);te()}},i(o){if(!l){for(let i=0;i<r.length;i+=1)w(t[i]);l=!0}},o(o){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)C(t[i]);l=!1},d(o){o&&h(e),je(t,o)}}}function Re(n){let e,l;function r(){return n[23](n[29])}return e=new fe({props:{backgroundColor:"bg-[#2C2C2E]",textColor:"text-[#B3B8BD]",typo:"text-sm font-normal",border:"border-none",$$slots:{default:[Xe]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,a){X(e,t,a),l=!0},p(t,a){n=t;const o={};a[0]&8|a[1]&16&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function Je(n){let e,l;function r(){return n[21](n[29])}return e=new fe({props:{textColor:"text-[#B3B8BD]",typo:"text-sm font-normal",border:"border border-[#2C2C2E]",$$slots:{default:[Ye]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){J(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,a){X(e,t,a),l=!0},p(t,a){n=t;const o={};a[1]&16&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function Qe(n){let e;return{c(){e=v("span")},l(l){e=j(l,"SPAN",{}),E(e).forEach(h)},m(l,r){S(l,e,r)},p:O,i:O,o:O,d(l){l&&h(e)}}}function Xe(n){let e=n[8].some(r)?"맞팔로우":"팔로우",l;function r(...t){return n[22](n[29],...t)}return{c(){l=N(e)},l(t){l=P(t,e)},m(t,a){S(t,l,a)},p(t,a){n=t,a[0]&8&&e!==(e=n[8].some(r)?"맞팔로우":"팔로우")&&ce(l,e)},d(t){t&&h(l)}}}function Ye(n){let e;return{c(){e=N("팔로잉")},l(l){e=P(l,"팔로잉")},m(l,r){S(l,e,r)},d(l){l&&h(e)}}}function we(n){let e,l,r,t,a,o=(n[29].subject.unique_name||"(null)")+"",i,s,f,b,y,g,d,D,x,q,A;function G(...c){return n[12](n[29],...c)}r=new Ie({props:{src:ue(n[29].subject.profile_image_url,500),width:"2.375rem",strokeColor:"white",strokeWidth:"0"}});function U(){return n[19](n[29])}function F(){return n[20](n[29])}const L=[Qe,Je,Re],$=[];function I(c,_){return _[0]&8&&(b=null),_[0]&10&&(y=null),b==null&&(b=String(c[9])===String(c[29].subject.idx)),b?0:(y==null&&(y=!!c[1].some(G)),y?1:2)}return g=I(n,[-1,-1]),d=$[g]=L[g](n),{c(){e=v("li"),l=v("div"),J(r.$$.fragment),t=z(),a=v("div"),i=N(o),s=z(),f=v("div"),d.c(),D=z(),this.h()},l(c){e=j(c,"LI",{class:!0});var _=E(e);l=j(_,"DIV",{});var T=E(l);Q(r.$$.fragment,T),T.forEach(h),t=H(_),a=j(_,"DIV",{class:!0});var B=E(a);i=P(B,o),B.forEach(h),s=H(_),f=j(_,"DIV",{});var K=E(f);d.l(K),K.forEach(h),D=H(_),_.forEach(h),this.h()},h(){V(a,"class","flex-grow text-sm font-medium leading-[1.0625rem]"),V(e,"class","flex gap-2 items-center py-2.5")},m(c,_){S(c,e,_),p(e,l),X(r,l,null),p(e,t),p(e,a),p(a,i),p(e,s),p(e,f),$[g].m(f,null),p(e,D),x=!0,q||(A=[ee(l,"click",U),ee(a,"click",F)],q=!0)},p(c,_){n=c;const T={};_[0]&8&&(T.src=ue(n[29].subject.profile_image_url,500)),r.$set(T),(!x||_[0]&8)&&o!==(o=(n[29].subject.unique_name||"(null)")+"")&&ce(i,o);let B=g;g=I(n,_),g===B?$[g].p(n,_):(le(),C($[B],1,1,()=>{$[B]=null}),te(),d=$[g],d?d.p(n,_):(d=$[g]=L[g](n),d.c()),w(d,1),d.m(f,null))},i(c){x||(w(r.$$.fragment,c),w(d),x=!0)},o(c){C(r.$$.fragment,c),C(d),x=!1},d(c){c&&h(e),Y(r),$[g].d(),q=!1,de(A)}}}function Ze(n){let e,l,r,t,a,o,i,s,f=n[6].length+"",b,y,g,d,D,x=n[7].length+"",q,A,G,U,F,L,$,I,c,_,T,B;r=new qe({props:{position:"static",leftBack:"white",$$slots:{default:[Ve]},$$scope:{ctx:n}}});function K(u){n[18](u)}let ne={round:!0,placeholder:"계정 검색",onPrefixClick:n[16],clear:!0,fontSize:"text-sm",fontColor:"text-white",backgroundColor:"bg-[rgba(56,56,56,0.30)]",padding:"px-3.5 py-2.5",onInput:n[17]};n[0]!==void 0&&(ne.value=n[0]),F=new Ne({props:ne}),xe.push(()=>De(F,"value",K));const re=[Ae,Oe,Ue],W=[];function m(u,k){return u[5]==="followers"?0:u[4]&&u[4].length>0?1:2}return I=m(n),c=W[I]=re[I](n),{c(){e=v("div"),l=z(),J(r.$$.fragment),t=z(),a=v("div"),o=v("section"),i=v("button"),s=N("팔로워("),b=N(f),y=N(")"),g=z(),d=v("button"),D=N("팔로잉("),q=N(x),A=N(")"),G=z(),U=v("section"),J(F.$$.fragment),$=z(),c.c(),this.h()},l(u){e=j(u,"DIV",{class:!0}),E(e).forEach(h),l=H(u),Q(r.$$.fragment,u),t=H(u),a=j(u,"DIV",{class:!0});var k=E(a);o=j(k,"SECTION",{class:!0});var Z=E(o);i=j(Z,"BUTTON",{class:!0});var M=E(i);s=P(M,"팔로워("),b=P(M,f),y=P(M,")"),M.forEach(h),g=H(Z),d=j(Z,"BUTTON",{class:!0});var R=E(d);D=P(R,"팔로잉("),q=P(R,x),A=P(R,")"),R.forEach(h),Z.forEach(h),G=H(k),U=j(k,"SECTION",{class:!0});var me=E(U);Q(F.$$.fragment,me),me.forEach(h),$=H(k),c.l(k),k.forEach(h),this.h()},h(){V(e,"class","fixed w-full h-full bg-black -z-10"),V(i,"class","flex-1 p-2.5"),ae(i,"text-white",n[5]==="followers"),V(d,"class","flex-1 p-2.5"),ae(d,"text-white",n[5]==="followings"),V(o,"class","flex w-full justify-center text-sm leading-[1.0625rem] font-medium text-[#757D86]"),V(U,"class","py-1.5"),V(a,"class","text-white px-5")},m(u,k){S(u,e,k),S(u,l,k),X(r,u,k),S(u,t,k),S(u,a,k),p(a,o),p(o,i),p(i,s),p(i,b),p(i,y),p(o,g),p(o,d),p(d,D),p(d,q),p(d,A),p(a,G),p(a,U),X(F,U,null),p(a,$),W[I].m(a,null),_=!0,T||(B=[ee(i,"click",n[14]),ee(d,"click",n[15])],T=!0)},p(u,k){const Z={};k[0]&4|k[1]&16&&(Z.$$scope={dirty:k,ctx:u}),r.$set(Z),(!_||k[0]&32)&&ae(i,"text-white",u[5]==="followers"),(!_||k[0]&32)&&ae(d,"text-white",u[5]==="followings");const M={};k[0]&25&&(M.onInput=u[17]),!L&&k[0]&1&&(L=!0,M.value=u[0],Be(()=>L=!1)),F.$set(M);let R=I;I=m(u),I===R?W[I].p(u,k):(le(),C(W[R],1,1,()=>{W[R]=null}),te(),c=W[I],c?c.p(u,k):(c=W[I]=re[I](u),c.c()),w(c,1),c.m(a,null))},i(u){_||(w(r.$$.fragment,u),w(F.$$.fragment,u),w(c),_=!0)},o(u){C(r.$$.fragment,u),C(F.$$.fragment,u),C(c),_=!1},d(u){u&&(h(e),h(l),h(t),h(a)),Y(r,u),Y(F),W[I].d(),T=!1,de(B)}}}function et(n,e,l){let r;Se(n,Fe,m=>l(11,r=m));let{data:t}=e,{userFollowers:a,userFollowings:o,signerFollowers:i,signerFollowings:s,userIdx:f,signerIdx:b}=t,y={},g="",d=a,D=o,x=r.url.searchParams.get("tab")||"followers";const q=(m,u)=>u.target.idx===m.subject.idx,A=(m,u)=>u.target.idx===m.target.idx,G=()=>l(5,x="followers"),U=()=>l(5,x="followings"),F=()=>window.history.back(),L=()=>{g===""&&(l(3,d=a),l(4,D=o))};function $(m){g=m,l(0,g)}const I=m=>se(`/users/${m.subject.idx}`),c=m=>se(`/users/${m.subject.idx}`),_=async m=>{await he({targetIdx:m.subject.idx,subjectIdx:b}),l(1,s=s.filter(u=>u.target.idx!==m.subject.idx))},T=(m,u)=>u.subject.idx===m.subject.idx,B=async m=>{await pe({targetIdx:m.subject.idx,subjectIdx:b}),l(1,s=[...s,{target:m.subject}])},K=m=>se(`/users/${m.target.idx}`),ne=m=>se(`/users/${m.target.idx}`),re=async m=>{await he({targetIdx:m.target.idx,subjectIdx:b}),l(1,s=s.filter(u=>u.target.idx!==m.target.idx))},W=async m=>{await pe({targetIdx:m.target.idx,subjectIdx:b}),l(1,s=[...s,{target:m.target}])};return n.$$set=m=>{"data"in m&&l(10,t=m.data)},n.$$.update=()=>{n.$$.dirty[0]&3072&&t&&Ce(r.params.idx).then(m=>{l(2,y=m)}),n.$$.dirty[0]&1&&g&&(l(3,d=a.filter(m=>{const u=m.subject.unique_name;return u?u.includes(g):!1})),l(4,D=o.filter(m=>{const u=m.target.unique_name;return u?u.includes(g):!1})))},[g,s,y,d,D,x,a,o,i,b,t,r,q,A,G,U,F,L,$,I,c,_,T,B,K,ne,re,W]}class gt extends Te{constructor(e){super(),ye(this,e,et,Ze,Ee,{data:10},null,[-1,-1])}}export{gt as component,mt as universal};
