import{s as xe,l as J,m as ee,b as A,f as g,o as r,i as G,h as i,n as te,v as Ue,e as C,a as U,c as w,g as H,w as He,a7 as $e,C as Ne,O as je,k as Re,a8 as Ze,q as Pe,u as Qe,Q as Ae,y as q,t as oe,d as re,P as _e,L as Ce,F as ke,j as ne,r as Ye,A as Ie}from"../chunks/scheduler.zPBk7LGW.js";import{S as Be,i as Le,e as ze,c as he,a as pe,m as ge,t as $,f as we,b as P,d as me,g as be}from"../chunks/index.C4C7kEja.js";import{e as Fe}from"../chunks/each.BBNuS97K.js";import{g as Ee}from"../chunks/entry.BLI9612Y.js";import{H as qe,e as Me,s as Ke}from"../chunks/Header.D715OeCp.js";import{F as We}from"../chunks/Field.CHR6MRyx.js";import{s as se}from"../chunks/store.WFlaWcnQ.js";import{M as Ge}from"../chunks/Mask.DroFVG7v.js";const Je="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1469_2679)'%3e%3cpath%20d='M13.5233%2012.4628L16.7355%2015.6743L15.6743%2016.7355L12.4628%2013.5233C11.2678%2014.4812%209.7815%2015.0022%208.25%2015C4.524%2015%201.5%2011.976%201.5%208.25C1.5%204.524%204.524%201.5%208.25%201.5C11.976%201.5%2015%204.524%2015%208.25C15.0022%209.7815%2014.4812%2011.2678%2013.5233%2012.4628ZM12.0188%2011.9063C12.9706%2010.9274%2013.5022%209.61532%2013.5%208.25C13.5%205.349%2011.1503%203%208.25%203C5.349%203%203%205.349%203%208.25C3%2011.1503%205.349%2013.5%208.25%2013.5C9.61532%2013.5022%2010.9274%2012.9706%2011.9063%2012.0188L12.0188%2011.9063Z'%20fill='%234B5362'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1469_2679'%3e%3crect%20width='18'%20height='18'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",et="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.2839%200.684838C23.7305%200.438387%2024.2695%200.438387%2024.7161%200.684838L44.7161%2011.7219C45.1974%2011.9875%2045.5%2012.5%2045.5%2013.0605V34.9395C45.5%2035.5%2045.1974%2036.0125%2044.7161%2036.2781L24.7161%2047.3152C24.2695%2047.5616%2023.7305%2047.5616%2023.2839%2047.3152L3.28388%2036.2781C2.80257%2036.0125%202.5%2035.5%202.5%2034.9395V13.0605C2.5%2012.5%202.80257%2011.9875%203.28388%2011.7219L23.2839%200.684838Z'%20fill='white'%20stroke='%23EAEEF5'%20/%3e%3cpath%20d='M15%2020.1434V28.3719L24%2033.0005L33%2027.8576V20.1434M15%2020.1434L24%2024.7719L33%2020.1434M15%2020.1434L23.5039%2015.2841C23.8113%2015.1084%2024.1887%2015.1084%2024.4961%2015.2841L33%2020.1434M24%2024.2578L24%2032.4864'%20stroke='%238690A2'%20stroke-width='1.89474'%20stroke-linejoin='round'%20/%3e%3c/svg%3e",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7dfbCYNAEIXh2ZAq8pQ0kNSRilOHFcQn21AEFZH1ugOHgf97UxT27Ow1tW9rLbCbBUcANQKoEUCNAGoEUCOA2t08/f5mj+f2N01t9n2ZF98K7DX+6Dcn+FZg9En595X/1SNdvtB4N2Yt9I7wkzhFv1KWz4HSoXRx6IzYByZne9JpEeAokdX37ryHl8+OqIAaAdTYB7KWe0LhbruFCkwqzZmwvAL9FVHx7yD8cZplVI0AagRQI4AaAdQIoBY+QAecIyKJbyjm6wAAAABJRU5ErkJggg==",De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEhSURBVHgB7dmxasJQGAXgY+kjFDt1aJ+lnRQc2qHdWotLKU6KCA5ZRScHF1FXBxdBJ30LQXBRwUnxHTQZMrgI3v/KUTjfGBLIyX/vf2+SROo9u8cNu8ONUwA2BWBTADYFYFMANgVgu4dRp1lFMvkAF9vtDtm/EizMFXC9eeu1MXMFYumP37POH/bb8EFz4Nwn75vaaCT38wUWU4DHsIs06gEyqVewOM+Bl+cnVIr/XlqhhVOATPoNue/Po2On2uIlJ7rbENpfz6ckpwoMRhNMZ/OjIcRqp86TeLFcoxzUsFitwWTqQptwM5YvBGFFxmDxsg60uj2waCWO2qevnaUL7UZjrCqYKxC9FjKujSX0h4ZMAdgUgE0B2BSATQHYFIDtAJj3PWal2lrSAAAAAElFTkSuQmCC",tt="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2014.3426L3.28767%2010.6303C2.55345%209.89603%202.05344%208.96057%201.85087%207.94217C1.64831%206.92377%201.75228%205.86817%202.14964%204.90887C2.547%203.94956%203.21991%203.12962%204.08327%202.55275C4.94662%201.97587%205.96165%201.66797%207%201.66797C8.03835%201.66797%209.05338%201.97587%209.91674%202.55275C10.7801%203.12962%2011.453%203.94956%2011.8504%204.90887C12.2477%205.86817%2012.3517%206.92377%2012.1491%207.94217C11.9466%208.96057%2011.4466%209.89603%2010.7123%2010.6303L7%2014.3426ZM9.8875%209.80542C10.4585%209.23434%2010.8474%208.50676%2011.0049%207.71468C11.1624%206.92261%2011.0815%206.1016%2010.7725%205.3555C10.4634%204.60939%209.94003%203.97169%209.26854%203.52302C8.59705%203.07436%207.80759%202.83488%207%202.83488C6.19241%202.83488%205.40296%203.07436%204.73147%203.52302C4.05998%203.97169%203.5366%204.60939%203.22753%205.3555C2.91846%206.1016%202.83758%206.92261%202.9951%207.71468C3.15262%208.50676%203.54148%209.23434%204.1125%209.80542L7%2012.6929L9.8875%209.80542ZM7%208.08459C6.69058%208.08459%206.39384%207.96167%206.17505%207.74288C5.95625%207.52409%205.83334%207.22734%205.83334%206.91792C5.83334%206.6085%205.95625%206.31176%206.17505%206.09297C6.39384%205.87417%206.69058%205.75126%207%205.75126C7.30942%205.75126%207.60617%205.87417%207.82496%206.09297C8.04375%206.31176%208.16667%206.6085%208.16667%206.91792C8.16667%207.22734%208.04375%207.52409%207.82496%207.74288C7.60617%207.96167%207.30942%208.08459%207%208.08459Z'%20fill='%239DA5B4'%20/%3e%3c/svg%3e";function lt(l){let e,t,s,o,n;return{c(){e=J("svg"),t=J("circle"),o=J("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var u=A(e);t=ee(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),A(t).forEach(g),o=ee(u,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),A(o).forEach(g),u.forEach(g),this.h()},h(){r(t,"cx","8"),r(t,"cy","8"),r(t,"r","8"),r(t,"fill",s=l[0]==="owner"?"#FFF5F0":"#EAFFF4"),r(o,"fill-rule","evenodd"),r(o,"clip-rule","evenodd"),r(o,"d","M7.62492 3.76955C7.81242 3.39453 8.18742 3.39453 8.37492 3.7695L10.313 7.11708C10.3274 7.1071 10.3426 7.09811 10.3584 7.09019L12.5656 5.98663C12.8444 5.84721 13.1617 6.08913 13.1011 6.39494L12.1578 11.1549C12.123 11.3305 11.969 11.457 11.79 11.457H9.88001C9.87831 11.457 9.87662 11.457 9.87492 11.457L6.76851 11.457C6.76656 11.457 6.76461 11.457 6.76266 11.457H4.2098C4.0308 11.457 3.87675 11.3305 3.84196 11.1549L2.89863 6.39494C2.83803 6.08913 3.15534 5.84721 3.43418 5.98663L5.64131 7.09019C5.65547 7.09727 5.59175 7.06541 5.68216 7.11394C5.70599 7.09019 5.6972 7.11394 6.10108 6.41719C6.08531 6.43899 6.1158 6.39538 6.10108 6.41719C6.12971 6.37762 6.15859 6.33772 6.18227 6.29624L7.62492 3.76955Z"),r(o,"fill",n=l[0]==="owner"?"#FF7A00":"#1FCA70"),r(e,"width","16"),r(e,"height","16"),r(e,"viewBox","0 0 16 16"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(a,u){G(a,e,u),i(e,t),i(e,o)},p(a,[u]){u&1&&s!==(s=a[0]==="owner"?"#FFF5F0":"#EAFFF4")&&r(t,"fill",s),u&1&&n!==(n=a[0]==="owner"?"#FF7A00":"#1FCA70")&&r(o,"fill",n)},i:te,o:te,d(a){a&&g(e)}}}function st(l,e,t){let{type:s="owner"}=e;return l.$$set=o=>{"type"in o&&t(0,s=o.type)},[s]}class ot extends Be{constructor(e){super(),Le(this,e,st,lt,xe,{type:0})}}function rt(l){let e,t,s,o,n,a;return{c(){e=J("svg"),t=J("path"),s=J("defs"),o=J("clipPath"),n=J("path"),a=J("image"),this.h()},l(u){e=ee(u,"svg",{viewBox:!0,preserveAspectRatio:!0});var p=A(e);t=ee(p,"path",{d:!0,stroke:!0}),A(t).forEach(g),s=ee(p,"defs",{});var b=A(s);o=ee(b,"clipPath",{id:!0});var _=A(o);n=ee(_,"path",{d:!0}),A(n).forEach(g),_.forEach(g),b.forEach(g),a=ee(p,"image",{width:!0,height:!0,href:!0,preserveAspectRatio:!0,"clip-path":!0}),A(a).forEach(g),p.forEach(g),this.h()},h(){r(t,"d","M21.2839 0.684838C21.7305 0.438387 22.2695 0.438387 22.7161 0.684838L42.7161 11.7219C43.1974 11.9875 43.5 12.5 43.5 13.0605V34.9395C43.5 35.5 43.1974 36.0125 42.7161 36.2781L22.7161 47.3152C22.2695 47.5616 21.7305 47.5616 21.2839 47.3152L1.28388 36.2781C0.802571 36.0125 0.5 35.5 0.5 34.9395V13.0605C0.5 12.5 0.802571 11.9875 1.28388 11.7219L21.2839 0.684838Z"),r(t,"stroke","#EAEEF5"),r(n,"d","M21.2839 0.684838C21.7305 0.438387 22.2695 0.438387 22.7161 0.684838L42.7161 11.7219C43.1974 11.9875 43.5 12.5 43.5 13.0605V34.9395C43.5 35.5 43.1974 36.0125 42.7161 36.2781L22.7161 47.3152C22.2695 47.5616 21.7305 47.5616 21.2839 47.3152L1.28388 36.2781C0.802571 36.0125 0.5 35.5 0.5 34.9395V13.0605C0.5 12.5 0.802571 11.9875 1.28388 11.7219L21.2839 0.684838Z"),r(o,"id","hex-clip"),r(a,"width","44"),r(a,"height","48"),r(a,"href",l[0]),r(a,"preserveAspectRatio","xMidYMid slice"),r(a,"clip-path","url(#hex-clip)"),r(e,"viewBox","0 0 44 48"),r(e,"preserveAspectRatio","xMinYMin slice")},m(u,p){G(u,e,p),i(e,t),i(e,s),i(s,o),i(o,n),i(e,a)},p(u,[p]){p&1&&r(a,"href",u[0])},i:te,o:te,d(u){u&&g(e)}}}function nt(l,e,t){let{src:s="https://picsum.photos/112/116"}=e;return l.$$set=o=>{"src"in o&&t(0,s=o.src)},[s]}class at extends Be{constructor(e){super(),Le(this,e,nt,rt,xe,{src:0})}}function Xe(l,e,t){const s=l.slice();return s[38]=e[t],s[40]=t,s}function it(l){let e,t="박스";return{c(){e=C("div"),e.textContent=t,this.h()},l(s){e=w(s,"DIV",{class:!0,"data-svelte-h":!0}),Ae(e)!=="svelte-oldnbc"&&(e.textContent=t),this.h()},h(){r(e,"class","text-[21242C] typo-h3")},m(s,o){G(s,e,o)},p:te,d(s){s&&g(e)}}}function Te(l){let e,t,s="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어보세요!",o,n,a="새 박스 만들기",u,p;return{c(){e=C("div"),t=C("p"),t.innerHTML=s,o=U(),n=C("button"),n.textContent=a,this.h()},l(b){e=w(b,"DIV",{class:!0});var _=A(e);t=w(_,"P",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-92hfch"&&(t.innerHTML=s),o=H(_),n=w(_,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(n)!=="svelte-yawy92"&&(n.textContent=a),_.forEach(g),this.h()},h(){r(t,"class","typo-body3 text-gray-500 text-center"),r(n,"class","px-3.5 py-1.5 w-fit rounded-3xl border border-gray-200 typo-body3 text-gray-700"),r(e,"class","flex flex-col gap-3.5 px-4 items-center")},m(b,_){G(b,e,_),i(e,t),i(e,o),i(e,n),u||(p=q(n,"click",l[8]),u=!0)},p:te,d(b){b&&g(e),u=!1,p()}}}function ct(l){let e,t;return{c(){e=C("img"),this.h()},l(s){e=w(s,"IMG",{src:!0,alt:!0}),this.h()},h(){_e(e.src,t=et)||r(e,"src",t),r(e,"alt","")},m(s,o){G(s,e,o)},p:te,i:te,o:te,d(s){s&&g(e)}}}function ut(l){let e,t;return e=new at({props:{src:l[38].image}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,o){ge(e,s,o),t=!0},p(s,o){const n={};o[0]&1&&(n.src=s[38].image),e.$set(n)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function Ve(l){let e,t,s;return t=new ot({props:{type:l[38].role}}),{c(){e=C("div"),he(t.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var n=A(e);pe(t.$$.fragment,n),n.forEach(g),this.h()},h(){r(e,"class","absolute bottom-0 right-0.5")},m(o,n){G(o,e,n),ge(t,e,null),s=!0},p(o,n){const a={};n[0]&1&&(a.type=o[38].role),t.$set(a)},i(o){s||($(t.$$.fragment,o),s=!0)},o(o){P(t.$$.fragment,o),s=!1},d(o){o&&g(e),me(t)}}}function Oe(l){let e,t,s,o,n,a,u,p,b,_,Z,T,M,F=l[38].place_count+"",y,E,L,f,N=l[38].name+"",m,c,d,B,V,v,j,Q,S,Y,le;const O=[ut,ct],I=[];function z(X,x){return X[38].image?0:1}s=z(l),o=I[s]=O[s](l);let k=(l[38].role==="owner"||l[38].role==="manager")&&Ve(l);function ie(){return l[21](l[40],l[38])}function ce(...X){return l[22](l[38],...X)}function K(){return l[23](l[38])}return{c(){e=C("div"),t=C("div"),o.c(),n=U(),k&&k.c(),a=U(),u=C("div"),p=C("div"),b=C("div"),_=C("img"),T=U(),M=C("div"),y=oe(F),E=U(),L=C("div"),f=C("div"),m=oe(N),c=U(),d=C("button"),B=C("img"),j=U(),this.h()},l(X){e=w(X,"DIV",{class:!0,"aria-hidden":!0});var x=A(e);t=w(x,"DIV",{class:!0});var W=A(t);o.l(W),n=H(W),k&&k.l(W),W.forEach(g),a=H(x),u=w(x,"DIV",{class:!0});var h=A(u);p=w(h,"DIV",{class:!0});var D=A(p);b=w(D,"DIV",{class:!0});var R=A(b);_=w(R,"IMG",{src:!0,alt:!0}),T=H(R),M=w(R,"DIV",{class:!0});var ve=A(M);y=re(ve,F),ve.forEach(g),R.forEach(g),D.forEach(g),E=H(h),L=w(h,"DIV",{class:!0});var ue=A(L);f=w(ue,"DIV",{class:!0});var fe=A(f);m=re(fe,N),fe.forEach(g),ue.forEach(g),h.forEach(g),c=H(x),d=w(x,"BUTTON",{class:!0});var de=A(d);B=w(de,"IMG",{src:!0,alt:!0}),de.forEach(g),j=H(x),x.forEach(g),this.h()},h(){r(t,"class","flex-none w-12 h-12 relative"),_e(_.src,Z=tt)||r(_,"src",Z),r(_,"alt","place-icon"),r(M,"class","typo-caption2"),r(b,"class","flex flex-row gap-0.5"),r(p,"class","flex flex-row gap-1 text-gray-400"),r(f,"class","typo-body1 text-black truncate"),r(L,"class","w-full flex flex-row gap-2"),r(u,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),_e(B.src,V=l[38].role==="owner"?ye:De)||r(B,"src",V),r(B,"alt",v=l[38].role==="owner"?"박스 삭제":"박스 나가기"),r(d,"class","absolute -right-12"),r(e,"class",Q=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`),r(e,"aria-hidden",""),Ce(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ae+l[4]:l[4]:0}px)`)},m(X,x){G(X,e,x),i(e,t),I[s].m(t,null),i(t,n),k&&k.m(t,null),i(e,a),i(e,u),i(u,p),i(p,b),i(b,_),i(b,T),i(b,M),i(M,y),i(u,E),i(u,L),i(L,f),i(f,m),i(e,c),i(e,d),i(d,B),i(e,j),S=!0,Y||(le=[q(d,"click",ke(ie)),q(e,"touchstart",ce),q(e,"touchmove",l[11]),q(e,"touchend",l[12]),q(e,"transitionend",l[13]),q(e,"click",K)],Y=!0)},p(X,x){l=X;let W=s;s=z(l),s===W?I[s].p(l,x):(be(),P(I[W],1,1,()=>{I[W]=null}),we(),o=I[s],o?o.p(l,x):(o=I[s]=O[s](l),o.c()),$(o,1),o.m(t,n)),l[38].role==="owner"||l[38].role==="manager"?k?(k.p(l,x),x[0]&1&&$(k,1)):(k=Ve(l),k.c(),$(k,1),k.m(t,null)):k&&(be(),P(k,1,1,()=>{k=null}),we()),(!S||x[0]&1)&&F!==(F=l[38].place_count+"")&&ne(y,F),(!S||x[0]&1)&&N!==(N=l[38].name+"")&&ne(m,N),(!S||x[0]&1&&!_e(B.src,V=l[38].role==="owner"?ye:De))&&r(B,"src",V),(!S||x[0]&1&&v!==(v=l[38].role==="owner"?"박스 삭제":"박스 나가기"))&&r(B,"alt",v),(!S||x[0]&37&&Q!==(Q=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`))&&r(e,"class",Q),x[0]&29&&Ce(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ae+l[4]:l[4]:0}px)`)},i(X){S||($(o),$(k),S=!0)},o(X){P(o),P(k),S=!1},d(X){X&&g(e),I[s].d(),k&&k.d(),Y=!1,Ye(le)}}}function Se(l){let e,t,s,o,n;return t=new Ge({props:{onMask:!0,position:"sticky",closeOnClick:!0,$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){e=C("div"),he(t.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=A(e);pe(t.$$.fragment,u),u.forEach(g),this.h()},h(){r(e,"class","box-modal-container w-full fixed left-0 top-0 z-[9999]"),Ce(e,"height",`${l[6]??0}px`)},m(a,u){G(a,e,u),ge(t,e,null),s=!0,o||(n=q(e,"touchend",l[15],{passive:!0}),o=!0)},p(a,u){const p={};u[0]&129|u[1]&1024&&(p.$$scope={dirty:u,ctx:a}),t.$set(p),u[0]&64&&Ce(e,"height",`${a[6]??0}px`)},i(a){s||($(t.$$.fragment,a),s=!0)},o(a){P(t.$$.fragment,a),s=!1},d(a){a&&g(e),me(t),o=!1,n()}}}function ft(l){var le;let e,t,s,o,n=((le=l[0][l[7].listIdx])==null?void 0:le.name)+"",a,u,p,b=l[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?",_,Z,T,M=l[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",F,y,E,L,f=l[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",N,m,c,d,B="아니오",V,v,j=l[7].stage==="delete"?"삭제":"나가기",Q,S,Y;return{c(){e=C("section"),t=C("div"),s=C("div"),o=C("p"),a=oe(n),u=U(),p=C("p"),_=oe(b),Z=U(),T=C("p"),F=oe(M),y=U(),E=C("br"),L=U(),N=oe(f),m=U(),c=C("div"),d=C("button"),d.textContent=B,V=U(),v=C("button"),Q=oe(j),this.h()},l(O){e=w(O,"SECTION",{class:!0});var I=A(e);t=w(I,"DIV",{class:!0});var z=A(t);s=w(z,"DIV",{class:!0});var k=A(s);o=w(k,"P",{class:!0});var ie=A(o);a=re(ie,n),ie.forEach(g),u=H(k),p=w(k,"P",{class:!0});var ce=A(p);_=re(ce,b),ce.forEach(g),k.forEach(g),Z=H(z),T=w(z,"P",{class:!0});var K=A(T);F=re(K,M),y=H(K),E=w(K,"BR",{}),L=H(K),N=re(K,f),K.forEach(g),z.forEach(g),m=H(I),c=w(I,"DIV",{class:!0});var X=A(c);d=w(X,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(d)!=="svelte-15cnivs"&&(d.textContent=B),V=H(X),v=w(X,"BUTTON",{class:!0});var x=A(v);Q=re(x,j),x.forEach(g),X.forEach(g),I.forEach(g),this.h()},h(){r(o,"class","typo-h3 truncate"),r(p,"class","typo-h3 flex-none"),r(s,"class","w-full flex flex-row justify-center gap-1 typo-h3"),r(T,"class","typo-body4 text-center"),r(t,"class","box-modal-body flex flex-col justify-center items-center gap-2.5 w-full"),r(d,"class","bg-gray-300 rounded-md w-full h-14"),r(v,"class","bg-primary-500 rounded-md w-full h-14"),r(c,"class","box-modal-footer w-full flex flex-row gap-2.5 justify-center text-white text-lg font-semibold"),r(e,"class","box-modal flex flex-col items-start px-4 py-10 gap-7 absolute bottom-0 bg-white rounded-t-3xl w-screen z-[9999]")},m(O,I){G(O,e,I),i(e,t),i(t,s),i(s,o),i(o,a),i(s,u),i(s,p),i(p,_),i(t,Z),i(t,T),i(T,F),i(T,y),i(T,E),i(T,L),i(T,N),i(e,m),i(e,c),i(c,d),i(c,V),i(c,v),i(v,Q),S||(Y=[q(d,"click",l[15]),q(v,"click",l[16]),q(e,"touchstart",ke(l[17])),q(e,"touchend",ke(l[18]))],S=!0)},p(O,I){var z;I[0]&129&&n!==(n=((z=O[0][O[7].listIdx])==null?void 0:z.name)+"")&&ne(a,n),I[0]&128&&b!==(b=O[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?")&&ne(_,b),I[0]&128&&M!==(M=O[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ne(F,M),I[0]&128&&f!==(f=O[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ne(N,f),I[0]&128&&j!==(j=O[7].stage==="delete"?"삭제":"나가기")&&ne(Q,j)},d(O){O&&g(e),S=!1,Ye(Y)}}}function dt(l){let e,t,s,o,n,a,u,p,b,_,Z,T,M;t=new qe({props:{position:"sticky",leftBack:"black",rightBoxAdd:"#1F5AFF",backgroundColor:"bg-white",$$slots:{default:[it]},$$scope:{ctx:l}}});function F(c){l[20](c)}let y={round:!0,placeholder:"검색하세요",prefixIcon:Je,prefixPointer:!0,onPrefixClick:l[19],clear:!0,backgroundColor:"bg-gray-50",onInput:l[9]};l[1]!==void 0&&(y.value=l[1]),n=new We({props:y}),Ue.push(()=>ze(n,"value",F));let E=l[0].length===0&&Te(l),L=Fe(l[0]),f=[];for(let c=0;c<L.length;c+=1)f[c]=Oe(Xe(l,L,c));const N=c=>P(f[c],1,1,()=>{f[c]=null});let m=l[7]&&Se(l);return{c(){e=C("div"),he(t.$$.fragment),s=U(),o=C("section"),he(n.$$.fragment),u=U(),p=C("section"),E&&E.c(),b=U();for(let c=0;c<f.length;c+=1)f[c].c();Z=U(),m&&m.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var d=A(e);pe(t.$$.fragment,d),s=H(d),o=w(d,"SECTION",{class:!0});var B=A(o);pe(n.$$.fragment,B),B.forEach(g),u=H(d),p=w(d,"SECTION",{class:!0});var V=A(p);E&&E.l(V),b=H(V);for(let v=0;v<f.length;v+=1)f[v].l(V);V.forEach(g),Z=H(d),m&&m.l(d),d.forEach(g),this.h()},h(){r(o,"class","box-search sticky p-4 top-[100px] z-10 bg-white"),r(p,"class",_=`box-contents flex flex-col ${l[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`),r(e,"class","box flex flex-col min-h-full"),He(()=>l[24].call(e))},m(c,d){G(c,e,d),ge(t,e,null),i(e,s),i(e,o),ge(n,o,null),i(e,u),i(e,p),E&&E.m(p,null),i(p,b);for(let B=0;B<f.length;B+=1)f[B]&&f[B].m(p,null);i(e,Z),m&&m.m(e,null),T=$e(e,l[24].bind(e)),M=!0},p(c,d){const B={};d[1]&1024&&(B.$$scope={dirty:d,ctx:c}),t.$set(B);const V={};if(!a&&d[0]&2&&(a=!0,V.value=c[1],Ne(()=>a=!1)),n.$set(V),c[0].length===0?E?E.p(c,d):(E=Te(c),E.c(),E.m(p,b)):E&&(E.d(1),E=null),d[0]&31805){L=Fe(c[0]);let v;for(v=0;v<L.length;v+=1){const j=Xe(c,L,v);f[v]?(f[v].p(j,d),$(f[v],1)):(f[v]=Oe(j),f[v].c(),$(f[v],1),f[v].m(p,null))}for(be(),v=L.length;v<f.length;v+=1)N(v);we()}(!M||d[0]&1&&_!==(_=`box-contents flex flex-col ${c[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`))&&r(p,"class",_),c[7]?m?(m.p(c,d),d[0]&128&&$(m,1)):(m=Se(c),m.c(),$(m,1),m.m(e,null)):m&&(be(),P(m,1,1,()=>{m=null}),we())},i(c){if(!M){$(t.$$.fragment,c),$(n.$$.fragment,c);for(let d=0;d<L.length;d+=1)$(f[d]);$(m),M=!0}},o(c){P(t.$$.fragment,c),P(n.$$.fragment,c),f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)P(f[d]);P(m),M=!1},d(c){c&&g(e),me(t),me(n),E&&E.d(),je(f,c),m&&m.d(),T()}}}let ae=48;function ht(l,e,t){let s;Re(l,se,h=>t(30,s=h));const o=Ze();let n=[],a=[],u=sessionStorage.getItem("jwt");async function p(){if(!u)return;const h=await fetch("https://azit.surflux.studio/boxes",{method:"GET",headers:{Authorization:`Bearer ${u}`}});if(!h.ok)return;const D=await h.json();t(0,a=n=D.data)}function b(){u?Ee("/boxes/-1/setting"):Me.emit("pushSnackbar",{message:"로그인이 필요합니다.",uuid:"login-required",buttonText:"로그인",callback:()=>{Ke(),Ee("/boxes/-1/setting")}})}let _="",Z;function T(h){clearTimeout(Z),Z=setTimeout(M,300)}function M(){t(0,a=_?n.filter(h=>h.name.includes(_)):n)}let F,y=!1,E=-1,L=-1,f;function N(h,D){f=void 0,t(4,m=0),t(5,d=!1),se.set(!0),E=h.touches[0].clientX,L=h.touches[0].clientY,F!==void 0&&F!==D&&t(3,y=!1),t(2,F=D)}let m=0;function c(h){if(F===void 0)return;let R=h.touches[0].clientX-E,ue=h.touches[0].clientY-L;if(f===void 0&&(f=Math.abs(R)-Math.abs(ue)>=0,!y&&f&&R>0))return t(2,F=void 0),t(4,m=0),se.set(!1);if(f){const fe=y?ae:0,de=y?0:-ae;t(4,m=R>fe?fe:R<de?de:R)}}let d=!1;function B(h){if(F!==void 0)if(f){t(5,d=!0);let D=h.changedTouches[0].clientX-E;(m===0||Math.abs(m)===ae)&&(h.stopPropagation(),V()),D>=ae/2?t(3,y=!1):D<=-ae/2&&t(3,y=!0),t(4,m=0)}else se.set(!1)}function V(){t(5,d=!1),se.set(!1)}function v(h){s||Y||(t(2,F=void 0),t(3,y=!1),f=void 0,t(4,m=0),se.set(!0),E=h.touches[0].clientX,L=h.touches[0].clientY)}function j(h){if(f||Y)return;let R=h.touches[0].clientX-E,ue=h.touches[0].clientY-L;f===void 0&&(f=Math.abs(R)-Math.abs(ue)>=0),f&&se.set(!1)}function Q(h){Y||(f||o("stopSwipe",{stop:!0,toDefault:!0}),se.set(!1),o("stopSwipe",{stop:!1}))}Pe(()=>{p(),document.addEventListener("touchstart",v),document.addEventListener("touchmove",j),document.addEventListener("touchend",Q)}),Qe(()=>{document.removeEventListener("touchstart",v),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",Q)});let S,Y;function le(h,D,R){t(7,Y={listIdx:h,idx:D,stage:R==="owner"?"delete":"leave"}),o("stopSwipe",{stop:!0,toHiddenScroll:!0})}function O(){t(7,Y=void 0),t(2,F=void 0),t(3,y=!1),o("stopSwipe",{stop:!1,toHiddenScroll:!1})}function I(){if(!Y)return;Y.stage==="delete"&&fetch(`https://azit.surflux.studio/boxes/${Y.idx}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});const D=n.splice(Y.listIdx,1)[0];M(),Me.emit("pushSnackbar",{message:`${D.name} 박스를 삭제했습니다.`}),O()}function z(h){Ie.call(this,l,h)}function k(h){Ie.call(this,l,h)}const ie=()=>window.history.back();function ce(h){_=h,t(1,_)}const K=(h,D)=>le(h,D.idx,D.role),X=(h,D)=>N(D,h.idx),x=h=>Ee(`/boxes/${h.idx}/detail`);function W(){S=this.clientHeight,t(6,S)}return[a,_,F,y,m,d,S,Y,b,T,N,c,B,V,le,O,I,z,k,ie,ce,K,X,x,W]}class bt extends Be{constructor(e){super(),Le(this,e,ht,dt,xe,{},null,[-1,-1])}}export{bt as component};
