import{s as P,a as I,g as v,i as g,f as _,q as S,e as V,c as j,b as q,o as z,n as h}from"../chunks/scheduler.zPBk7LGW.js";import{S as B,i as E,c as x,a as b,m as k,b as f,f as F,t as p,d as w,g as H}from"../chunks/index.C4C7kEja.js";import{H as M}from"../chunks/Header.D715OeCp.js";import{V as U}from"../chunks/Viewer.BHxAZdLM.js";import{F as A}from"../chunks/Footer.CG7FwboT.js";import{a as y}from"../chunks/searchParams.BCVjfre3.js";function C(m){let r,o;return r=new U({props:{posts:m[0]}}),{c(){x(r.$$.fragment)},l(e){b(r.$$.fragment,e)},m(e,s){k(r,e,s),o=!0},p(e,s){const n={};s&1&&(n.posts=e[0]),r.$set(n)},i(e){o||(p(r.$$.fragment,e),o=!0)},o(e){f(r.$$.fragment,e),o=!1},d(e){w(r,e)}}}function D(m){let r;return{c(){r=V("div"),this.h()},l(o){r=j(o,"DIV",{class:!0}),q(r).forEach(_),this.h()},h(){z(r,"class","bg-black w-screen h-screen")},m(o,e){g(o,r,e)},p:h,i:h,o:h,d(o){o&&_(r)}}}function G(m){let r,o,e,s,n,i,l;r=new M({props:{position:"fixed",leftMap:"white",rightUser:"white",rightBox:"white"}});const u=[D,C],a=[];function $(t,c){return t[0].length===0?0:1}return e=$(m),s=a[e]=u[e](m),i=new A({props:{position:"fixed",right:"add"}}),{c(){x(r.$$.fragment),o=I(),s.c(),n=I(),x(i.$$.fragment)},l(t){b(r.$$.fragment,t),o=v(t),s.l(t),n=v(t),b(i.$$.fragment,t)},m(t,c){k(r,t,c),g(t,o,c),a[e].m(t,c),g(t,n,c),k(i,t,c),l=!0},p(t,[c]){let d=e;e=$(t),e===d?a[e].p(t,c):(H(),f(a[d],1,1,()=>{a[d]=null}),F(),s=a[e],s?s.p(t,c):(s=a[e]=u[e](t),s.c()),p(s,1),s.m(n.parentNode,n))},i(t){l||(p(r.$$.fragment,t),p(s),p(i.$$.fragment,t),l=!0)},o(t){f(r.$$.fragment,t),f(s),f(i.$$.fragment,t),l=!1},d(t){t&&(_(o),_(n)),w(r,t),a[e].d(t),w(i,t)}}}function N(m,r,o){let e=[];return S(async()=>{const s=sessionStorage.getItem("jwt"),n=y("placeIdx"),i=n?`&placeIdx=${n}`:"",l=y("userIdx"),u=l?`&userIdx=${l}`:"";fetch(`https://azit.surflux.studio/posts?${i}${u}&limit=30`,{method:"GET",headers:{Authorization:"Bearer "+s}}).then(a=>a.json()).then(a=>o(0,e=a.data.map($=>({...$,mediaIdx:0}))))}),[e]}class R extends B{constructor(r){super(),E(this,r,N,G,P,{})}}export{R as component};
