import{s as xe,q as ce,r as he,b as m,f,v as s,i as Q,h as a,n as q,y as Ze,e as p,a as L,c as v,g as T,C as we,z as ze,G as rt,k as lt,B as Ae,A as fe,t as _e,d as pe,J as nt,j as ve,F as He}from"../chunks/scheduler.CVGJxaOr.js";import{S as De,i as Ee,e as Ue,c as te,b as re,m as le,t as x,f as ke,a as y,d as ne,g as $e}from"../chunks/index.1WceP6qL.js";import{e as Ye}from"../chunks/each.Xy939NiR.js";import{g as je}from"../chunks/entry.B9SH3PBZ.js";import{H as st}from"../chunks/Header.QA-SyU_y.js";import{F as ot}from"../chunks/Field.lhqZVZcd.js";import{s as Re,i as it,e as Le,g as at,b as ut,A as ft}from"../chunks/sign.DGdpB9NJ.js";import{N as ct}from"../chunks/NavigationBar.Bg5E0jmJ.js";import{s as Te}from"../chunks/s32cloudfront.BC_qV2gr.js";import{B as ht}from"../chunks/BottomNavigationPadder.C-a_SJOR.js";import{C as Qe}from"../chunks/CircleImage.Cp2cIWzb.js";import{I as dt}from"../chunks/IconDelete.DuO34Oys.js";import{M as mt}from"../chunks/Modal.DQEXtJ1V.js";import{I as gt}from"../chunks/IconAdd.BqbxdOpB.js";import{I as _t}from"../chunks/IconSearch.Clw2emYQ.js";import{u as pt}from"../chunks/follow.CpHyFw_a.js";function vt(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=m(e);t=he(n,"path",{d:!0}),m(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M5.29289 10.4018C5.68342 10.7924 6.31658 10.7924 6.70711 10.4018L8.8875 8.22144C9.5 7.50049 9.84738 6.92278 10.0049 6.1307C10.1624 5.33862 10.0815 4.51762 9.77247 3.77151C9.4634 3.02541 8.94003 2.3877 8.26854 1.93904C7.59704 1.49037 6.80759 1.2509 6 1.2509C5.19241 1.2509 4.40296 1.49037 3.73147 1.93904C3.05998 2.3877 2.5366 3.02541 2.22753 3.77151C1.91846 4.51762 1.83758 5.33862 1.9951 6.1307C2.15262 6.92278 2.5 7.50049 3.1125 8.22144L5.29289 10.4018ZM6.70711 12.0515C6.31658 12.442 5.68342 12.442 5.29289 12.0515L2.28767 9.04627C1.55345 8.31205 1.05344 7.37658 0.850875 6.35819C0.648308 5.33979 0.752279 4.28419 1.14964 3.32488C1.547 2.36557 2.21991 1.54564 3.08327 0.968765C3.94662 0.39189 4.96165 0.0839844 6 0.0839844C7.03835 0.0839844 8.05338 0.39189 8.91674 0.968765C9.7801 1.54564 10.453 2.36557 10.8504 3.32488C11.2477 4.28419 11.3517 5.33979 11.1491 6.35819C10.9466 7.37658 10.4466 8.31205 9.71234 9.04627L6.70711 12.0515ZM6 6.50061C6.30942 6.50061 6.60617 6.37769 6.82496 6.1589C7.04375 5.9401 7.16667 5.64336 7.16667 5.33394C7.16667 5.02452 7.04375 4.72777 6.82496 4.50898C6.60617 4.29019 6.30942 4.16727 6 4.16727C5.69058 4.16727 5.39384 4.29019 5.17504 4.50898C4.95625 4.72777 4.83334 5.02452 4.83334 5.33394C4.83334 5.64336 4.95625 5.9401 5.17504 6.1589C5.39384 6.37769 5.69058 6.50061 6 6.50061ZM6 7.66727C5.38116 7.66727 4.78767 7.42144 4.35009 6.98386C3.9125 6.54627 3.66667 5.95278 3.66667 5.33394C3.66667 4.7151 3.9125 4.12161 4.35009 3.68402C4.78767 3.24644 5.38116 3.00061 6 3.00061C6.61884 3.00061 7.21233 3.24644 7.64992 3.68402C8.0875 4.12161 8.33333 4.7151 8.33333 5.33394C8.33333 5.95278 8.0875 6.54627 7.64992 6.98386C7.21233 7.42144 6.61884 7.66727 6 7.66727Z"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 12 13"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){Q(r,e,n),a(e,t)},p(r,[n]){n&1&&s(e,"width",r[0]),n&2&&s(e,"height",r[1]),n&4&&s(e,"fill",r[2])},i:q,o:q,d(r){r&&f(e)}}}function Ct(l,e,t){let{width:r=12}=e,{height:n=13}=e,{fill:o="#B3B8BD"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class bt extends De{constructor(e){super(),Ee(this,e,Ct,vt,xe,{width:0,height:1,fill:2})}}function wt(l){let e,t,r,n,o;return{c(){e=ce("svg"),t=ce("path"),r=ce("path"),n=ce("path"),o=ce("path"),this.h()},l(i){e=he(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var g=m(e);t=he(g,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),m(t).forEach(f),r=he(g,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),m(r).forEach(f),n=he(g,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),m(n).forEach(f),o=he(g,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,"stroke-linecap":!0}),m(o).forEach(f),g.forEach(f),this.h()},h(){s(t,"d","M10.9921 5.09375C10.912 6.20582 10.087 7.0625 9.1874 7.0625C8.28779 7.0625 7.46147 6.20609 7.38272 5.09375C7.30069 3.93684 8.10377 3.125 9.1874 3.125C10.271 3.125 11.0741 3.95789 10.9921 5.09375Z"),s(t,"stroke","#B3B8BD"),s(t,"stroke-width","0.875"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(r,"d","M9.18739 8.8125C7.4054 8.8125 5.69177 9.69762 5.26247 11.4214C5.20559 11.6494 5.3486 11.875 5.58294 11.875H12.7921C13.0265 11.875 13.1686 11.6494 13.1126 11.4214C12.6833 9.67 10.9697 8.8125 9.18739 8.8125Z"),s(r,"stroke","#B3B8BD"),s(r,"stroke-width","0.875"),s(r,"stroke-miterlimit","10"),s(n,"d","M5.46889 5.5843C5.4049 6.47242 4.73826 7.17188 4.01967 7.17188C3.30108 7.17188 2.63334 6.4727 2.57045 5.5843C2.5051 4.66035 3.15397 4 4.01967 4C4.88537 4 5.53424 4.6773 5.46889 5.5843Z"),s(n,"stroke","#B3B8BD"),s(n,"stroke-width","0.875"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(o,"d","M5.63259 8.86777C5.13904 8.64164 4.59544 8.55469 4.01931 8.55469C2.59744 8.55469 1.22751 9.26152 0.884349 10.6383C0.839232 10.8204 0.953529 11.0006 1.14056 11.0006H4.21072"),s(o,"stroke","#B3B8BD"),s(o,"stroke-width","0.875"),s(o,"stroke-miterlimit","10"),s(o,"stroke-linecap","round"),s(e,"width",l[0]),s(e,"height",l[1]),s(e,"viewBox","0 0 14 15"),s(e,"fill",l[2]),s(e,"xmlns","http://www.w3.org/2000/svg")},m(i,g){Q(i,e,g),a(e,t),a(e,r),a(e,n),a(e,o)},p(i,[g]){g&1&&s(e,"width",i[0]),g&2&&s(e,"height",i[1]),g&4&&s(e,"fill",i[2])},i:q,o:q,d(i){i&&f(e)}}}function kt(l,e,t){let{width:r=14}=e,{height:n=15}=e,{fill:o="none"}=e;return l.$$set=i=>{"width"in i&&t(0,r=i.width),"height"in i&&t(1,n=i.height),"fill"in i&&t(2,o=i.fill)},[r,n,o]}class $t extends De{constructor(e){super(),Ee(this,e,kt,wt,xe,{width:0,height:1,fill:2})}}function Bt(l){let e,t,r;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(n){e=he(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=m(e);t=he(o,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),m(t).forEach(f),o.forEach(f),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"clip-rule","evenodd"),s(t,"d","M6.3606 3.24177C6.59269 3.11426 6.75 2.8675 6.75 2.58398C6.75 2.16975 6.41421 1.83398 6 1.83398C5.58579 1.83398 5.25 2.16975 5.25 2.58398C5.25 2.86755 5.40736 3.11434 5.63951 3.24183L4.18809 5.85343C4.17304 5.87497 4.20214 5.83188 4.18809 5.85343C3.9551 6.21086 3.75 6.52148 3.75 6.52148C3.73755 6.51285 3.76286 6.52552 3.74935 6.51852L2.09706 5.66295C2.19302 5.53693 2.25 5.37961 2.25 5.20898C2.25 4.79475 1.91421 4.45898 1.5 4.45898C1.08579 4.45898 0.75 4.79475 0.75 5.20898C0.75 5.49229 0.907074 5.7389 1.13888 5.86648L2.03233 10.5354C2.06554 10.7089 2.21254 10.834 2.38335 10.834H4.8194L4.82498 10.8339L7.78924 10.834L7.7941 10.834H9.61665C9.78746 10.834 9.93446 10.7089 9.96766 10.5354L10.8611 5.86648C11.0929 5.7389 11.25 5.49229 11.25 5.20898C11.25 4.79475 10.9142 4.45898 10.5 4.45898C10.0858 4.45898 9.75 4.79475 9.75 5.20898C9.75 5.37961 9.80698 5.53693 9.90294 5.66295L8.25065 6.51852C8.23553 6.52635 8.22104 6.53524 8.20726 6.5451L6.3606 3.24177Z"),s(t,"fill",r=l[0]==="owner"?"#FF7A00":"#1FCA70"),s(e,"width","12"),s(e,"height","13"),s(e,"viewBox","0 0 12 13"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,o){Q(n,e,o),a(e,t)},p(n,[o]){o&1&&r!==(r=n[0]==="owner"?"#FF7A00":"#1FCA70")&&s(t,"fill",r)},i:q,o:q,d(n){n&&f(e)}}}function xt(l,e,t){let{type:r="owner"}=e;return l.$$set=n=>{"type"in n&&t(0,r=n.type)},[r]}class Dt extends De{constructor(e){super(),Ee(this,e,xt,Bt,xe,{type:0})}}function Et(l){let e,t;return{c(){e=ce("svg"),t=ce("path"),this.h()},l(r){e=he(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=m(e);t=he(n,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),m(t).forEach(f),n.forEach(f),this.h()},h(){s(t,"d","M15 4.00195H5V18.002C5 18.5324 5.21071 19.0411 5.58579 19.4162C5.96086 19.7912 6.46957 20.002 7 20.002H15M16 15.002L19 12.002M19 12.002L16 9.00195M19 12.002H9"),s(t,"stroke",l[0]),s(t,"stroke-width","2"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(e,"width","24"),s(e,"height","24"),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(r,n){Q(r,e,n),a(e,t)},p(r,[n]){n&1&&s(t,"stroke",r[0])},i:q,o:q,d(r){r&&f(e)}}}function It(l,e,t){let{strokeColor:r="white"}=e;return l.$$set=n=>{"strokeColor"in n&&t(0,r=n.strokeColor)},[r]}class Vt extends De{constructor(e){super(),Ee(this,e,It,Et,xe,{strokeColor:0})}}function Ge(l,e,t){const r=l.slice();return r[30]=e[t],r[32]=t,r}function Ft(l){let e,t,r,n,o,i,g,V,F;return r=new _t({props:{width:"24",height:"24"}}),i=new gt({props:{width:"24",height:"24"}}),{c(){e=p("div"),t=p("button"),te(r.$$.fragment),n=L(),o=p("button"),te(i.$$.fragment),this.h()},l(d){e=v(d,"DIV",{slot:!0,class:!0});var D=m(e);t=v(D,"BUTTON",{});var B=m(t);re(r.$$.fragment,B),B.forEach(f),n=T(D),o=v(D,"BUTTON",{});var k=m(o);re(i.$$.fragment,k),k.forEach(f),D.forEach(f),this.h()},h(){s(e,"slot","right"),s(e,"class","flex items-center gap-2")},m(d,D){Q(d,e,D),a(e,t),le(r,t,null),a(e,n),a(e,o),le(i,o,null),g=!0,V||(F=[fe(t,"click",l[18]),fe(o,"click",l[9])],V=!0)},p:q,i(d){g||(x(r.$$.fragment,d),x(i.$$.fragment,d),g=!0)},o(d){y(r.$$.fragment,d),y(i.$$.fragment,d),g=!1},d(d){d&&f(e),ne(r),ne(i),V=!1,He(F)}}}function qe(l){let e,t,r="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어 보세요!",n,o,i="새 박스 만들기",g,V;return{c(){e=p("div"),t=p("p"),t.innerHTML=r,n=L(),o=p("button"),o.textContent=i,this.h()},l(F){e=v(F,"DIV",{class:!0});var d=m(e);t=v(d,"P",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-kmfbm7"&&(t.innerHTML=r),n=T(d),o=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(o)!=="svelte-ap04k6"&&(o.textContent=i),d.forEach(f),this.h()},h(){s(t,"class","font-normal text-sm text-[#B3B8BD] text-center"),s(o,"class","px-3 py-2.5 bg-[#383838]/30 border border-[#383838]/30 rounded-[50px] font-normal text-xs text-[#B3B8BD]"),s(e,"class","flex flex-col gap-3.5 px-5 items-center")},m(F,d){Q(F,e,d),a(e,t),a(e,n),a(e,o),g||(V=fe(o,"click",l[9]),g=!0)},p:q,d(F){F&&f(e),g=!1,V()}}}function Mt(l){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),m(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){Q(t,e,r)},p:q,i:q,o:q,d(t){t&&f(e)}}}function yt(l){let e,t;return e=new Qe({props:{src:Te(l[30].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){le(e,r,n),t=!0},p(r,n){const o={};n[0]&8&&(o.src=Te(r[30].image??"",500)),e.$set(o)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Je(l){let e,t,r;return t=new Dt({props:{type:l[30].role}}),{c(){e=p("div"),te(t.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=m(e);re(t.$$.fragment,o),o.forEach(f),this.h()},h(){s(e,"class","absolute bottom-0 right-0 bg-[#FFF5F0] w-4 h-4 rounded-full flex justify-center items-center")},m(n,o){Q(n,e,o),le(t,e,null),r=!0},p(n,o){const i={};o[0]&8&&(i.type=n[30].role),t.$set(i)},i(n){r||(x(t.$$.fragment,n),r=!0)},o(n){y(t.$$.fragment,n),r=!1},d(n){n&&f(e),ne(t)}}}function Lt(l){let e,t;return e=new Vt({}),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){le(e,r,n),t=!0},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Tt(l){let e,t;return e=new dt({}),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){le(e,r,n),t=!0},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function We(l){let e,t,r,n,o,i,g,V,F,d,D,B,k,X,Y,A=l[30].place_count+"",P,E,R,O,ie,J,C=l[30].follower_count+"",H,b,W,_,Z=l[30].name+"",oe,u,h,$,c,w,z=`${de}px`,I=`${de}px`,ae=`-${de}px`,G,K,M,S;const ue=[yt,Mt],se=[];function Ce(U,N){return U[30].image?0:1}i=Ce(l),g=se[i]=ue[i](l);let j=l[30].role==="owner"&&Je(l);k=new bt({}),O=new $t({});const Be=[Tt,Lt],ee=[];function be(U,N){return U[30].role==="owner"?0:1}$=be(l),c=ee[$]=Be[$](l);function Ie(){return l[21](l[30])}function et(...U){return l[22](l[30],...U)}function tt(){return l[23](l[30])}return{c(){e=p("div"),t=p("div"),r=p("div"),n=p("div"),o=L(),g.c(),V=L(),j&&j.c(),F=L(),d=p("div"),D=p("div"),B=p("div"),te(k.$$.fragment),X=L(),Y=p("div"),P=_e(A),E=L(),R=p("div"),te(O.$$.fragment),ie=L(),J=p("div"),H=_e(C),b=L(),W=p("div"),_=p("div"),oe=_e(Z),u=L(),h=p("button"),c.c(),this.h()},l(U){e=v(U,"DIV",{class:!0,"aria-hidden":!0});var N=m(e);t=v(N,"DIV",{class:!0});var me=m(t);r=v(me,"DIV",{class:!0});var ge=m(r);n=v(ge,"DIV",{class:!0}),m(n).forEach(f),o=T(ge),g.l(ge),ge.forEach(f),V=T(me),j&&j.l(me),me.forEach(f),F=T(N),d=v(N,"DIV",{class:!0});var Ve=m(d);D=v(Ve,"DIV",{class:!0});var Fe=m(D);B=v(Fe,"DIV",{class:!0});var Me=m(B);re(k.$$.fragment,Me),X=T(Me),Y=v(Me,"DIV",{});var Ne=m(Y);P=pe(Ne,A),Ne.forEach(f),Me.forEach(f),E=T(Fe),R=v(Fe,"DIV",{class:!0});var ye=m(R);re(O.$$.fragment,ye),ie=T(ye),J=v(ye,"DIV",{});var Oe=m(J);H=pe(Oe,C),Oe.forEach(f),ye.forEach(f),Fe.forEach(f),b=T(Ve),W=v(Ve,"DIV",{class:!0});var Se=m(W);_=v(Se,"DIV",{class:!0});var Xe=m(_);oe=pe(Xe,Z),Xe.forEach(f),Se.forEach(f),Ve.forEach(f),u=T(N),h=v(N,"BUTTON",{class:!0});var Pe=m(h);c.l(Pe),Pe.forEach(f),N.forEach(f),this.h()},h(){s(n,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(r,"class","flex w-full h-full justify-center items-center"),s(t,"class","flex-none w-10 h-10 relative"),s(B,"class","flex flex-row gap-0.5 items-center"),s(R,"class","flex flex-row gap-0.5 items-center"),s(D,"class","flex flex-row gap-1.5 text-[#B3B8BD] font-normal text-xs"),s(_,"class","typo-body3 text-white truncate"),s(W,"class","w-full flex flex-row gap-2"),s(d,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),s(h,"class",w="absolute flex justify-center items-center "+(l[30].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")),we(h,"width",z),we(h,"height",I),we(h,"right",ae),s(e,"class",G=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[4]===l[30].idx&&!l[7]?"":"transition-transform"}`),s(e,"aria-hidden",""),we(e,"transform",`translateX(${l[4]===l[30].idx?l[5]?-de+l[6]:l[6]:0}px)`)},m(U,N){Q(U,e,N),a(e,t),a(t,r),a(r,n),a(r,o),se[i].m(r,null),a(t,V),j&&j.m(t,null),a(e,F),a(e,d),a(d,D),a(D,B),le(k,B,null),a(B,X),a(B,Y),a(Y,P),a(D,E),a(D,R),le(O,R,null),a(R,ie),a(R,J),a(J,H),a(d,b),a(d,W),a(W,_),a(_,oe),a(e,u),a(e,h),ee[$].m(h,null),K=!0,M||(S=[fe(h,"click",nt(Ie)),fe(e,"touchstart",et),fe(e,"touchmove",l[12]),fe(e,"touchend",l[13]),fe(e,"transitionend",l[14]),fe(e,"click",tt)],M=!0)},p(U,N){l=U;let me=i;i=Ce(l),i===me?se[i].p(l,N):($e(),y(se[me],1,1,()=>{se[me]=null}),ke(),g=se[i],g?g.p(l,N):(g=se[i]=ue[i](l),g.c()),x(g,1),g.m(r,null)),l[30].role==="owner"?j?(j.p(l,N),N[0]&8&&x(j,1)):(j=Je(l),j.c(),x(j,1),j.m(t,null)):j&&($e(),y(j,1,1,()=>{j=null}),ke()),(!K||N[0]&8)&&A!==(A=l[30].place_count+"")&&ve(P,A),(!K||N[0]&8)&&C!==(C=l[30].follower_count+"")&&ve(H,C),(!K||N[0]&8)&&Z!==(Z=l[30].name+"")&&ve(oe,Z);let ge=$;$=be(l),$!==ge&&($e(),y(ee[ge],1,1,()=>{ee[ge]=null}),ke(),c=ee[$],c||(c=ee[$]=Be[$](l),c.c()),x(c,1),c.m(h,null)),(!K||N[0]&8&&w!==(w="absolute flex justify-center items-center "+(l[30].role==="owner"?"bg-[#FF4F1E]":"bg-[#757D86]")))&&s(h,"class",w),(!K||N[0]&152&&G!==(G=`flex flex-row items-center px-5 py-3 gap-2.5 w-full ${l[4]===l[30].idx&&!l[7]?"":"transition-transform"}`))&&s(e,"class",G),N[0]&120&&we(e,"transform",`translateX(${l[4]===l[30].idx?l[5]?-de+l[6]:l[6]:0}px)`)},i(U){K||(x(g),x(j),x(k.$$.fragment,U),x(O.$$.fragment,U),x(c),K=!0)},o(U){y(g),y(j),y(k.$$.fragment,U),y(O.$$.fragment,U),y(c),K=!1},d(U){U&&f(e),se[i].d(),j&&j.d(),ne(k),ne(O),ee[$].d(),M=!1,He(S)}}}function Ke(l){let e,t;return e=new mt({props:{modalVisible:!0,backgroundColor:"bg-[rgba(56,56,56,0.8)]",padding:"",shadow:"",filter:"",closeModal:l[16],$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){le(e,r,n),t=!0},p(r,n){const o={};n[0]&256|n[1]&4&&(o.$$scope={dirty:n,ctx:r}),e.$set(o)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function jt(l){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),m(e).forEach(f),this.h()},h(){s(e,"class","absolute w-[2.125rem] h-[2.125rem] bg-[#D9D9D9] rounded-[50px]")},m(t,r){Q(t,e,r)},p:q,i:q,o:q,d(t){t&&f(e)}}}function At(l){let e,t;return e=new Qe({props:{src:Te(l[8].image??"",500),width:"34px",strokeWidth:"0"}}),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){le(e,r,n),t=!0},p(r,n){const o={};n[0]&256&&(o.src=Te(r[8].image??"",500)),e.$set(o)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Ht(l){let e,t,r,n,o,i,g,V,F,d,D=l[8].name+"",B,k,X,Y=l[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?",A,P,E,R=l[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",O,ie,J,C,H=l[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",b,W,_,Z,oe="취소",u,h,$=l[8].stage==="delete"?"삭제":"나가기",c,w,z,I;const ae=[At,jt],G=[];function K(M,S){return M[8].image?0:1}return o=K(l),i=G[o]=ae[o](l),{c(){e=p("div"),t=p("div"),r=p("div"),n=L(),i.c(),g=L(),V=p("div"),F=p("div"),d=p("p"),B=_e(D),k=L(),X=p("p"),A=_e(Y),P=L(),E=p("p"),O=_e(R),ie=L(),J=p("br"),C=L(),b=_e(H),W=L(),_=p("div"),Z=p("button"),Z.textContent=oe,u=L(),h=p("button"),c=_e($),this.h()},l(M){e=v(M,"DIV",{class:!0});var S=m(e);t=v(S,"DIV",{class:!0});var ue=m(t);r=v(ue,"DIV",{class:!0}),m(r).forEach(f),n=T(ue),i.l(ue),ue.forEach(f),g=T(S),V=v(S,"DIV",{class:!0});var se=m(V);F=v(se,"DIV",{class:!0});var Ce=m(F);d=v(Ce,"P",{class:!0});var j=m(d);B=pe(j,D),j.forEach(f),k=T(Ce),X=v(Ce,"P",{class:!0});var Be=m(X);A=pe(Be,Y),Be.forEach(f),Ce.forEach(f),P=T(se),E=v(se,"P",{class:!0});var ee=m(E);O=pe(ee,R),ie=T(ee),J=v(ee,"BR",{}),C=T(ee),b=pe(ee,H),ee.forEach(f),se.forEach(f),S.forEach(f),W=T(M),_=v(M,"DIV",{class:!0});var be=m(_);Z=v(be,"BUTTON",{class:!0,"data-svelte-h":!0}),Ae(Z)!=="svelte-1cmzvzk"&&(Z.textContent=oe),u=T(be),h=v(be,"BUTTON",{class:!0});var Ie=m(h);c=pe(Ie,$),Ie.forEach(f),be.forEach(f),this.h()},h(){s(r,"class","absolute w-full h-full bg-[rgba(56,56,56,0.8)] rounded-[50px] shadow-[1px_1px_6px_rgba(0,0,0,0.1)]"),s(t,"class","flex w-10 h-10 relative justify-center items-center"),s(d,"class","text-[15px] font-semibold truncate"),s(X,"class","text-[15px] font-semibold flex-none"),s(F,"class","w-full flex flex-row justify-center"),s(E,"class","text-[11px] font-normal text-center"),s(V,"class","flex flex-col gap-1.5 text-white"),s(e,"class","flex flex-col w-full h-full justify-center items-center p-[22px] gap-3 border-b-[0.5px] border-[#757475] rounded-[18px_18px_0px_0px]"),s(Z,"class","text-[#0C79FE] typo-body3 p-2.5 border-r-[0.5px] border-[#757475] rounded-[0px_0px_0px_18px]"),s(h,"class","text-[#FF4F1E] typo-body3 p-2.5"),s(_,"class","grid grid-flow-col grid-col-2")},m(M,S){Q(M,e,S),a(e,t),a(t,r),a(t,n),G[o].m(t,null),a(e,g),a(e,V),a(V,F),a(F,d),a(d,B),a(F,k),a(F,X),a(X,A),a(V,P),a(V,E),a(E,O),a(E,ie),a(E,J),a(E,C),a(E,b),Q(M,W,S),Q(M,_,S),a(_,Z),a(_,u),a(_,h),a(h,c),w=!0,z||(I=[fe(Z,"click",l[16]),fe(h,"click",l[17])],z=!0)},p(M,S){let ue=o;o=K(M),o===ue?G[o].p(M,S):($e(),y(G[ue],1,1,()=>{G[ue]=null}),ke(),i=G[o],i?i.p(M,S):(i=G[o]=ae[o](M),i.c()),x(i,1),i.m(t,null)),(!w||S[0]&256)&&D!==(D=M[8].name+"")&&ve(B,D),(!w||S[0]&256)&&Y!==(Y=M[8].stage==="delete"?"을 삭제할까요?":"에서 나갈까요?")&&ve(A,Y),(!w||S[0]&256)&&R!==(R=M[8].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&ve(O,R),(!w||S[0]&256)&&H!==(H=M[8].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&ve(b,H),(!w||S[0]&256)&&$!==($=M[8].stage==="delete"?"삭제":"나가기")&&ve(c,$)},i(M){w||(x(i),w=!0)},o(M){y(i),w=!1},d(M){M&&(f(e),f(W),f(_)),G[o].d(),z=!1,He(I)}}}function Nt(l){var Z,oe;let e,t,r,n,o,i,g,V=`${((oe=(Z=l[2])==null?void 0:Z.getClientRects()[0])==null?void 0:oe.height)??0}px`,F,d,D,B,k,X,Y,A,P,E;function R(u){l[19](u)}let O={position:"sticky",backgroundColor:"bg-black",leftBack:!0,centerTitle:"박스",$$slots:{right:[Ft]},$$scope:{ctx:l}};l[2]!==void 0&&(O.header=l[2]),t=new st({props:O}),Ze.push(()=>Ue(t,"header",R));function ie(u){l[20](u)}let J={round:!0,placeholder:"박스 검색",fontSize:"font-normal text-sm",fontColor:"text-[#757D86]",clear:!0,backgroundColor:"bg-[#383838]/30",onInput:l[10]};l[1]!==void 0&&(J.value=l[1]),i=new ot({props:J}),Ze.push(()=>Ue(i,"value",ie));let C=l[0].length===0&&qe(l),H=Ye(l[3]),b=[];for(let u=0;u<H.length;u+=1)b[u]=We(Ge(l,H,u));const W=u=>y(b[u],1,1,()=>{b[u]=null});k=new ht({});let _=l[8]&&Ke(l);return P=new ct({}),{c(){e=p("div"),te(t.$$.fragment),n=L(),o=p("section"),te(i.$$.fragment),F=L(),d=p("section"),C&&C.c(),D=L();for(let u=0;u<b.length;u+=1)b[u].c();B=L(),te(k.$$.fragment),Y=L(),_&&_.c(),A=L(),te(P.$$.fragment),this.h()},l(u){e=v(u,"DIV",{class:!0});var h=m(e);re(t.$$.fragment,h),n=T(h),o=v(h,"SECTION",{class:!0});var $=m(o);re(i.$$.fragment,$),$.forEach(f),F=T(h),d=v(h,"SECTION",{class:!0});var c=m(d);C&&C.l(c),D=T(c);for(let w=0;w<b.length;w+=1)b[w].l(c);B=T(c),re(k.$$.fragment,c),c.forEach(f),Y=T(h),_&&_.l(h),h.forEach(f),A=T(u),re(P.$$.fragment,u),this.h()},h(){s(o,"class","box-search sticky px-5 py-3 z-10 bg-black"),we(o,"top",V),s(d,"class",X=`box-contents flex flex-col ${l[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`),s(e,"class","box flex flex-col min-h-dvh bg-black")},m(u,h){Q(u,e,h),le(t,e,null),a(e,n),a(e,o),le(i,o,null),a(e,F),a(e,d),C&&C.m(d,null),a(d,D);for(let $=0;$<b.length;$+=1)b[$]&&b[$].m(d,null);a(d,B),le(k,d,null),a(e,Y),_&&_.m(e,null),Q(u,A,h),le(P,u,h),E=!0},p(u,h){var w,z;const $={};h[1]&4&&($.$$scope={dirty:h,ctx:u}),!r&&h[0]&4&&(r=!0,$.header=u[2],ze(()=>r=!1)),t.$set($);const c={};if(!g&&h[0]&2&&(g=!0,c.value=u[1],ze(()=>g=!1)),i.$set(c),h[0]&4&&V!==(V=`${((z=(w=u[2])==null?void 0:w.getClientRects()[0])==null?void 0:z.height)??0}px`)&&we(o,"top",V),u[0].length===0?C?C.p(u,h):(C=qe(u),C.c(),C.m(d,D)):C&&(C.d(1),C=null),h[0]&63736){H=Ye(u[3]);let I;for(I=0;I<H.length;I+=1){const ae=Ge(u,H,I);b[I]?(b[I].p(ae,h),x(b[I],1)):(b[I]=We(ae),b[I].c(),x(b[I],1),b[I].m(d,B))}for($e(),I=H.length;I<b.length;I+=1)W(I);ke()}(!E||h[0]&8&&X!==(X=`box-contents flex flex-col ${u[3].length===0?"justify-center":"justify-start"} items-center overflow-x-hidden flex-auto`))&&s(d,"class",X),u[8]?_?(_.p(u,h),h[0]&256&&x(_,1)):(_=Ke(u),_.c(),x(_,1),_.m(e,null)):_&&($e(),y(_,1,1,()=>{_=null}),ke())},i(u){if(!E){x(t.$$.fragment,u),x(i.$$.fragment,u);for(let h=0;h<H.length;h+=1)x(b[h]);x(k.$$.fragment,u),x(_),x(P.$$.fragment,u),E=!0}},o(u){y(t.$$.fragment,u),y(i.$$.fragment,u),b=b.filter(Boolean);for(let h=0;h<b.length;h+=1)y(b[h]);y(k.$$.fragment,u),y(_),y(P.$$.fragment,u),E=!1},d(u){u&&(f(e),f(A)),ne(t),ne(i),C&&C.d(),rt(b,u),ne(k),_&&_.d(),ne(P,u)}}}const de=64;function Ot(l,e,t){let r;lt(l,Re,c=>t(0,r=c));let n="",o,i=[];function g(){it()?je("/boxes/-1/setting"):Le.emit("showSignInModal",{removable:!0})}let V;function F(c){clearTimeout(V),V=setTimeout(d,300)}function d(){t(3,i=D())}function D(){return n?r.filter(c=>c.name.includes(n)):r}let B,k=!1,X=-1,Y=-1,A;function P(c,w){A=void 0,t(6,E=0),t(7,O=!1),X=c.touches[0].clientX,Y=c.touches[0].clientY,B!==void 0&&B!==w&&t(5,k=!1),t(4,B=w)}let E=0;function R(c){if(B===void 0)return;let z=c.touches[0].clientX-X,ae=c.touches[0].clientY-Y;if(A===void 0&&(A=Math.abs(z)-Math.abs(ae)>=0,!k&&A&&z>0)){t(4,B=void 0),t(6,E=0);return}if(A){const G=k?de:0,K=k?0:-de;t(6,E=z>G?G:z<K?K:z)}}let O=!1;function ie(c){if(B!==void 0&&A){t(7,O=!0);let w=c.changedTouches[0].clientX-X;(E===0||Math.abs(E)===de)&&(c.stopPropagation(),J()),w>=de/2?t(5,k=!1):w<=-de/2&&t(5,k=!0),t(6,E=0)}}function J(){t(7,O=!1)}let C;function H(c,w,z,I){t(8,C={idx:c,name:w,image:z,stage:I==="owner"?"delete":"leave"})}function b(){t(8,C=void 0),t(4,B=void 0),t(5,k=!1)}async function W(){if(!C)return;const c=at();if(!c)return;const w=ut();if(!w)return;const z=C.stage==="delete";if(z){if(!(await fetch(`${ft}/boxes/${C.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}})).ok)return Le.emit("pushSnackbar",{message:"권한이 없어 삭제할 수 없습니다."})}else try{await pt({targetTable:"boxes",targetIdx:BigInt(C.idx),subjectIdx:w})}catch{return Le.emit("pushSnackbar",{message:"나가기에 실패했습니다. 잠시 후 다시 시도해 주세요."})}Re.update(I=>I=I.filter(ae=>ae.idx!==C.idx)),Le.emit("pushSnackbar",{message:`${C.name} ${z?"박스를 삭제했습니다.":"박스에서 나갔습니다."}`}),b()}const _=async()=>{await je("/search")};function Z(c){o=c,t(2,o)}function oe(c){n=c,t(1,n)}const u=c=>H(c.idx,c.name,c.image,c.role),h=(c,w)=>P(w,c.idx),$=c=>je(`/boxes/${c.idx}`);return l.$$.update=()=>{l.$$.dirty[0]&1&&r&&d()},[r,n,o,i,B,k,E,O,C,g,F,P,R,ie,J,H,b,W,_,Z,oe,u,h,$]}class rr extends De{constructor(e){super(),Ee(this,e,Ot,Nt,xe,{},null,[-1,-1])}}export{rr as component};
