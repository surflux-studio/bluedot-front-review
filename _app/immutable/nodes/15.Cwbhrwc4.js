import{s as D,a as v,e as g,g as k,c as $,b as I,f as p,o as u,i as d,O as T,k as V,q as z,t as F,d as H,h as _,j as M,R as A,y as N}from"../chunks/scheduler.CX667Sq5.js";import{S as O,i as P,c as w,a as b,m as y,t as x,b as E,d as S}from"../chunks/index.DOULIwIP.js";import{e as G}from"../chunks/each.DWfQ8sIp.js";import{p as R}from"../chunks/stores.DglCctxd.js";import{H as J,p as U}from"../chunks/Header.C8NhvoL5.js";import{F as W}from"../chunks/Footer.BWheD52y.js";import{C as Z}from"../chunks/CircleImage.QstcIoHA.js";import{A as q}from"../chunks/constants.bFPGP2yY.js";import{g as K}from"../chunks/entry.DAh9-b5r.js";function B(c,s,a){const r=c.slice();return r[4]=s[a],r[6]=a,r}function L(c){let s,a,r,l,n=c[0].display_name+"",m,i;return a=new Z({props:{src:c[0].profile_image_url,width:"2rem",strokeWidth:"8"}}),{c(){s=g("div"),w(a.$$.fragment),r=v(),l=g("span"),m=F(n),this.h()},l(t){s=$(t,"DIV",{class:!0});var e=I(s);b(a.$$.fragment,e),r=k(e),l=$(e,"SPAN",{class:!0});var o=I(l);m=H(o,n),o.forEach(p),e.forEach(p),this.h()},h(){u(l,"class","text-gray-900 font-medium"),u(s,"class","flex gap-2 items-center")},m(t,e){d(t,s,e),y(a,s,null),_(s,r),_(s,l),_(l,m),i=!0},p(t,e){const o={};e&1&&(o.src=t[0].profile_image_url),a.$set(o),(!i||e&1)&&n!==(n=t[0].display_name+"")&&M(m,n)},i(t){i||(x(a.$$.fragment,t),i=!0)},o(t){E(a.$$.fragment,t),i=!1},d(t){t&&p(s),S(a)}}}function C(c){let s,a,r,l,n,m;function i(){return c[3](c[6])}return{c(){s=g("div"),a=g("img"),l=v(),this.h()},l(t){s=$(t,"DIV",{class:!0});var e=I(s);a=$(e,"IMG",{src:!0,alt:!0}),l=k(e),e.forEach(p),this.h()},h(){A(a.src,r=c[4].media[0])||u(a,"src",r),u(a,"alt","post"),u(s,"class","bg-gray-50 h-36 overflow-hidden relative")},m(t,e){d(t,s,e),_(s,a),_(s,l),n||(m=N(s,"click",i),n=!0)},p(t,e){c=t,e&2&&!A(a.src,r=c[4].media[0])&&u(a,"src",r)},d(t){t&&p(s),n=!1,m()}}}function Q(c){let s,a,r,l,n,m;s=new J({props:{position:"static",leftBack:"black",rightUserSetting:"black",$$slots:{default:[L]},$$scope:{ctx:c}}});let i=G(c[1]),t=[];for(let e=0;e<i.length;e+=1)t[e]=C(B(c,i,e));return n=new W({}),{c(){w(s.$$.fragment),a=v(),r=g("div");for(let e=0;e<t.length;e+=1)t[e].c();l=v(),w(n.$$.fragment),this.h()},l(e){b(s.$$.fragment,e),a=k(e),r=$(e,"DIV",{class:!0});var o=I(r);for(let h=0;h<t.length;h+=1)t[h].l(o);o.forEach(p),l=k(e),b(n.$$.fragment,e),this.h()},h(){u(r,"class","grid grid-cols-3 gap-1")},m(e,o){y(s,e,o),d(e,a,o),d(e,r,o);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(r,null);d(e,l,o),y(n,e,o),m=!0},p(e,[o]){const h={};if(o&129&&(h.$$scope={dirty:o,ctx:e}),s.$set(h),o&6){i=G(e[1]);let f;for(f=0;f<i.length;f+=1){const j=B(e,i,f);t[f]?t[f].p(j,o):(t[f]=C(j),t[f].c(),t[f].m(r,null))}for(;f<t.length;f+=1)t[f].d(1);t.length=i.length}},i(e){m||(x(s.$$.fragment,e),x(n.$$.fragment,e),m=!0)},o(e){E(s.$$.fragment,e),E(n.$$.fragment,e),m=!1},d(e){e&&(p(a),p(r),p(l)),S(s,e),T(t,e),S(n,e)}}}function X(c,s,a){let r;V(c,R,i=>a(2,r=i));let l={},n=[];return z(async()=>{await U(),fetch(`${q}/auth/users/${r.params.idx}`,{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}}).then(i=>i.json()).then(i=>{a(0,l=i.data)}),fetch(`${q}/posts?userIdx=${r.params.idx}&limit=24`,{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("jwt")}}).then(i=>i.json()).then(i=>{a(1,n=i.data)})}),[l,n,r,i=>K(`/viewer?userIdx=${r.params.idx}&pidx=${i}&mdix=0`)]}class le extends O{constructor(s){super(),P(this,s,X,Q,D,{})}}export{le as component};
