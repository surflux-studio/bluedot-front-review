import{e as te}from"../chunks/index.Bi08Y9hB.js";import{a as me,g as X,c as ne,b as Ce}from"../chunks/sign.3vAERsXi.js";import{A as Q,I as W}from"../chunks/store.CGvrHMmq.js";import{s as R,q as T,r as I,b as B,f,v as l,i as v,h as D,n as g,w as pe,e as O,a as x,c as j,g as y,x as ge,H as de,k as _e,P as re,t as se,d as ae,A as ke,D as V}from"../chunks/scheduler.cMGevFK0.js";import{H as we,h as Be,u as be}from"../chunks/Header.DSKviwpU.js";import{e as oe}from"../chunks/each.BUpLmwGX.js";import{S as G,i as J,b as ve,c as S,d as F,m as L,t as A,e as fe,a as q,f as N,g as ce}from"../chunks/index.DSosqu5f.js";import{g as Z}from"../chunks/entry.DIA2gAip.js";import{p as De}from"../chunks/stores.DqM6WIWo.js";import{r as Y}from"../chunks/units.BJZU6p1c.js";import{I as Ae}from"../chunks/IconBlock.DfXVaJV3.js";import{I as he}from"../chunks/IconChevronRight.VIWgNepn.js";import{I as qe,w as Ee}from"../chunks/utils.8DJIN5de.js";import{A as $e}from"../chunks/ActionSheetOpenApp.CqC-qYh5.js";import{N as Te}from"../chunks/NavigationBar.ChkHTqrX.js";/* empty css                                                                     *//* empty css                                                                   *//* empty css                                                             */import{e as ie}from"../chunks/emitter.E5P-NQ8u.js";import{B as Ie}from"../chunks/BottomNavigationPadder.DY53Hbn4.js";function xe(o){let e,r,t,n,u;return{c(){e=T("svg"),r=T("path"),t=T("path"),n=T("path"),u=T("path"),this.h()},l(s){e=I(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0});var a=B(e);r=I(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(r).forEach(f),t=I(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(t).forEach(f),n=I(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(n).forEach(f),u=I(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(u).forEach(f),a.forEach(f),this.h()},h(){l(r,"d","M1.5 16.5007V15.6673C1.5 13.8257 2.99167 12.334 4.83333 12.334H8.16667C10.0083 12.334 11.5 13.8257 11.5 15.6673V16.5007"),l(r,"stroke",o[1]),l(r,"stroke-width","1.5"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(t,"d","M6.5 9.83398C5.11667 9.83398 4 8.71732 4 7.33398C4 5.95065 5.11667 4.83398 6.5 4.83398C7.88333 4.83398 9 5.95065 9 7.33398C9 8.71732 7.88333 9.83398 6.5 9.83398Z"),l(t,"stroke",o[1]),l(t,"stroke-width","1.5"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(n,"d","M11.5 1.5L16.5 6.5"),l(n,"stroke",o[1]),l(n,"stroke-width","1.5"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(u,"d","M16.5 1.5L11.5 6.5"),l(u,"stroke",o[1]),l(u,"stroke-width","1.5"),l(u,"stroke-linecap","round"),l(u,"stroke-linejoin","round"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width",o[2]),l(e,"height",o[2]),l(e,"viewBox","0 0 18 18"),l(e,"fill",o[0])},m(s,a){v(s,e,a),D(e,r),D(e,t),D(e,n),D(e,u)},p(s,[a]){a&2&&l(r,"stroke",s[1]),a&2&&l(t,"stroke",s[1]),a&2&&l(n,"stroke",s[1]),a&2&&l(u,"stroke",s[1]),a&4&&l(e,"width",s[2]),a&4&&l(e,"height",s[2]),a&1&&l(e,"fill",s[0])},i:g,o:g,d(s){s&&f(e)}}}function ye(o,e,r){let t,{fill:n="#5f6368"}=e,{stroke:u="#fff"}=e,{length:s="1.75"}=e;return o.$$set=a=>{"fill"in a&&r(0,n=a.fill),"stroke"in a&&r(1,u=a.stroke),"length"in a&&r(3,s=a.length)},o.$$.update=()=>{o.$$.dirty&8&&r(2,t=Y(s))},[n,u,t,s]}class Oe extends G{constructor(e){super(),J(this,e,ye,xe,R,{fill:0,stroke:1,length:3})}}function je(o){let e,r;return{c(){e=T("svg"),r=T("path"),this.h()},l(t){e=I(t,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0});var n=B(e);r=I(n,"path",{d:!0}),B(r).forEach(f),n.forEach(f),this.h()},h(){l(r,"d","M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"viewBox","0 -960 960 960"),l(e,"width",o[1]),l(e,"height",o[1]),l(e,"fill",o[0])},m(t,n){v(t,e,n),D(e,r)},p(t,[n]){n&2&&l(e,"width",t[1]),n&2&&l(e,"height",t[1]),n&1&&l(e,"fill",t[0])},i:g,o:g,d(t){t&&f(e)}}}function Se(o,e,r){let t,{fill:n="#5f6368"}=e,{length:u="1.75"}=e;return o.$$set=s=>{"fill"in s&&r(0,n=s.fill),"length"in s&&r(2,u=s.length)},o.$$.update=()=>{o.$$.dirty&4&&r(1,t=Y(u))},[n,t,u]}class K extends G{constructor(e){super(),J(this,e,Se,je,R,{fill:0,length:2})}}function Le(o){let e,r;return{c(){e=T("svg"),r=T("path"),this.h()},l(t){e=I(t,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0});var n=B(e);r=I(n,"path",{d:!0}),B(r).forEach(f),n.forEach(f),this.h()},h(){l(r,"d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"viewBox","0 -960 960 960"),l(e,"width",o[1]),l(e,"height",o[1]),l(e,"fill",o[0])},m(t,n){v(t,e,n),D(e,r)},p(t,[n]){n&2&&l(e,"width",t[1]),n&2&&l(e,"height",t[1]),n&1&&l(e,"fill",t[0])},i:g,o:g,d(t){t&&f(e)}}}function Ne(o,e,r){let t,{fill:n="#5f6368"}=e,{length:u="1.75"}=e;return o.$$set=s=>{"fill"in s&&r(0,n=s.fill),"length"in s&&r(2,u=s.length)},o.$$.update=()=>{o.$$.dirty&4&&r(1,t=Y(u))},[n,t,u]}class Pe extends G{constructor(e){super(),J(this,e,Ne,Le,R,{fill:0,length:2})}}const Fe=async({params:o,fetch:e,depends:r})=>{if(String(o.idx)!==String(me()))throw te(403,"Forbidden");if(!(await(await e(`${Q}/auth/users/${o.idx}`,{headers:{Authorization:`Bearer ${X()}`}})).json()).data)throw te(404,"User not found")},pt=Object.freeze(Object.defineProperty({__proto__:null,load:Fe},Symbol.toStringTag,{value:"Module"}));function ue(o,e,r){const t=o.slice();return t[9]=e[r].iconComponent,t[10]=e[r].text,t[11]=e[r].onClick,t[12]=e[r].getCount,t}function Ze(o){let e,r;return e=new he({props:{length:"1.25",fill:"white"}}),{c(){S(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){L(e,t,n),r=!0},p:g,i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function He(o){let e,r,t={ctx:o,current:null,token:null,hasCatch:!1,pending:Ve,then:Ue,catch:Me,value:15,blocks:[,,,]};return Be(o[12](),t),{c(){e=V(),t.block.c()},l(n){e=V(),t.block.l(n)},m(n,u){v(n,e,u),t.block.m(n,t.anchor=u),t.mount=()=>e.parentNode,t.anchor=e,r=!0},p(n,u){o=n,be(t,o,u)},i(n){r||(A(t.block),r=!0)},o(n){for(let u=0;u<3;u+=1){const s=t.blocks[u];q(s)}r=!1},d(n){n&&f(e),t.block.d(n),t.token=null,t=null}}}function Me(o){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Ue(o){let e,r,t=o[15]+"",n,u,s,a,d=o[15]>0&&ze();return{c(){e=O("div"),r=O("span"),n=se(t),u=x(),d&&d.c(),s=V(),this.h()},l(p){e=j(p,"DIV",{class:!0});var C=B(e);r=j(C,"SPAN",{});var b=B(r);n=ae(b,t),b.forEach(f),C.forEach(f),u=y(p),d&&d.l(p),s=V(),this.h()},h(){l(e,"class","w-5 h-5 leading-5 text-sm text-[#B3B8BD] text-center")},m(p,C){v(p,e,C),D(e,r),D(r,n),v(p,u,C),d&&d.m(p,C),v(p,s,C),a=!0},p:g,i(p){a||(A(d),a=!0)},o(p){q(d),a=!1},d(p){p&&(f(e),f(u),f(s)),d&&d.d(p)}}}function ze(o){let e,r;return e=new he({props:{length:"1.25",fill:"white"}}),{c(){S(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){L(e,t,n),r=!0},i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function Ve(o){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function le(o){let e,r,t,n,u,s,a=o[10]+"",d,p,C,b,_,k,c,H;var w=o[9];function M(h,$){return{props:{length:"1.25",fill:"white",width:"1.25rem",height:"1.25rem"}}}w&&(n=re(w,M()));const U=[He,Ze],i=[];function m(h,$){return h[12]?0:1}C=m(o),b=i[C]=U[C](o);function E(){return o[2](o[12],o[11])}return{c(){e=O("li"),r=O("button"),t=O("div"),n&&S(n.$$.fragment),u=x(),s=O("span"),d=se(a),p=x(),b.c(),_=x(),this.h()},l(h){e=j(h,"LI",{});var $=B(e);r=j($,"BUTTON",{class:!0});var P=B(r);t=j(P,"DIV",{class:!0});var z=B(t);n&&F(n.$$.fragment,z),u=y(z),s=j(z,"SPAN",{class:!0});var ee=B(s);d=ae(ee,a),ee.forEach(f),z.forEach(f),p=y(P),b.l(P),P.forEach(f),_=y($),$.forEach(f),this.h()},h(){l(s,"class","text-sm font-medium"),l(t,"class","flex items-center gap-2 flex-grow"),l(r,"class","flex items-center justify-between w-full px-5 py-[0.88rem] focus:outline-none")},m(h,$){v(h,e,$),D(e,r),D(r,t),n&&L(n,t,null),D(t,u),D(t,s),D(s,d),D(r,p),i[C].m(r,null),D(e,_),k=!0,c||(H=ke(r,"click",E),c=!0)},p(h,$){if(o=h,w!==(w=o[9])){if(n){ce();const P=n;q(P.$$.fragment,1,0,()=>{N(P,1)}),fe()}w?(n=re(w,M()),S(n.$$.fragment),A(n.$$.fragment,1),L(n,t,u)):n=null}b.p(o,$)},i(h){k||(n&&A(n.$$.fragment,h),A(b),k=!0)},o(h){n&&q(n.$$.fragment,h),q(b),k=!1},d(h){h&&f(e),n&&N(n),i[C].d(),c=!1,H()}}}function Re(o){let e,r;return e=new Te({}),{c(){S(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){L(e,t,n),r=!0},i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function Ge(o){let e,r,t,n,u,s,a,d,p,C,b,_;t=new we({props:{position:"static",leftBack:"white",centerTitle:"설정"}});let k=oe(o[1]),c=[];for(let i=0;i<k.length;i+=1)c[i]=le(ue(o,k,i));const H=i=>q(c[i],1,1,()=>{c[i]=null});a=new Ie({});let w=!W&&Re();function M(i){o[3](i)}let U={};return o[0]!==void 0&&(U.isOpen=o[0]),C=new $e({props:U}),pe.push(()=>ve(C,"isOpen",M)),{c(){e=O("div"),r=x(),S(t.$$.fragment),n=x(),u=O("ul");for(let i=0;i<c.length;i+=1)c[i].c();s=x(),S(a.$$.fragment),d=x(),w&&w.c(),p=x(),S(C.$$.fragment),this.h()},l(i){e=j(i,"DIV",{class:!0}),B(e).forEach(f),r=y(i),F(t.$$.fragment,i),n=y(i),u=j(i,"UL",{class:!0});var m=B(u);for(let E=0;E<c.length;E+=1)c[E].l(m);m.forEach(f),s=y(i),F(a.$$.fragment,i),d=y(i),w&&w.l(i),p=y(i),F(C.$$.fragment,i),this.h()},h(){l(e,"class","fixed w-full h-full bg-black -z-10"),l(u,"class","mt-4 text-white")},m(i,m){v(i,e,m),v(i,r,m),L(t,i,m),v(i,n,m),v(i,u,m);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(u,null);v(i,s,m),L(a,i,m),v(i,d,m),w&&w.m(i,m),v(i,p,m),L(C,i,m),_=!0},p(i,[m]){if(m&2){k=oe(i[1]);let h;for(h=0;h<k.length;h+=1){const $=ue(i,k,h);c[h]?(c[h].p($,m),A(c[h],1)):(c[h]=le($),c[h].c(),A(c[h],1),c[h].m(u,null))}for(ce(),h=k.length;h<c.length;h+=1)H(h);fe()}const E={};!b&&m&1&&(b=!0,E.isOpen=i[0],ge(()=>b=!1)),C.$set(E)},i(i){if(!_){A(t.$$.fragment,i);for(let m=0;m<k.length;m+=1)A(c[m]);A(a.$$.fragment,i),A(w),A(C.$$.fragment,i),_=!0}},o(i){q(t.$$.fragment,i),c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)q(c[m]);q(a.$$.fragment,i),q(w),q(C.$$.fragment,i),_=!1},d(i){i&&(f(e),f(r),f(n),f(u),f(s),f(d),f(p)),N(t,i),de(c,i),N(a,i),w&&w.d(i),N(C,i)}}}function Je(o,e,r){let t;_e(o,De,_=>r(5,t=_));let n=!1,u=!1,s=[{iconComponent:qe,text:"내 프로필 링크 복사",onClick:()=>{Ee(`/users/${t.params.idx}`)}},{iconComponent:Ae,text:"차단 목록",onClick:()=>{Z(`/users/${t.params.idx}/filters`)},getCount:a},{iconComponent:Pe,text:"로그아웃",onClick:d},{iconComponent:Oe,text:"계정 탈퇴하기",onClick:p},{iconComponent:K,text:"서비스 이용약관",onClick:()=>{Z("/tp/terms-of-service")}},{iconComponent:K,text:"개인정보 처리방침",onClick:()=>{Z("/tp/terms-of-privacy-policy")}},{iconComponent:K,text:"위치기반 서비스 이용약관",onClick:()=>{Z("/tp/terms-of-location-service")}}];async function a(){const _=`${Q}/auth/filters/count`;return(await(await fetch(_,{headers:{Authorization:`Bearer ${X()}`}})).json()).data.count}async function d(){if(W)return r(0,u=!0);ne(),await Z("/")}async function p(){if(W)return r(0,u=!0);if(n)return;n=!0;const _=await Ce(t.params.idx);console.log(_.unique_name);let k=prompt(`약관에 동의하고 계정을 완전히 삭제하시겠어요?
확인을 위해 유저이름 "${_.unique_name}"을 적어주세요.`);if(_.unique_name!==k||!confirm("이 작업은 되돌릴 수 없습니다. 계정을 삭제 하시겠습니까?"))return alert("계정 탈퇴를 취소했습니다."),n=!1;(await fetch(`${Q}/auth/users/${t.params.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${X()}`}})).ok?(ie.emit("pushSnackbar",{message:"계정을 삭제했습니다."}),ne(),await Z("/")):ie.emit("pushSnackbar",{message:"탈퇴를 실패했습니다."}),n=!1}const C=async(_,k)=>{_?await _()>0&&k():k()};function b(_){u=_,r(0,u)}return[u,s,C,b]}class gt extends G{constructor(e){super(),J(this,e,Je,Ge,R,{})}}export{gt as component,pt as universal};
