import{s as E,a as y,p as S,g as B,i as b,f as d,n as H,t as I,d as N}from"../chunks/scheduler.zPBk7LGW.js";import{S as M,i as U,c as m,a as p,m as _,t as l,b as u,d as g}from"../chunks/index.C4C7kEja.js";import{g as w}from"../chunks/entry.BLI9612Y.js";import{F as P}from"../chunks/Footer.CG7FwboT.js";import{e as j,H as A}from"../chunks/Header.D715OeCp.js";import{M as q}from"../chunks/Map.DJJ9_dlm.js";import{B as D}from"../chunks/Button.BMvKJZ6i.js";import{a as C,g as T}from"../chunks/searchParams.BCVjfre3.js";function W(a){let e,r;return e=new A({props:{position:"fixed",rightFeed:!0}}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){_(e,t,s),r=!0},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function G(a){let e,r;return e=new A({props:{position:"fixed",leftBack:!0}}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){_(e,t,s),r=!0},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function J(a){let e,r;return e=new P({props:{position:"fixed",leftReposition:!0,centerSearch:!0,right:"add"}}),e.$on("click",a[3]),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){_(e,t,s),r=!0},p:H,i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function K(a){let e,r;return e=new P({props:{position:"fixed",$$slots:{default:[Q]},$$scope:{ctx:a}}}),{c(){m(e.$$.fragment)},l(t){p(e.$$.fragment,t)},m(t,s){_(e,t,s),r=!0},p(t,s){const o={};s&16&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){r||(l(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function L(a){let e;return{c(){e=I("이 장소가 아니예요")},l(r){e=N(r,"이 장소가 아니예요")},m(r,t){b(r,e,t)},d(r){r&&d(e)}}}function O(a){let e;return{c(){e=I("이 장소가 맞아요")},l(r){e=N(r,"이 장소가 맞아요")},m(r,t){b(r,e,t)},d(r){r&&d(e)}}}function Q(a){let e,r,t,s;return e=new D({props:{backgroundColor:"bg-gray-300",textColor:"text-white",$$slots:{default:[L]},$$scope:{ctx:a}}}),e.$on("click",a[2]),t=new D({props:{backgroundColor:"bg-primary-500",textColor:"text-white",$$slots:{default:[O]},$$scope:{ctx:a}}}),t.$on("click",a[1]),{c(){m(e.$$.fragment),r=y(),m(t.$$.fragment)},l(o){p(e.$$.fragment,o),r=B(o),p(t.$$.fragment,o)},m(o,i){_(e,o,i),b(o,r,i),_(t,o,i),s=!0},p(o,i){const f={};i&16&&(f.$$scope={dirty:i,ctx:o}),e.$set(f);const $={};i&16&&($.$$scope={dirty:i,ctx:o}),t.$set($)},i(o){s||(l(e.$$.fragment,o),l(t.$$.fragment,o),s=!0)},o(o){u(e.$$.fragment,o),u(t.$$.fragment,o),s=!1},d(o){o&&d(r),g(e,o),g(t,o)}}}function V(a){let e,r,t,s,o,i,f,$,k;const F=[G,W],x=[];function R(n,c){return n[0]==="post"||n[0]==="box"?0:1}e=R(a),r=x[e]=F[e](a),s=new q({});const v=[K,J],h=[];function z(n,c){return n[0]==="post"||n[0]==="box"?0:1}return i=z(a),f=h[i]=v[i](a),{c(){r.c(),t=y(),m(s.$$.fragment),o=y(),f.c(),$=S()},l(n){r.l(n),t=B(n),p(s.$$.fragment,n),o=B(n),f.l(n),$=S()},m(n,c){x[e].m(n,c),b(n,t,c),_(s,n,c),b(n,o,c),h[i].m(n,c),b(n,$,c),k=!0},p(n,[c]){f.p(n,c)},i(n){k||(l(r),l(s.$$.fragment,n),l(f),k=!0)},o(n){u(r),u(s.$$.fragment,n),u(f),k=!1},d(n){n&&(d(t),d(o),d($)),x[e].d(n),g(s,n),h[i].d(n)}}}function X(a){const e=C("type");async function r(){if(e==="box"){const o=Number(C("boxIdx"));if(Number.isNaN(o)||!o)return w("/boxes");(await fetch(`https://azit.surflux.studio/boxes/${o}/places/${C("placeIdx")}`,{method:"PUT",headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}})).ok||j.emit("pushSnackbar",{message:"장소 추가에 실패했습니다."}),w(`/boxes/${o}/detail`)}else e==="post"&&T("/viewer/edit")}return[e,r,()=>window.history.back(),()=>{w("/map/search")}]}class ae extends M{constructor(e){super(),U(this,e,X,V,E,{})}}export{ae as component};
