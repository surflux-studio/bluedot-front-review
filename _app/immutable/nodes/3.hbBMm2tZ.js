import{i as Ve,g as je}from"../chunks/sign.DHe33_F7.js";import{c as ee,A as Te,f as Oe}from"../chunks/store.MRPWFVRT.js";import{s as He,F as ge,G as ve,b as x,f as p,q as r,i as W,h as a,n as de,m as Re,e as _,a as H,c as A,g as Y,V as Qe,Y as ze,p as Pe,I as Ze,k as qe,Z as Ke,o as Ge,l as Je,u as he,r as q,t as le,d as se,K as _e,J as me,H as Ae,j as oe,D as Ye,E as xe}from"../chunks/scheduler.BnheM4g2.js";import{S as Ne,i as Ue,e as We,c as re,a as ae,m as ie,t as Q,f as be,b as z,d as ce,g as we}from"../chunks/index.CP53dWnj.js";import{e as Be}from"../chunks/each.B4pMeuX4.js";import{g as ke}from"../chunks/entry.BT-YnksK.js";import{H as et,e as Fe}from"../chunks/Header.CZKMtM4x.js";import{F as tt}from"../chunks/Field.BvArgg2L.js";import{s as lt,M as st}from"../chunks/Mask.Ck72PAgF.js";import{H as ot}from"../chunks/HexImage.Cud-VRlX.js";import{N as nt}from"../chunks/NavigationBar.DLCBEIBj.js";import{s as ye}from"../chunks/s32cloudfront.CIGdx2ef.js";import{B as rt}from"../chunks/BottomNavigationPadder.PvxSfrxK.js";const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7dfbCYNAEIXh2ZAq8pQ0kNSRilOHFcQn21AEFZH1ugOHgf97UxT27Ow1tW9rLbCbBUcANQKoEUCNAGoEUCOA2t08/f5mj+f2N01t9n2ZF98K7DX+6Dcn+FZg9En595X/1SNdvtB4N2Yt9I7wkzhFv1KWz4HSoXRx6IzYByZne9JpEeAokdX37ryHl8+OqIAaAdTYB7KWe0LhbruFCkwqzZmwvAL9FVHx7yD8cZplVI0AagRQI4AaAdQIoBY+QAecIyKJbyjm6wAAAABJRU5ErkJggg==",$e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEhSURBVHgB7dmxasJQGAXgY+kjFDt1aJ+lnRQc2qHdWotLKU6KCA5ZRScHF1FXBxdBJ30LQXBRwUnxHTQZMrgI3v/KUTjfGBLIyX/vf2+SROo9u8cNu8ONUwA2BWBTADYFYFMANgVgu4dRp1lFMvkAF9vtDtm/EizMFXC9eeu1MXMFYumP37POH/bb8EFz4Nwn75vaaCT38wUWU4DHsIs06gEyqVewOM+Bl+cnVIr/XlqhhVOATPoNue/Po2On2uIlJ7rbENpfz6ckpwoMRhNMZ/OjIcRqp86TeLFcoxzUsFitwWTqQptwM5YvBGFFxmDxsg60uj2waCWO2qevnaUL7UZjrCqYKxC9FjKujSX0h4ZMAdgUgE0B2BSATQHYFIDtAJj3PWal2lrSAAAAAElFTkSuQmCC",at="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2014.3426L3.28767%2010.6303C2.55345%209.89603%202.05344%208.96057%201.85087%207.94217C1.64831%206.92377%201.75228%205.86817%202.14964%204.90887C2.547%203.94956%203.21991%203.12962%204.08327%202.55275C4.94662%201.97587%205.96165%201.66797%207%201.66797C8.03835%201.66797%209.05338%201.97587%209.91674%202.55275C10.7801%203.12962%2011.453%203.94956%2011.8504%204.90887C12.2477%205.86817%2012.3517%206.92377%2012.1491%207.94217C11.9466%208.96057%2011.4466%209.89603%2010.7123%2010.6303L7%2014.3426ZM9.8875%209.80542C10.4585%209.23434%2010.8474%208.50676%2011.0049%207.71468C11.1624%206.92261%2011.0815%206.1016%2010.7725%205.3555C10.4634%204.60939%209.94003%203.97169%209.26854%203.52302C8.59705%203.07436%207.80759%202.83488%207%202.83488C6.19241%202.83488%205.40296%203.07436%204.73147%203.52302C4.05998%203.97169%203.5366%204.60939%203.22753%205.3555C2.91846%206.1016%202.83758%206.92261%202.9951%207.71468C3.15262%208.50676%203.54148%209.23434%204.1125%209.80542L7%2012.6929L9.8875%209.80542ZM7%208.08459C6.69058%208.08459%206.39384%207.96167%206.17505%207.74288C5.95625%207.52409%205.83334%207.22734%205.83334%206.91792C5.83334%206.6085%205.95625%206.31176%206.17505%206.09297C6.39384%205.87417%206.69058%205.75126%207%205.75126C7.30942%205.75126%207.60617%205.87417%207.82496%206.09297C8.04375%206.31176%208.16667%206.6085%208.16667%206.91792C8.16667%207.22734%208.04375%207.52409%207.82496%207.74288C7.60617%207.96167%207.30942%208.08459%207%208.08459Z'%20fill='%239DA5B4'%20/%3e%3c/svg%3e";function it(l){let e,t,n,s,i;return{c(){e=ge("svg"),t=ge("circle"),s=ge("path"),this.h()},l(u){e=ve(u,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var d=x(e);t=ve(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),x(t).forEach(p),s=ve(d,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),x(s).forEach(p),d.forEach(p),this.h()},h(){r(t,"cx","8"),r(t,"cy","8"),r(t,"r","8"),r(t,"fill",n=l[0]==="owner"?"#FFF5F0":"#EAFFF4"),r(s,"fill-rule","evenodd"),r(s,"clip-rule","evenodd"),r(s,"d","M7.62492 3.76955C7.81242 3.39453 8.18742 3.39453 8.37492 3.7695L10.313 7.11708C10.3274 7.1071 10.3426 7.09811 10.3584 7.09019L12.5656 5.98663C12.8444 5.84721 13.1617 6.08913 13.1011 6.39494L12.1578 11.1549C12.123 11.3305 11.969 11.457 11.79 11.457H9.88001C9.87831 11.457 9.87662 11.457 9.87492 11.457L6.76851 11.457C6.76656 11.457 6.76461 11.457 6.76266 11.457H4.2098C4.0308 11.457 3.87675 11.3305 3.84196 11.1549L2.89863 6.39494C2.83803 6.08913 3.15534 5.84721 3.43418 5.98663L5.64131 7.09019C5.65547 7.09727 5.59175 7.06541 5.68216 7.11394C5.70599 7.09019 5.6972 7.11394 6.10108 6.41719C6.08531 6.43899 6.1158 6.39538 6.10108 6.41719C6.12971 6.37762 6.15859 6.33772 6.18227 6.29624L7.62492 3.76955Z"),r(s,"fill",i=l[0]==="owner"?"#FF7A00":"#1FCA70"),r(e,"width","16"),r(e,"height","16"),r(e,"viewBox","0 0 16 16"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(u,d){W(u,e,d),a(e,t),a(e,s)},p(u,[d]){d&1&&n!==(n=u[0]==="owner"?"#FFF5F0":"#EAFFF4")&&r(t,"fill",n),d&1&&i!==(i=u[0]==="owner"?"#FF7A00":"#1FCA70")&&r(s,"fill",i)},i:de,o:de,d(u){u&&p(e)}}}function ct(l,e,t){let{type:n="owner"}=e;return l.$$set=s=>{"type"in s&&t(0,n=s.type)},[n]}class ut extends Ne{constructor(e){super(),Ue(this,e,ct,it,He,{type:0})}}function Xe(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function ft(l){let e,t="박스";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=A(n,"DIV",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-oldnbc"&&(e.textContent=t),this.h()},h(){r(e,"class","text-[21242C] typo-h3")},m(n,s){W(n,e,s)},p:de,d(n){n&&p(e)}}}function dt(l){let e,t,n="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어보세요!",s,i,u="새 박스 만들기",d,g;return{c(){e=_("div"),t=_("p"),t.innerHTML=n,s=H(),i=_("button"),i.textContent=u,this.h()},l(B){e=A(B,"DIV",{class:!0});var b=x(e);t=A(b,"P",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-92hfch"&&(t.innerHTML=n),s=Y(b),i=A(b,"BUTTON",{class:!0,"data-svelte-h":!0}),he(i)!=="svelte-yawy92"&&(i.textContent=u),b.forEach(p),this.h()},h(){r(t,"class","typo-body3 text-gray-500 text-center"),r(i,"class","px-3.5 py-1.5 w-fit rounded-3xl border border-gray-200 typo-body3 text-gray-700"),r(e,"class","flex flex-col gap-3.5 px-4 items-center")},m(B,b){W(B,e,b),a(e,t),a(e,s),a(e,i),d||(g=q(i,"click",l[9]),d=!0)},p:de,d(B){B&&p(e),d=!1,g()}}}function Le(l){let e,t,n;return t=new ut({props:{type:l[38].role}}),{c(){e=_("div"),re(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var i=x(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){r(e,"class","absolute bottom-0 right-0.5")},m(s,i){W(s,e,i),ie(t,e,null),n=!0},p(s,i){const u={};i[0]&1&&(u.type=s[38].role),t.$set(u)},i(s){n||(Q(t.$$.fragment,s),n=!0)},o(s){z(t.$$.fragment,s),n=!1},d(s){s&&p(e),ce(t)}}}function Se(l){let e,t,n,s,i,u,d,g,B,b,N,$,T,k=l[38].place_count+"",F,X,L,E,V=l[38].name+"",I,D,c,j,v,o,f,C,S,m;s=new ot({props:{src:ye(l[38].image),width:300,height:300}});let w=(l[38].role==="owner"||l[38].role==="manager")&&Le(l);function U(){return l[23](l[40],l[38])}function R(...M){return l[24](l[38],...M)}function K(){return l[25](l[38])}return{c(){e=_("div"),t=_("div"),n=_("div"),re(s.$$.fragment),i=H(),w&&w.c(),u=H(),d=_("div"),g=_("div"),B=_("div"),b=_("img"),$=H(),T=_("div"),F=le(k),X=H(),L=_("div"),E=_("div"),I=le(V),D=H(),c=_("button"),j=_("img"),this.h()},l(M){e=A(M,"DIV",{class:!0,"aria-hidden":!0});var y=x(e);t=A(y,"DIV",{class:!0});var P=x(t);n=A(P,"DIV",{class:!0});var G=x(n);ae(s.$$.fragment,G),G.forEach(p),i=Y(P),w&&w.l(P),P.forEach(p),u=Y(y),d=A(y,"DIV",{class:!0});var J=x(d);g=A(J,"DIV",{class:!0});var te=x(g);B=A(te,"DIV",{class:!0});var ue=x(B);b=A(ue,"IMG",{src:!0,alt:!0}),$=Y(ue),T=A(ue,"DIV",{class:!0});var h=x(T);F=se(h,k),h.forEach(p),ue.forEach(p),te.forEach(p),X=Y(J),L=A(J,"DIV",{class:!0});var O=x(L);E=A(O,"DIV",{class:!0});var Z=x(E);I=se(Z,V),Z.forEach(p),O.forEach(p),J.forEach(p),D=Y(y),c=A(y,"BUTTON",{class:!0});var fe=x(c);j=A(fe,"IMG",{src:!0,alt:!0}),fe.forEach(p),y.forEach(p),this.h()},h(){r(n,"class","w-12 h-12"),r(t,"class","flex-none w-12 h-12 relative"),_e(b.src,N=at)||r(b,"src",N),r(b,"alt","place-icon"),r(T,"class","typo-caption2"),r(B,"class","flex flex-row gap-0.5"),r(g,"class","flex flex-row gap-1 text-gray-400"),r(E,"class","typo-body1 text-black truncate"),r(L,"class","w-full flex flex-row gap-2"),r(d,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),_e(j.src,v=l[38].role==="owner"?De:$e)||r(j,"src",v),r(j,"alt",o=l[38].role==="owner"?"박스 삭제":"박스 나가기"),r(c,"class","absolute -right-12"),r(e,"class",f=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`),r(e,"aria-hidden",""),me(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ne+l[4]:l[4]:0}px)`)},m(M,y){W(M,e,y),a(e,t),a(t,n),ie(s,n,null),a(t,i),w&&w.m(t,null),a(e,u),a(e,d),a(d,g),a(g,B),a(B,b),a(B,$),a(B,T),a(T,F),a(d,X),a(d,L),a(L,E),a(E,I),a(e,D),a(e,c),a(c,j),C=!0,S||(m=[q(c,"click",Ae(U)),q(e,"touchstart",R),q(e,"touchmove",l[12]),q(e,"touchend",l[13]),q(e,"transitionend",l[14]),q(e,"click",K)],S=!0)},p(M,y){l=M;const P={};y[0]&1&&(P.src=ye(l[38].image)),s.$set(P),l[38].role==="owner"||l[38].role==="manager"?w?(w.p(l,y),y[0]&1&&Q(w,1)):(w=Le(l),w.c(),Q(w,1),w.m(t,null)):w&&(we(),z(w,1,1,()=>{w=null}),be()),(!C||y[0]&1)&&k!==(k=l[38].place_count+"")&&oe(F,k),(!C||y[0]&1)&&V!==(V=l[38].name+"")&&oe(I,V),(!C||y[0]&1&&!_e(j.src,v=l[38].role==="owner"?De:$e))&&r(j,"src",v),(!C||y[0]&1&&o!==(o=l[38].role==="owner"?"박스 삭제":"박스 나가기"))&&r(j,"alt",o),(!C||y[0]&37&&f!==(f=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`))&&r(e,"class",f),y[0]&29&&me(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ne+l[4]:l[4]:0}px)`)},i(M){C||(Q(s.$$.fragment,M),Q(w),C=!0)},o(M){z(s.$$.fragment,M),z(w),C=!1},d(M){M&&p(e),ce(s),w&&w.d(),S=!1,Ye(m)}}}function Me(l){let e,t,n,s,i;return t=new st({props:{onMask:!0,position:"sticky",closeOnClick:!0,$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){e=_("div"),re(t.$$.fragment),this.h()},l(u){e=A(u,"DIV",{class:!0});var d=x(e);ae(t.$$.fragment,d),d.forEach(p),this.h()},h(){r(e,"class","box-modal-container w-full fixed left-0 top-0 z-40"),me(e,"height",`${l[6]??0}px`)},m(u,d){W(u,e,d),ie(t,e,null),n=!0,s||(i=q(e,"touchend",l[16],{passive:!0}),s=!0)},p(u,d){const g={};d[0]&129|d[1]&1024&&(g.$$scope={dirty:d,ctx:u}),t.$set(g),d[0]&64&&me(e,"height",`${u[6]??0}px`)},i(u){n||(Q(t.$$.fragment,u),n=!0)},o(u){z(t.$$.fragment,u),n=!1},d(u){u&&p(e),ce(t),s=!1,i()}}}function ht(l){var w;let e,t,n,s,i=((w=l[0][l[7].listIdx])==null?void 0:w.name)+"",u,d,g,B=l[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?",b,N,$,T=l[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",k,F,X,L,E=l[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",V,I,D,c,j="아니오",v,o,f=l[7].stage==="delete"?"삭제":"나가기",C,S,m;return{c(){e=_("section"),t=_("div"),n=_("div"),s=_("p"),u=le(i),d=H(),g=_("p"),b=le(B),N=H(),$=_("p"),k=le(T),F=H(),X=_("br"),L=H(),V=le(E),I=H(),D=_("div"),c=_("button"),c.textContent=j,v=H(),o=_("button"),C=le(f),this.h()},l(U){e=A(U,"SECTION",{class:!0});var R=x(e);t=A(R,"DIV",{class:!0});var K=x(t);n=A(K,"DIV",{class:!0});var M=x(n);s=A(M,"P",{class:!0});var y=x(s);u=se(y,i),y.forEach(p),d=Y(M),g=A(M,"P",{class:!0});var P=x(g);b=se(P,B),P.forEach(p),M.forEach(p),N=Y(K),$=A(K,"P",{class:!0});var G=x($);k=se(G,T),F=Y(G),X=A(G,"BR",{}),L=Y(G),V=se(G,E),G.forEach(p),K.forEach(p),I=Y(R),D=A(R,"DIV",{class:!0});var J=x(D);c=A(J,"BUTTON",{class:!0,"data-svelte-h":!0}),he(c)!=="svelte-15cnivs"&&(c.textContent=j),v=Y(J),o=A(J,"BUTTON",{class:!0});var te=x(o);C=se(te,f),te.forEach(p),J.forEach(p),R.forEach(p),this.h()},h(){r(s,"class","typo-h3 truncate"),r(g,"class","typo-h3 flex-none"),r(n,"class","w-full flex flex-row justify-center gap-1 typo-h3"),r($,"class","typo-body4 text-center"),r(t,"class","box-modal-body flex flex-col justify-center items-center gap-2.5 w-full"),r(c,"class","bg-gray-300 rounded-md w-full h-14"),r(o,"class","bg-primary-500 rounded-md w-full h-14"),r(D,"class","box-modal-footer w-full flex flex-row gap-2.5 justify-center text-white text-lg font-semibold"),r(e,"class","box-modal flex flex-col items-start px-4 py-10 gap-7 absolute bottom-0 bg-white rounded-t-3xl w-screen z-40")},m(U,R){W(U,e,R),a(e,t),a(t,n),a(n,s),a(s,u),a(n,d),a(n,g),a(g,b),a(t,N),a(t,$),a($,k),a($,F),a($,X),a($,L),a($,V),a(e,I),a(e,D),a(D,c),a(D,v),a(D,o),a(o,C),S||(m=[q(c,"click",l[16]),q(o,"click",l[17]),q(e,"touchstart",Ae(l[19])),q(e,"touchend",Ae(l[20]))],S=!0)},p(U,R){var K;R[0]&129&&i!==(i=((K=U[0][U[7].listIdx])==null?void 0:K.name)+"")&&oe(u,i),R[0]&128&&B!==(B=U[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?")&&oe(b,B),R[0]&128&&T!==(T=U[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&oe(k,T),R[0]&128&&E!==(E=U[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&oe(V,E),R[0]&128&&f!==(f=U[7].stage==="delete"?"삭제":"나가기")&&oe(C,f)},d(U){U&&p(e),S=!1,Ye(m)}}}function mt(l){let e,t,n,s,i,u,d,g,B,b,N,$,T,k,F,X,L;t=new et({props:{position:"sticky",leftBack:"black",rightBoxAdd:"#1F5AFF",backgroundColor:"bg-white",rightSearch:"black",$$slots:{default:[ft]},$$scope:{ctx:l}}});function E(o){l[22](o)}let V={round:!0,placeholder:"검색하세요",prefixIcon:lt,prefixPointer:!0,onPrefixClick:l[21],clear:!0,backgroundColor:"bg-gray-50",onInput:l[10]};l[1]!==void 0&&(V.value=l[1]),i=new tt({props:V}),Re.push(()=>We(i,"value",E));let I=l[8].length===0&&dt(l),D=Be(l[0]),c=[];for(let o=0;o<D.length;o+=1)c[o]=Se(Xe(l,D,o));const j=o=>z(c[o],1,1,()=>{c[o]=null});N=new rt({props:{heightPx:72}});let v=l[7]&&Me(l);return X=new nt({}),{c(){e=_("div"),re(t.$$.fragment),n=H(),s=_("section"),re(i.$$.fragment),d=H(),g=_("section"),I&&I.c(),B=H();for(let o=0;o<c.length;o+=1)c[o].c();b=H(),re(N.$$.fragment),T=H(),v&&v.c(),F=H(),re(X.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var f=x(e);ae(t.$$.fragment,f),n=Y(f),s=A(f,"SECTION",{class:!0});var C=x(s);ae(i.$$.fragment,C),C.forEach(p),d=Y(f),g=A(f,"SECTION",{class:!0});var S=x(g);I&&I.l(S),B=Y(S);for(let m=0;m<c.length;m+=1)c[m].l(S);b=Y(S),ae(N.$$.fragment,S),S.forEach(p),T=Y(f),v&&v.l(f),f.forEach(p),F=Y(o),ae(X.$$.fragment,o),this.h()},h(){r(s,"class","box-search sticky p-4 top-[100px] z-10 bg-white"),r(g,"class",$=`box-contents flex flex-col ${l[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`),r(e,"class","box flex flex-col min-h-full"),Qe(()=>l[26].call(e))},m(o,f){W(o,e,f),ie(t,e,null),a(e,n),a(e,s),ie(i,s,null),a(e,d),a(e,g),I&&I.m(g,null),a(g,B);for(let C=0;C<c.length;C+=1)c[C]&&c[C].m(g,null);a(g,b),ie(N,g,null),a(e,T),v&&v.m(e,null),k=ze(e,l[26].bind(e)),W(o,F,f),ie(X,o,f),L=!0},p(o,f){const C={};f[1]&1024&&(C.$$scope={dirty:f,ctx:o}),t.$set(C);const S={};if(!u&&f[0]&2&&(u=!0,S.value=o[1],Pe(()=>u=!1)),i.$set(S),o[8].length===0&&I.p(o,f),f[0]&63549){D=Be(o[0]);let m;for(m=0;m<D.length;m+=1){const w=Xe(o,D,m);c[m]?(c[m].p(w,f),Q(c[m],1)):(c[m]=Se(w),c[m].c(),Q(c[m],1),c[m].m(g,b))}for(we(),m=D.length;m<c.length;m+=1)j(m);be()}(!L||f[0]&1&&$!==($=`box-contents flex flex-col ${o[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`))&&r(g,"class",$),o[7]?v?(v.p(o,f),f[0]&128&&Q(v,1)):(v=Me(o),v.c(),Q(v,1),v.m(e,null)):v&&(we(),z(v,1,1,()=>{v=null}),be())},i(o){if(!L){Q(t.$$.fragment,o),Q(i.$$.fragment,o);for(let f=0;f<D.length;f+=1)Q(c[f]);Q(N.$$.fragment,o),Q(v),Q(X.$$.fragment,o),L=!0}},o(o){z(t.$$.fragment,o),z(i.$$.fragment,o),c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)z(c[f]);z(N.$$.fragment,o),z(v),z(X.$$.fragment,o),L=!1},d(o){o&&(p(e),p(F)),ce(t),ce(i),I&&I.d(),Ze(c,o),ce(N),v&&v.d(),k(),ce(X,o)}}}let ne=48;function pt(l,e,t){let n;qe(l,ee,h=>t(31,n=h));const s=Ke();let{data:i}=e,u=i.boxes,d=i.boxes,g=sessionStorage.getItem("jwt");function B(){Ve()?ke("/boxes/-1/setting"):Fe.emit("showSignInModal",{removable:!0})}let b="",N;function $(h){clearTimeout(N),N=setTimeout(T,300)}function T(){t(0,d=b?u.filter(h=>h.name.includes(b)):u)}let k,F=!1,X=-1,L=-1,E;function V(h,O){E=void 0,t(4,I=0),t(5,c=!1),ee.set(!0),X=h.touches[0].clientX,L=h.touches[0].clientY,k!==void 0&&k!==O&&t(3,F=!1),t(2,k=O)}let I=0;function D(h){if(k===void 0)return;let Z=h.touches[0].clientX-X,pe=h.touches[0].clientY-L;if(E===void 0&&(E=Math.abs(Z)-Math.abs(pe)>=0,!F&&E&&Z>0))return t(2,k=void 0),t(4,I=0),ee.set(!1);if(E){const Ee=F?ne:0,Ie=F?0:-ne;t(4,I=Z>Ee?Ee:Z<Ie?Ie:Z)}}let c=!1;function j(h){if(k!==void 0)if(E){t(5,c=!0);let O=h.changedTouches[0].clientX-X;(I===0||Math.abs(I)===ne)&&(h.stopPropagation(),v()),O>=ne/2?t(3,F=!1):O<=-ne/2&&t(3,F=!0),t(4,I=0)}else ee.set(!1)}function v(){t(5,c=!1),ee.set(!1)}function o(h){n||m||(t(2,k=void 0),t(3,F=!1),E=void 0,t(4,I=0),ee.set(!0),X=h.touches[0].clientX,L=h.touches[0].clientY)}function f(h){if(E||m)return;let Z=h.touches[0].clientX-X,pe=h.touches[0].clientY-L;E===void 0&&(E=Math.abs(Z)-Math.abs(pe)>=0),E&&ee.set(!1)}function C(h){m||(E||s("stopSwipe",{stop:!0,toDefault:!0}),ee.set(!1),s("stopSwipe",{stop:!1}))}Ge(()=>{document.addEventListener("touchstart",o),document.addEventListener("touchmove",f),document.addEventListener("touchend",C)}),Je(()=>{document.removeEventListener("touchstart",o),document.removeEventListener("touchmove",f),document.removeEventListener("touchend",C)});let S,m;function w(h,O,Z){t(7,m={listIdx:h,idx:O,stage:Z==="owner"?"delete":"leave"}),s("stopSwipe",{stop:!0,toHiddenScroll:!0})}function U(){t(7,m=void 0),t(2,k=void 0),t(3,F=!1),s("stopSwipe",{stop:!1,toHiddenScroll:!1})}function R(){if(!m)return;m.stage==="delete"&&fetch(`${Te}/boxes/${m.idx}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`}});const O=u.splice(m.listIdx,1)[0];T(),Fe.emit("pushSnackbar",{message:`${O.name} 박스를 삭제했습니다.`}),U()}function K(h){xe.call(this,l,h)}function M(h){xe.call(this,l,h)}const y=()=>window.history.back();function P(h){b=h,t(1,b)}const G=(h,O)=>w(h,O.idx,O.role),J=(h,O)=>V(O,h.idx),te=h=>ke(`/boxes/${h.idx}/detail`);function ue(){S=this.clientHeight,t(6,S)}return l.$$set=h=>{"data"in h&&t(18,i=h.data)},[d,b,k,F,I,c,S,m,u,B,$,V,D,j,v,w,U,R,i,K,M,y,P,G,J,te,ue]}class Dt extends Ne{constructor(e){super(),Ue(this,e,pt,mt,He,{data:18},null,[-1,-1])}}let Ce=[];Oe.subscribe(l=>Ce=l);const gt=async({fetch:l})=>{const e=je();if(e===null)return{boxes:[]};if(Ce.length>0)return{boxes:Ce};const t=await l(`${Te}/boxes`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)return{boxes:[]};const n=await t.json();return Oe.set(n.data),{boxes:n.data}},$t=Object.freeze(Object.defineProperty({__proto__:null,load:gt},Symbol.toStringTag,{value:"Module"}));export{Dt as component,$t as universal};
