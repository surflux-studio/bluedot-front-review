import{i as He,e as Ee,A as Se,g as Ue}from"../chunks/units.DvlLNOex.js";import{s as Te,F as pe,G as ge,b as E,f as g,q as r,i as ee,h as i,n as fe,m as Ne,e as A,a as Y,c as b,g as H,V as Ve,Y as je,p as Re,L as Qe,k as ze,Z as Ze,o as Pe,l as qe,u as de,r as K,t as le,d as se,v as ve,Q as he,I as _e,j as oe,w as Me,E as Ie}from"../chunks/scheduler.De904EWn.js";import{S as Oe,i as $e,e as Ke,c as re,a as ae,m as ie,t as j,f as Ae,b as q,d as ce,g as be}from"../chunks/index.w_cQNxYZ.js";import{e as xe}from"../chunks/each.BGisq09C.js";import{g as Be}from"../chunks/entry.BSZcKorA.js";import{H as Ge}from"../chunks/Header.BidE0PdF.js";import{F as We}from"../chunks/Field.ELlq_6SB.js";import{s as Je,M as et}from"../chunks/Mask.BvIXu0dm.js";import{b as te}from"../chunks/store.B6V-7GTP.js";import{H as tt}from"../chunks/HexImage.DHPDWcts.js";import{N as lt}from"../chunks/NavigationBar.Oi8FIbha.js";const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7dfbCYNAEIXh2ZAq8pQ0kNSRilOHFcQn21AEFZH1ugOHgf97UxT27Ow1tW9rLbCbBUcANQKoEUCNAGoEUCOA2t08/f5mj+f2N01t9n2ZF98K7DX+6Dcn+FZg9En595X/1SNdvtB4N2Yt9I7wkzhFv1KWz4HSoXRx6IzYByZne9JpEeAokdX37ryHl8+OqIAaAdTYB7KWe0LhbruFCkwqzZmwvAL9FVHx7yD8cZplVI0AagRQI4AaAdQIoBY+QAecIyKJbyjm6wAAAABJRU5ErkJggg==",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEhSURBVHgB7dmxasJQGAXgY+kjFDt1aJ+lnRQc2qHdWotLKU6KCA5ZRScHF1FXBxdBJ30LQXBRwUnxHTQZMrgI3v/KUTjfGBLIyX/vf2+SROo9u8cNu8ONUwA2BWBTADYFYFMANgVgu4dRp1lFMvkAF9vtDtm/EizMFXC9eeu1MXMFYumP37POH/bb8EFz4Nwn75vaaCT38wUWU4DHsIs06gEyqVewOM+Bl+cnVIr/XlqhhVOATPoNue/Po2On2uIlJ7rbENpfz6ckpwoMRhNMZ/OjIcRqp86TeLFcoxzUsFitwWTqQptwM5YvBGFFxmDxsg60uj2waCWO2qevnaUL7UZjrCqYKxC9FjKujSX0h4ZMAdgUgE0B2BSATQHYFIDtAJj3PWal2lrSAAAAAElFTkSuQmCC",st="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2014.3426L3.28767%2010.6303C2.55345%209.89603%202.05344%208.96057%201.85087%207.94217C1.64831%206.92377%201.75228%205.86817%202.14964%204.90887C2.547%203.94956%203.21991%203.12962%204.08327%202.55275C4.94662%201.97587%205.96165%201.66797%207%201.66797C8.03835%201.66797%209.05338%201.97587%209.91674%202.55275C10.7801%203.12962%2011.453%203.94956%2011.8504%204.90887C12.2477%205.86817%2012.3517%206.92377%2012.1491%207.94217C11.9466%208.96057%2011.4466%209.89603%2010.7123%2010.6303L7%2014.3426ZM9.8875%209.80542C10.4585%209.23434%2010.8474%208.50676%2011.0049%207.71468C11.1624%206.92261%2011.0815%206.1016%2010.7725%205.3555C10.4634%204.60939%209.94003%203.97169%209.26854%203.52302C8.59705%203.07436%207.80759%202.83488%207%202.83488C6.19241%202.83488%205.40296%203.07436%204.73147%203.52302C4.05998%203.97169%203.5366%204.60939%203.22753%205.3555C2.91846%206.1016%202.83758%206.92261%202.9951%207.71468C3.15262%208.50676%203.54148%209.23434%204.1125%209.80542L7%2012.6929L9.8875%209.80542ZM7%208.08459C6.69058%208.08459%206.39384%207.96167%206.17505%207.74288C5.95625%207.52409%205.83334%207.22734%205.83334%206.91792C5.83334%206.6085%205.95625%206.31176%206.17505%206.09297C6.39384%205.87417%206.69058%205.75126%207%205.75126C7.30942%205.75126%207.60617%205.87417%207.82496%206.09297C8.04375%206.31176%208.16667%206.6085%208.16667%206.91792C8.16667%207.22734%208.04375%207.52409%207.82496%207.74288C7.60617%207.96167%207.30942%208.08459%207%208.08459Z'%20fill='%239DA5B4'%20/%3e%3c/svg%3e";function ot(l){let e,t,o,s,c;return{c(){e=pe("svg"),t=pe("circle"),s=pe("path"),this.h()},l(a){e=ge(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var m=E(e);t=ge(m,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),E(t).forEach(g),s=ge(m,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),E(s).forEach(g),m.forEach(g),this.h()},h(){r(t,"cx","8"),r(t,"cy","8"),r(t,"r","8"),r(t,"fill",o=l[0]==="owner"?"#FFF5F0":"#EAFFF4"),r(s,"fill-rule","evenodd"),r(s,"clip-rule","evenodd"),r(s,"d","M7.62492 3.76955C7.81242 3.39453 8.18742 3.39453 8.37492 3.7695L10.313 7.11708C10.3274 7.1071 10.3426 7.09811 10.3584 7.09019L12.5656 5.98663C12.8444 5.84721 13.1617 6.08913 13.1011 6.39494L12.1578 11.1549C12.123 11.3305 11.969 11.457 11.79 11.457H9.88001C9.87831 11.457 9.87662 11.457 9.87492 11.457L6.76851 11.457C6.76656 11.457 6.76461 11.457 6.76266 11.457H4.2098C4.0308 11.457 3.87675 11.3305 3.84196 11.1549L2.89863 6.39494C2.83803 6.08913 3.15534 5.84721 3.43418 5.98663L5.64131 7.09019C5.65547 7.09727 5.59175 7.06541 5.68216 7.11394C5.70599 7.09019 5.6972 7.11394 6.10108 6.41719C6.08531 6.43899 6.1158 6.39538 6.10108 6.41719C6.12971 6.37762 6.15859 6.33772 6.18227 6.29624L7.62492 3.76955Z"),r(s,"fill",c=l[0]==="owner"?"#FF7A00":"#1FCA70"),r(e,"width","16"),r(e,"height","16"),r(e,"viewBox","0 0 16 16"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(a,m){ee(a,e,m),i(e,t),i(e,s)},p(a,[m]){m&1&&o!==(o=a[0]==="owner"?"#FFF5F0":"#EAFFF4")&&r(t,"fill",o),m&1&&c!==(c=a[0]==="owner"?"#FF7A00":"#1FCA70")&&r(s,"fill",c)},i:fe,o:fe,d(a){a&&g(e)}}}function nt(l,e,t){let{type:o="owner"}=e;return l.$$set=s=>{"type"in s&&t(0,o=s.type)},[o]}class rt extends Oe{constructor(e){super(),$e(this,e,nt,ot,Te,{type:0})}}function ye(l,e,t){const o=l.slice();return o[38]=e[t],o[40]=t,o}function at(l){let e,t="박스";return{c(){e=A("div"),e.textContent=t,this.h()},l(o){e=b(o,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-oldnbc"&&(e.textContent=t),this.h()},h(){r(e,"class","text-[21242C] typo-h3")},m(o,s){ee(o,e,s)},p:fe,d(o){o&&g(e)}}}function it(l){let e,t,o="아직 생성된 박스가 없습니다.<br/>지금 새로운 박스를 만들어보세요!",s,c,a="새 박스 만들기",m,v;return{c(){e=A("div"),t=A("p"),t.innerHTML=o,s=Y(),c=A("button"),c.textContent=a,this.h()},l(B){e=b(B,"DIV",{class:!0});var I=E(e);t=b(I,"P",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-92hfch"&&(t.innerHTML=o),s=H(I),c=b(I,"BUTTON",{class:!0,"data-svelte-h":!0}),de(c)!=="svelte-yawy92"&&(c.textContent=a),I.forEach(g),this.h()},h(){r(t,"class","typo-body3 text-gray-500 text-center"),r(c,"class","px-3.5 py-1.5 w-fit rounded-3xl border border-gray-200 typo-body3 text-gray-700"),r(e,"class","flex flex-col gap-3.5 px-4 items-center")},m(B,I){ee(B,e,I),i(e,t),i(e,s),i(e,c),m||(v=K(c,"click",l[9]),m=!0)},p:fe,d(B){B&&g(e),m=!1,v()}}}function De(l){let e,t,o;return t=new rt({props:{type:l[38].role}}),{c(){e=A("div"),re(t.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var c=E(e);ae(t.$$.fragment,c),c.forEach(g),this.h()},h(){r(e,"class","absolute bottom-0 right-0.5")},m(s,c){ee(s,e,c),ie(t,e,null),o=!0},p(s,c){const a={};c[0]&1&&(a.type=s[38].role),t.$set(a)},i(s){o||(j(t.$$.fragment,s),o=!0)},o(s){q(t.$$.fragment,s),o=!1},d(s){s&&g(e),ce(t)}}}function Le(l){let e,t,o,s,c,a,m,v,B,I,R,y,T=l[38].place_count+"",w,F,O,$,_=l[38].name+"",L,d,X,u,n,f,x,D,p,Q,N;o=new tt({props:{src:l[38].image,width:48,height:48}});let C=(l[38].role==="owner"||l[38].role==="manager")&&De(l);function U(){return l[23](l[40],l[38])}function V(...S){return l[24](l[38],...S)}function G(){return l[25](l[38])}return{c(){e=A("div"),t=A("div"),re(o.$$.fragment),s=Y(),C&&C.c(),c=Y(),a=A("div"),m=A("div"),v=A("div"),B=A("img"),R=Y(),y=A("div"),w=le(T),F=Y(),O=A("div"),$=A("div"),L=le(_),d=Y(),X=A("button"),u=A("img"),x=Y(),this.h()},l(S){e=b(S,"DIV",{class:!0,"aria-hidden":!0});var k=E(e);t=b(k,"DIV",{class:!0});var Z=E(t);ae(o.$$.fragment,Z),s=H(Z),C&&C.l(Z),Z.forEach(g),c=H(k),a=b(k,"DIV",{class:!0});var z=E(a);m=b(z,"DIV",{class:!0});var W=E(m);v=b(W,"DIV",{class:!0});var J=E(v);B=b(J,"IMG",{src:!0,alt:!0}),R=H(J),y=b(J,"DIV",{class:!0});var ue=E(y);w=se(ue,T),ue.forEach(g),J.forEach(g),W.forEach(g),F=H(z),O=b(z,"DIV",{class:!0});var h=E(O);$=b(h,"DIV",{class:!0});var M=E($);L=se(M,_),M.forEach(g),h.forEach(g),z.forEach(g),d=H(k),X=b(k,"BUTTON",{class:!0});var P=E(X);u=b(P,"IMG",{src:!0,alt:!0}),P.forEach(g),x=H(k),k.forEach(g),this.h()},h(){r(t,"class","flex-none w-12 h-12 relative"),ve(B.src,I=st)||r(B,"src",I),r(B,"alt","place-icon"),r(y,"class","typo-caption2"),r(v,"class","flex flex-row gap-0.5"),r(m,"class","flex flex-row gap-1 text-gray-400"),r($,"class","typo-body1 text-black truncate"),r(O,"class","w-full flex flex-row gap-2"),r(a,"class","flex-auto min-w-0 flex flex-col items-start gap-0.5"),ve(u.src,n=l[38].role==="owner"?ke:Fe)||r(u,"src",n),r(u,"alt",f=l[38].role==="owner"?"박스 삭제":"박스 나가기"),r(X,"class","absolute -right-12"),r(e,"class",D=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`),r(e,"aria-hidden",""),he(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ne+l[4]:l[4]:0}px)`)},m(S,k){ee(S,e,k),i(e,t),ie(o,t,null),i(t,s),C&&C.m(t,null),i(e,c),i(e,a),i(a,m),i(m,v),i(v,B),i(v,R),i(v,y),i(y,w),i(a,F),i(a,O),i(O,$),i($,L),i(e,d),i(e,X),i(X,u),i(e,x),p=!0,Q||(N=[K(X,"click",_e(U)),K(e,"touchstart",V),K(e,"touchmove",l[12]),K(e,"touchend",l[13]),K(e,"transitionend",l[14]),K(e,"click",G)],Q=!0)},p(S,k){l=S;const Z={};k[0]&1&&(Z.src=l[38].image),o.$set(Z),l[38].role==="owner"||l[38].role==="manager"?C?(C.p(l,k),k[0]&1&&j(C,1)):(C=De(l),C.c(),j(C,1),C.m(t,null)):C&&(be(),q(C,1,1,()=>{C=null}),Ae()),(!p||k[0]&1)&&T!==(T=l[38].place_count+"")&&oe(w,T),(!p||k[0]&1)&&_!==(_=l[38].name+"")&&oe(L,_),(!p||k[0]&1&&!ve(u.src,n=l[38].role==="owner"?ke:Fe))&&r(u,"src",n),(!p||k[0]&1&&f!==(f=l[38].role==="owner"?"박스 삭제":"박스 나가기"))&&r(u,"alt",f),(!p||k[0]&37&&D!==(D=`flex flex-row items-center px-4 gap-2.5 h-12 w-screen ${l[2]===l[38].idx&&!l[5]?"":"transition-transform"}`))&&r(e,"class",D),k[0]&29&&he(e,"transform",`translateX(${l[2]===l[38].idx?l[3]?-ne+l[4]:l[4]:0}px)`)},i(S){p||(j(o.$$.fragment,S),j(C),p=!0)},o(S){q(o.$$.fragment,S),q(C),p=!1},d(S){S&&g(e),ce(o),C&&C.d(),Q=!1,Me(N)}}}function Xe(l){let e,t,o,s,c;return t=new et({props:{onMask:!0,position:"sticky",closeOnClick:!0,$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){e=A("div"),re(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var m=E(e);ae(t.$$.fragment,m),m.forEach(g),this.h()},h(){r(e,"class","box-modal-container w-full fixed left-0 top-0 z-40"),he(e,"height",`${l[6]??0}px`)},m(a,m){ee(a,e,m),ie(t,e,null),o=!0,s||(c=K(e,"touchend",l[16],{passive:!0}),s=!0)},p(a,m){const v={};m[0]&129|m[1]&1024&&(v.$$scope={dirty:m,ctx:a}),t.$set(v),m[0]&64&&he(e,"height",`${a[6]??0}px`)},i(a){o||(j(t.$$.fragment,a),o=!0)},o(a){q(t.$$.fragment,a),o=!1},d(a){a&&g(e),ce(t),s=!1,c()}}}function ct(l){var C;let e,t,o,s,c=((C=l[0][l[7].listIdx])==null?void 0:C.name)+"",a,m,v,B=l[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?",I,R,y,T=l[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,",w,F,O,$,_=l[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.",L,d,X,u,n="아니오",f,x,D=l[7].stage==="delete"?"삭제":"나가기",p,Q,N;return{c(){e=A("section"),t=A("div"),o=A("div"),s=A("p"),a=le(c),m=Y(),v=A("p"),I=le(B),R=Y(),y=A("p"),w=le(T),F=Y(),O=A("br"),$=Y(),L=le(_),d=Y(),X=A("div"),u=A("button"),u.textContent=n,f=Y(),x=A("button"),p=le(D),this.h()},l(U){e=b(U,"SECTION",{class:!0});var V=E(e);t=b(V,"DIV",{class:!0});var G=E(t);o=b(G,"DIV",{class:!0});var S=E(o);s=b(S,"P",{class:!0});var k=E(s);a=se(k,c),k.forEach(g),m=H(S),v=b(S,"P",{class:!0});var Z=E(v);I=se(Z,B),Z.forEach(g),S.forEach(g),R=H(G),y=b(G,"P",{class:!0});var z=E(y);w=se(z,T),F=H(z),O=b(z,"BR",{}),$=H(z),L=se(z,_),z.forEach(g),G.forEach(g),d=H(V),X=b(V,"DIV",{class:!0});var W=E(X);u=b(W,"BUTTON",{class:!0,"data-svelte-h":!0}),de(u)!=="svelte-15cnivs"&&(u.textContent=n),f=H(W),x=b(W,"BUTTON",{class:!0});var J=E(x);p=se(J,D),J.forEach(g),W.forEach(g),V.forEach(g),this.h()},h(){r(s,"class","typo-h3 truncate"),r(v,"class","typo-h3 flex-none"),r(o,"class","w-full flex flex-row justify-center gap-1 typo-h3"),r(y,"class","typo-body4 text-center"),r(t,"class","box-modal-body flex flex-col justify-center items-center gap-2.5 w-full"),r(u,"class","bg-gray-300 rounded-md w-full h-14"),r(x,"class","bg-primary-500 rounded-md w-full h-14"),r(X,"class","box-modal-footer w-full flex flex-row gap-2.5 justify-center text-white text-lg font-semibold"),r(e,"class","box-modal flex flex-col items-start px-4 py-10 gap-7 absolute bottom-0 bg-white rounded-t-3xl w-screen z-40")},m(U,V){ee(U,e,V),i(e,t),i(t,o),i(o,s),i(s,a),i(o,m),i(o,v),i(v,I),i(t,R),i(t,y),i(y,w),i(y,F),i(y,O),i(y,$),i(y,L),i(e,d),i(e,X),i(X,u),i(X,f),i(X,x),i(x,p),Q||(N=[K(u,"click",l[16]),K(x,"click",l[17]),K(e,"touchstart",_e(l[19])),K(e,"touchend",_e(l[20]))],Q=!0)},p(U,V){var G;V[0]&129&&c!==(c=((G=U[0][U[7].listIdx])==null?void 0:G.name)+"")&&oe(a,c),V[0]&128&&B!==(B=U[7].stage==="delete"?"박스를 삭제할까요?":"박스에서 나갈까요?")&&oe(I,B),V[0]&128&&T!==(T=U[7].stage==="delete"?"이 박스를 삭제하면 모든 데이터가 영구적으로 삭제되며,":"박스를 나가면 박스 팔로우가 취소되고,")&&oe(w,T),V[0]&128&&_!==(_=U[7].stage==="delete"?"다른 사용자도 더 이상 접근할 수 없습니다.":"새로운 소식에 대한 업데이트를 받을 수 없습니다.")&&oe(L,_),V[0]&128&&D!==(D=U[7].stage==="delete"?"삭제":"나가기")&&oe(p,D)},d(U){U&&g(e),Q=!1,Me(N)}}}function ut(l){let e,t,o,s,c,a,m,v,B,I,R,y,T,w,F;t=new Ge({props:{position:"sticky",leftBack:"black",rightBoxAdd:"#1F5AFF",backgroundColor:"bg-white",rightSearch:"black",$$slots:{default:[at]},$$scope:{ctx:l}}});function O(n){l[22](n)}let $={round:!0,placeholder:"검색하세요",prefixIcon:Je,prefixPointer:!0,onPrefixClick:l[21],clear:!0,backgroundColor:"bg-gray-50",onInput:l[10]};l[1]!==void 0&&($.value=l[1]),c=new We({props:$}),Ne.push(()=>Ke(c,"value",O));let _=l[8].length===0&&it(l),L=xe(l[0]),d=[];for(let n=0;n<L.length;n+=1)d[n]=Le(ye(l,L,n));const X=n=>q(d[n],1,1,()=>{d[n]=null});let u=l[7]&&Xe(l);return w=new lt({}),{c(){e=A("div"),re(t.$$.fragment),o=Y(),s=A("section"),re(c.$$.fragment),m=Y(),v=A("section"),_&&_.c(),B=Y();for(let n=0;n<d.length;n+=1)d[n].c();R=Y(),u&&u.c(),T=Y(),re(w.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0});var f=E(e);ae(t.$$.fragment,f),o=H(f),s=b(f,"SECTION",{class:!0});var x=E(s);ae(c.$$.fragment,x),x.forEach(g),m=H(f),v=b(f,"SECTION",{class:!0});var D=E(v);_&&_.l(D),B=H(D);for(let p=0;p<d.length;p+=1)d[p].l(D);D.forEach(g),R=H(f),u&&u.l(f),f.forEach(g),T=H(n),ae(w.$$.fragment,n),this.h()},h(){r(s,"class","box-search sticky p-4 top-[100px] z-10 bg-white"),r(v,"class",I=`box-contents flex flex-col ${l[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`),r(e,"class","box flex flex-col min-h-full"),Ve(()=>l[26].call(e))},m(n,f){ee(n,e,f),ie(t,e,null),i(e,o),i(e,s),ie(c,s,null),i(e,m),i(e,v),_&&_.m(v,null),i(v,B);for(let x=0;x<d.length;x+=1)d[x]&&d[x].m(v,null);i(e,R),u&&u.m(e,null),y=je(e,l[26].bind(e)),ee(n,T,f),ie(w,n,f),F=!0},p(n,f){const x={};f[1]&1024&&(x.$$scope={dirty:f,ctx:n}),t.$set(x);const D={};if(!a&&f[0]&2&&(a=!0,D.value=n[1],Re(()=>a=!1)),c.$set(D),n[8].length===0&&_.p(n,f),f[0]&63549){L=xe(n[0]);let p;for(p=0;p<L.length;p+=1){const Q=ye(n,L,p);d[p]?(d[p].p(Q,f),j(d[p],1)):(d[p]=Le(Q),d[p].c(),j(d[p],1),d[p].m(v,null))}for(be(),p=L.length;p<d.length;p+=1)X(p);Ae()}(!F||f[0]&1&&I!==(I=`box-contents flex flex-col ${n[0].length===0?"justify-center":"justify-start"} items-center gap-6 my-2 overflow-x-hidden flex-auto`))&&r(v,"class",I),n[7]?u?(u.p(n,f),f[0]&128&&j(u,1)):(u=Xe(n),u.c(),j(u,1),u.m(e,null)):u&&(be(),q(u,1,1,()=>{u=null}),Ae())},i(n){if(!F){j(t.$$.fragment,n),j(c.$$.fragment,n);for(let f=0;f<L.length;f+=1)j(d[f]);j(u),j(w.$$.fragment,n),F=!0}},o(n){q(t.$$.fragment,n),q(c.$$.fragment,n),d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)q(d[f]);q(u),q(w.$$.fragment,n),F=!1},d(n){n&&(g(e),g(T)),ce(t),ce(c),_&&_.d(),Qe(d,n),u&&u.d(),y(),ce(w,n)}}}let ne=48;function ft(l,e,t){let o;ze(l,te,h=>t(31,o=h));const s=Ze();let{data:c}=e,a=c.boxes,m=c.boxes,v=sessionStorage.getItem("jwt");function B(){He()?Be("/boxes/-1/setting"):Ee.emit("showSignInModal",{removable:!0})}let I="",R;function y(h){clearTimeout(R),R=setTimeout(T,300)}function T(){t(0,m=I?a.filter(h=>h.name.includes(I)):a)}let w,F=!1,O=-1,$=-1,_;function L(h,M){_=void 0,t(4,d=0),t(5,u=!1),te.set(!0),O=h.touches[0].clientX,$=h.touches[0].clientY,w!==void 0&&w!==M&&t(3,F=!1),t(2,w=M)}let d=0;function X(h){if(w===void 0)return;let P=h.touches[0].clientX-O,me=h.touches[0].clientY-$;if(_===void 0&&(_=Math.abs(P)-Math.abs(me)>=0,!F&&_&&P>0))return t(2,w=void 0),t(4,d=0),te.set(!1);if(_){const we=F?ne:0,Ce=F?0:-ne;t(4,d=P>we?we:P<Ce?Ce:P)}}let u=!1;function n(h){if(w!==void 0)if(_){t(5,u=!0);let M=h.changedTouches[0].clientX-O;(d===0||Math.abs(d)===ne)&&(h.stopPropagation(),f()),M>=ne/2?t(3,F=!1):M<=-ne/2&&t(3,F=!0),t(4,d=0)}else te.set(!1)}function f(){t(5,u=!1),te.set(!1)}function x(h){o||N||(t(2,w=void 0),t(3,F=!1),_=void 0,t(4,d=0),te.set(!0),O=h.touches[0].clientX,$=h.touches[0].clientY)}function D(h){if(_||N)return;let P=h.touches[0].clientX-O,me=h.touches[0].clientY-$;_===void 0&&(_=Math.abs(P)-Math.abs(me)>=0),_&&te.set(!1)}function p(h){N||(_||s("stopSwipe",{stop:!0,toDefault:!0}),te.set(!1),s("stopSwipe",{stop:!1}))}Pe(()=>{document.addEventListener("touchstart",x),document.addEventListener("touchmove",D),document.addEventListener("touchend",p)}),qe(()=>{document.removeEventListener("touchstart",x),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",p)});let Q,N;function C(h,M,P){t(7,N={listIdx:h,idx:M,stage:P==="owner"?"delete":"leave"}),s("stopSwipe",{stop:!0,toHiddenScroll:!0})}function U(){t(7,N=void 0),t(2,w=void 0),t(3,F=!1),s("stopSwipe",{stop:!1,toHiddenScroll:!1})}function V(){if(!N)return;N.stage==="delete"&&fetch(`${Se}/boxes/${N.idx}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`}});const M=a.splice(N.listIdx,1)[0];T(),Ee.emit("pushSnackbar",{message:`${M.name} 박스를 삭제했습니다.`}),U()}function G(h){Ie.call(this,l,h)}function S(h){Ie.call(this,l,h)}const k=()=>window.history.back();function Z(h){I=h,t(1,I)}const z=(h,M)=>C(h,M.idx,M.role),W=(h,M)=>L(M,h.idx),J=h=>Be(`/boxes/${h.idx}/detail`);function ue(){Q=this.clientHeight,t(6,Q)}return l.$$set=h=>{"data"in h&&t(18,c=h.data)},[m,I,w,F,d,u,Q,N,a,B,y,L,X,n,f,C,U,V,c,G,S,k,Z,z,W,J,ue]}class It extends Oe{constructor(e){super(),$e(this,e,ft,ut,Te,{data:18},null,[-1,-1])}}const dt=async({fetch:l})=>{const e=Ue();if(e===null)return{boxes:[]};const t=await l(`${Se}/boxes`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});return t.ok?{boxes:(await t.json()).data}:{boxes:[]}},xt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));export{It as component,xt as universal};
