import{s as q,a as N,g as P,i as g,f as d,o as A,e as z,c as D,b as H,l as M,n as y}from"../chunks/scheduler.BFzxWJSn.js";import{S as C,i as G,c as b,a as k,m as w,b as u,e as V,t as p,d as x,g as E}from"../chunks/index.DXXOSJvz.js";import{H as U}from"../chunks/Header.CTEnNcb6.js";import{V as T}from"../chunks/Viewer.D9jBD41f.js";import"../chunks/entry.DTeeiKTB.js";import"../chunks/emitter.E5P-NQ8u.js";/* empty css                                                   */import"../chunks/heic2any.BTnESp_i.js";/* empty css                                                     */import{a as j}from"../chunks/searchParams.B9NibOph.js";import{N as F}from"../chunks/NavigationBar.BrrUudMq.js";function J(i){let e,t;return e=new U({props:{position:"fixed",leftMap:"white",rightUser:"white",rightBox:"white",rightSearch:"white"}}),{c(){b(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,o){w(e,r,o),t=!0},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){u(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function K(i){let e,t;return e=new U({props:{position:"fixed",leftBack:"white",rightSearch:"white"}}),{c(){b(e.$$.fragment)},l(r){k(e.$$.fragment,r)},m(r,o){w(e,r,o),t=!0},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){u(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function L(i){let e,t,r;return t=new T({props:{posts:i[0]}}),{c(){e=z("div"),b(t.$$.fragment),this.h()},l(o){e=D(o,"DIV",{class:!0});var s=H(e);k(t.$$.fragment,s),s.forEach(d),this.h()},h(){M(e,"class","fixed top-0 left-0 w-full h-full")},m(o,s){g(o,e,s),w(t,e,null),r=!0},p(o,s){const a={};s&1&&(a.posts=o[0]),t.$set(a)},i(o){r||(p(t.$$.fragment,o),r=!0)},o(o){u(t.$$.fragment,o),r=!1},d(o){o&&d(e),x(t)}}}function O(i){let e;return{c(){e=z("div"),this.h()},l(t){e=D(t,"DIV",{class:!0}),H(e).forEach(d),this.h()},h(){M(e,"class","bg-black w-screen h-screen")},m(t,r){g(t,e,r)},p:y,i:y,o:y,d(t){t&&d(e)}}}function Q(i){let e,t,r,o,s,a,f,_;const h=[K,J],l=[];function $(n,c){return n[2]||n[1]?0:1}e=$(i),t=l[e]=h[e](i);const S=[O,L],m=[];function B(n,c){return n[0].length===0?0:1}return o=B(i),s=m[o]=S[o](i),f=new F({}),{c(){t.c(),r=N(),s.c(),a=N(),b(f.$$.fragment)},l(n){t.l(n),r=P(n),s.l(n),a=P(n),k(f.$$.fragment,n)},m(n,c){l[e].m(n,c),g(n,r,c),m[o].m(n,c),g(n,a,c),w(f,n,c),_=!0},p(n,[c]){let I=e;e=$(n),e!==I&&(E(),u(l[I],1,1,()=>{l[I]=null}),V(),t=l[e],t||(t=l[e]=h[e](n),t.c()),p(t,1),t.m(r.parentNode,r));let v=o;o=B(n),o===v?m[o].p(n,c):(E(),u(m[v],1,1,()=>{m[v]=null}),V(),s=m[o],s?s.p(n,c):(s=m[o]=S[o](n),s.c()),p(s,1),s.m(a.parentNode,a))},i(n){_||(p(t),p(s),p(f.$$.fragment,n),_=!0)},o(n){u(t),u(s),u(f.$$.fragment,n),_=!1},d(n){n&&(d(r),d(a)),l[e].d(n),m[o].d(n),x(f,n)}}}function R(i,e,t){let r=[],o,s;async function a(){const f=sessionStorage.getItem("jwt");t(1,o=j("placeIdx"));const _=o?`&placeIdx=${o}`:"";t(2,s=j("userIdx"));const h=s?`&userIdx=${s}`:"";fetch(`https://azit.surflux.studio/posts?${_}${h}&limit=30`,{method:"GET",headers:{Authorization:"Bearer "+f}}).then(l=>l.json()).then(l=>{t(0,r=l.data.map($=>({...$,mediaIdx:0}))),t(0,r),console.log("posts",r)})}return A(()=>{a()}),[r,o,s]}class ae extends C{constructor(e){super(),G(this,e,R,Q,q,{})}}export{ae as component};
