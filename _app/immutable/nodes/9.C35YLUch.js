import{A as Ie}from"../chunks/constants.bFPGP2yY.js";import{s as le,m as $,t as J,o as ee,b as S,d as R,f as v,l as p,i as V,h as k,j as K,n as Q,e as I,a as T,c as E,g as P,B as X,u as Ce,J as Ee,x as xe,y as H,z as De,k as Se,v as Ve,O as je,p as Y,H as ze}from"../chunks/scheduler.BRtuPHcG.js";import{S as ie,i as ne,e as Te,c as N,a as q,m as L,t as D,b as z,f as A,d as Z,g as U}from"../chunks/index.B4yC_IY0.js";import{e as F,u as re,o as ye,d as Pe}from"../chunks/each.B2RYFZbl.js";import{H as Me}from"../chunks/Header.Bwy9bDXz.js";import{F as Oe}from"../chunks/Field.BV9tAZx9.js";import{a as Be,b as Ne}from"../chunks/search.x7sEnQCQ.js";/* empty css                                                   */import{B as qe}from"../chunks/Button.05qNbzII.js";import{r as Le}from"../chunks/units.BJZU6p1c.js";import{g as Ze}from"../chunks/entry.BiFNfNKk.js";import{c as te,a as Fe,m as Ge}from"../chunks/map.QLuuJgw9.js";import{s as He,g as Ae}from"../chunks/searchParams.BD6fXk-L.js";import{N as Ue}from"../chunks/NavigationBar.DHPdVj_8.js";import{p as We}from"../chunks/stores.GOrYKYAx.js";function Je(i){let e,l,r,o;return{c(){e=$("svg"),l=$("title"),r=J(i[1]),o=$("path"),this.h()},l(a){e=ee(a,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0,fill:!0});var t=S(e);l=ee(t,"title",{});var f=S(l);r=R(f,i[1]),f.forEach(v),o=ee(t,"path",{d:!0}),S(o).forEach(v),t.forEach(v),this.h()},h(){p(o,"d","m600-120-240-84-186 72q-20 8-37-4.5T120-170v-560q0-13 7.5-23t20.5-15l212-72 240 84 186-72q20-8 37 4.5t17 33.5v560q0 13-7.5 23T812-192l-212 72Zm-40-98v-468l-160-56v468l160 56Zm80 0 120-40v-474l-120 46v468Zm-440-10 120-46v-468l-120 40v474Zm440-458v468-468Zm-320-56v468-468Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 -960 960 960"),p(e,"width",i[2]),p(e,"height",i[2]),p(e,"fill",i[0])},m(a,t){V(a,e,t),k(e,l),k(l,r),k(e,o)},p(a,[t]){t&2&&K(r,a[1]),t&4&&p(e,"width",a[2]),t&4&&p(e,"height",a[2]),t&1&&p(e,"fill",a[0])},i:Q,o:Q,d(a){a&&v(e)}}}function Re(i,e,l){let r,{fill:o="#5f6368"}=e,{length:a="1.75"}=e,{alt:t="Map"}=e;return i.$$set=f=>{"fill"in f&&l(0,o=f.fill),"length"in f&&l(3,a=f.length),"alt"in f&&l(1,t=f.alt)},i.$$.update=()=>{i.$$.dirty&8&&l(2,r=Le(a))},[o,t,r,a]}class Ke extends ie{constructor(e){super(),ne(this,e,Re,Je,le,{fill:0,length:3,alt:1})}}const Qe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.18154%2010L13%2014.6669L11.9092%2016L7%2010L11.9092%204L13%205.33312L9.18154%2010Z'%20fill='%234B5362'/%3e%3c/svg%3e",Xe=async({fetch:i,url:e})=>{if(e.searchParams.get("type")!=="post"){const o=(await(await i(`${Ie}/embeddings/tags`)).json()).data;return console.log(o),{recommendationTags:o}}},bt=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));function ae(i){let e,l;return{c(){e=I("div"),l=J(i[4]),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=S(e);l=R(o,i[4]),o.forEach(v),this.h()},h(){p(e,"class","chip-prefix svelte-zun98y")},m(r,o){V(r,e,o),k(e,l)},p(r,o){o&16&&K(l,r[4])},d(r){r&&v(e)}}}function se(i){let e,l,r;return{c(){e=I("div"),l=J(i[5]),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=S(e);l=R(a,i[5]),a.forEach(v),this.h()},h(){p(e,"class",r=X(`chip-value ${i[6]}`)+" svelte-zun98y")},m(o,a){V(o,e,a),k(e,l)},p(o,a){a&32&&K(l,o[5]),a&64&&r!==(r=X(`chip-value ${o[6]}`)+" svelte-zun98y")&&p(e,"class",r)},d(o){o&&v(e)}}}function Ye(i){let e,l,r,o,a,t,f=i[4]&&ae(i),h=i[5]&&se(i);return{c(){e=I("div"),l=I("div"),f&&f.c(),r=T(),h&&h.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var c=S(e);l=E(c,"DIV",{class:!0});var s=S(l);f&&f.l(s),r=P(s),h&&h.l(s),s.forEach(v),c.forEach(v),this.h()},h(){p(l,"class","flex items-start justify-center gap-[0.3125rem]"),p(e,"class",o=X(`chip ${i[7]} ${i[0]} ${i[1]} ${i[2]} ${i[8]} ${i[3]} ${i[9]}`)+" svelte-zun98y")},m(u,c){V(u,e,c),k(e,l),f&&f.m(l,null),k(l,r),h&&h.m(l,null),a||(t=Ce(e,"click",i[11]),a=!0)},p(u,[c]){u[4]?f?f.p(u,c):(f=ae(u),f.c(),f.m(l,r)):f&&(f.d(1),f=null),u[5]?h?h.p(u,c):(h=se(u),h.c(),h.m(l,null)):h&&(h.d(1),h=null),c&911&&o!==(o=X(`chip ${u[7]} ${u[0]} ${u[1]} ${u[2]} ${u[8]} ${u[3]} ${u[9]}`)+" svelte-zun98y")&&p(e,"class",o)},i:Q,o:Q,d(u){u&&v(e),f&&f.d(),h&&h.d(),a=!1,t()}}}function $e(i,e,l){let{prefix:r=""}=e,{value:o=""}=e,{textSize:a="typo-body3"}=e,{textColor:t="text-gray-600"}=e,{backgroundColor:f="bg-gray-100"}=e,{borderColor:h="border-gray-100"}=e,{backgrounGradient:u=!1}=e,{shadow:c=!1}=e,{border:s=!1}=e,{pointer:n=!1}=e,{padding:m="px-[0.875rem] py-[0.375rem]"}=e;function w(g){Ee.call(this,i,g)}return i.$$set=g=>{"prefix"in g&&l(4,r=g.prefix),"value"in g&&l(5,o=g.value),"textSize"in g&&l(10,a=g.textSize),"textColor"in g&&l(6,t=g.textColor),"backgroundColor"in g&&l(7,f=g.backgroundColor),"borderColor"in g&&l(8,h=g.borderColor),"backgrounGradient"in g&&l(0,u=g.backgrounGradient),"shadow"in g&&l(1,c=g.shadow),"border"in g&&l(2,s=g.border),"pointer"in g&&l(3,n=g.pointer),"padding"in g&&l(9,m=g.padding)},i.$$.update=()=>{i.$$.dirty&8&&l(3,n=n===!0||n==="true"?"cursor-pointer":"cursor-default"),i.$$.dirty&1&&l(0,u=u===!0||u==="true"?"bg-gradient-to-l from-[#00DEEC] to-[#0066FF]":""),i.$$.dirty&2&&l(1,c=c===!0||c==="true"?"custom-shadow":""),i.$$.dirty&4&&l(2,s=s===!0||s==="true"?"border":"")},[u,c,s,n,r,o,t,f,h,m,a,w]}class oe extends ie{constructor(e){super(),ne(this,e,$e,Ye,le,{prefix:4,value:5,textSize:10,textColor:6,backgroundColor:7,borderColor:8,backgrounGradient:0,shadow:1,border:2,pointer:3,padding:9})}}function fe(i,e,l){const r=i.slice();return r[19]=e[l],r}function ce(i,e,l){const r=i.slice();return r[22]=e[l],r}function ue(i,e,l){const r=i.slice();return r[22]=e[l],r}function he(i,e,l){const r=i.slice();return r[22]=e[l],r}function et(i){let e,l="어디?";return{c(){e=I("div"),e.textContent=l,this.h()},l(r){e=E(r,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1rtquuf"&&(e.textContent=l),this.h()},h(){p(e,"class","text-4xl text-white -mb-5")},m(r,o){V(r,e,o)},d(r){r&&v(e)}}}function me(i){let e,l,r="선택된 태그",o,a,t,f,h,u=F(i[1]),c=[];for(let n=0;n<u.length;n+=1)c[n]=de(he(i,u,n));const s=n=>z(c[n],1,1,()=>{c[n]=null});return f=new qe({props:{backgroundColor:"bg-primary-500",border:"",$$slots:{default:[tt]},$$scope:{ctx:i}}}),f.$on("click",i[9]),{c(){e=I("section"),l=I("div"),l.textContent=r,o=T(),a=I("div");for(let n=0;n<c.length;n+=1)c[n].c();t=T(),N(f.$$.fragment),this.h()},l(n){e=E(n,"SECTION",{class:!0});var m=S(e);l=E(m,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-11jci7b"&&(l.textContent=r),o=P(m),a=E(m,"DIV",{class:!0});var w=S(a);for(let g=0;g<c.length;g+=1)c[g].l(w);w.forEach(v),t=P(m),q(f.$$.fragment,m),m.forEach(v),this.h()},h(){p(l,"class","typo-sub-h4 text-white"),p(a,"class","flex flex-wrap gap-3"),p(e,"class","flex flex-col gap-3")},m(n,m){V(n,e,m),k(e,l),k(e,o),k(e,a);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(a,null);k(e,t),L(f,e,null),h=!0},p(n,m){if(m&258){u=F(n[1]);let g;for(g=0;g<u.length;g+=1){const O=he(n,u,g);c[g]?(c[g].p(O,m),D(c[g],1)):(c[g]=de(O),c[g].c(),D(c[g],1),c[g].m(a,null))}for(U(),g=u.length;g<c.length;g+=1)s(g);A()}const w={};m&536870912&&(w.$$scope={dirty:m,ctx:n}),f.$set(w)},i(n){if(!h){for(let m=0;m<u.length;m+=1)D(c[m]);D(f.$$.fragment,n),h=!0}},o(n){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)z(c[m]);z(f.$$.fragment,n),h=!1},d(n){n&&v(e),je(c,n),Z(f)}}}function de(i){let e,l;function r(){return i[13](i[22])}return e=new oe({props:{prefix:i[22].icon,value:i[22].value,padding:"py-1.5 px-3.5",textSize:"typo-caption2",backgroundColor:i[8](i[22].value)?"bg-primary-500":"bg-white",textColor:i[8](i[22].value)?"text-white":"text-gray-700"}}),e.$on("click",r),{c(){N(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,a){L(e,o,a),l=!0},p(o,a){i=o;const t={};a&2&&(t.prefix=i[22].icon),a&2&&(t.value=i[22].value),a&2&&(t.backgroundColor=i[8](i[22].value)?"bg-primary-500":"bg-white"),a&2&&(t.textColor=i[8](i[22].value)?"text-white":"text-gray-700"),e.$set(t)},i(o){l||(D(e.$$.fragment,o),l=!0)},o(o){z(e.$$.fragment,o),l=!1},d(o){Z(e,o)}}}function tt(i){let e,l="태그로 탐색하기",r,o,a;return o=new Ke({props:{fill:"white"}}),{c(){e=I("div"),e.textContent=l,r=T(),N(o.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1hgt161"&&(e.textContent=l),r=P(t),q(o.$$.fragment,t),this.h()},h(){p(e,"class","text-white text-sm")},m(t,f){V(t,e,f),V(t,r,f),L(o,t,f),a=!0},p:Q,i(t){a||(D(o.$$.fragment,t),a=!0)},o(t){z(o.$$.fragment,t),a=!1},d(t){t&&(v(e),v(r)),Z(o,t)}}}function ge(i){let e,l,r="추천 태그",o,a,t=[],f=new Map,h,u=F(i[2]);const c=s=>s[22].idx;for(let s=0;s<u.length;s+=1){let n=ue(i,u,s),m=c(n);f.set(m,t[s]=_e(m,n))}return{c(){e=I("section"),l=I("div"),l.textContent=r,o=T(),a=I("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"SECTION",{class:!0});var n=S(e);l=E(n,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-vx3wei"&&(l.textContent=r),o=P(n),a=E(n,"DIV",{class:!0});var m=S(a);for(let w=0;w<t.length;w+=1)t[w].l(m);m.forEach(v),n.forEach(v),this.h()},h(){p(l,"class","typo-sub-h4 text-white"),p(a,"class","flex flex-wrap gap-3"),p(e,"class","flex flex-col gap-3")},m(s,n){V(s,e,n),k(e,l),k(e,o),k(e,a);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(a,null);h=!0},p(s,n){n&7&&(u=F(s[2]),U(),t=re(t,n,c,1,s,u,f,a,ye,_e,null,ue),A())},i(s){if(!h){for(let n=0;n<u.length;n+=1)D(t[n]);h=!0}},o(s){for(let n=0;n<t.length;n+=1)z(t[n]);h=!1},d(s){s&&v(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function _e(i,e){let l,r,o;function a(){return e[14](e[22])}return r=new oe({props:{prefix:e[22].iconEmoji,value:e[22].name,padding:"py-1.5 px-3.5",textSize:"typo-caption2",backgroundColor:"bg-white",textColor:"text-gray-700"}}),r.$on("click",a),{key:i,first:null,c(){l=Y(),N(r.$$.fragment),this.h()},l(t){l=Y(),q(r.$$.fragment,t),this.h()},h(){this.first=l},m(t,f){V(t,l,f),L(r,t,f),o=!0},p(t,f){e=t;const h={};f&4&&(h.prefix=e[22].iconEmoji),f&4&&(h.value=e[22].name),r.$set(h)},i(t){o||(D(r.$$.fragment,t),o=!0)},o(t){z(r.$$.fragment,t),o=!1},d(t){t&&v(l),Z(r,t)}}}function ve(i){let e,l,r="연관 태그",o,a,t=[],f=new Map,h,u=F(i[3]);const c=s=>s[22].idx;for(let s=0;s<u.length;s+=1){let n=ce(i,u,s),m=c(n);f.set(m,t[s]=pe(m,n))}return{c(){e=I("section"),l=I("div"),l.textContent=r,o=T(),a=I("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"SECTION",{class:!0});var n=S(e);l=E(n,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-v5vczm"&&(l.textContent=r),o=P(n),a=E(n,"DIV",{class:!0});var m=S(a);for(let w=0;w<t.length;w+=1)t[w].l(m);m.forEach(v),n.forEach(v),this.h()},h(){p(l,"class","typo-sub-h4 text-white"),p(a,"class","flex flex-wrap gap-3"),p(e,"class","flex flex-col gap-3")},m(s,n){V(s,e,n),k(e,l),k(e,o),k(e,a);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(a,null);h=!0},p(s,n){n&11&&(u=F(s[3]),U(),t=re(t,n,c,1,s,u,f,a,ye,pe,null,ce),A())},i(s){if(!h){for(let n=0;n<u.length;n+=1)D(t[n]);h=!0}},o(s){for(let n=0;n<t.length;n+=1)z(t[n]);h=!1},d(s){s&&v(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function pe(i,e){let l,r,o;function a(){return e[15](e[22])}return r=new oe({props:{prefix:e[22].icon||"",value:e[22].value,padding:"py-1.5 px-3",backgroundColor:"bg-white",border:!0,textSize:"typo-caption2",textColor:"text-gray-700"}}),r.$on("click",a),{key:i,first:null,c(){l=Y(),N(r.$$.fragment),this.h()},l(t){l=Y(),q(r.$$.fragment,t),this.h()},h(){this.first=l},m(t,f){V(t,l,f),L(r,t,f),o=!0},p(t,f){e=t;const h={};f&8&&(h.prefix=e[22].icon||""),f&8&&(h.value=e[22].value),r.$set(h)},i(t){o||(D(r.$$.fragment,t),o=!0)},o(t){z(r.$$.fragment,t),o=!1},d(t){t&&v(l),Z(r,t)}}}function be(i){let e,l,r="바로 가기",o,a,t=[],f=new Map,h=F(i[4]);const u=c=>c[19].idx;for(let c=0;c<h.length;c+=1){let s=fe(i,h,c),n=u(s);f.set(n,t[c]=ke(n,s))}return{c(){e=I("section"),l=I("div"),l.textContent=r,o=T(),a=I("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=E(c,"SECTION",{class:!0});var s=S(e);l=E(s,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1pj31g6"&&(l.textContent=r),o=P(s),a=E(s,"DIV",{class:!0});var n=S(a);for(let m=0;m<t.length;m+=1)t[m].l(n);n.forEach(v),s.forEach(v),this.h()},h(){p(l,"class","typo-sub-h4 text-white"),p(a,"class","grid grid-cols-4 gap-3"),p(e,"class","flex flex-col gap-3")},m(c,s){V(c,e,s),k(e,l),k(e,o),k(e,a);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(a,null)},p(c,s){s&112&&(h=F(c[4]),t=re(t,s,u,1,c,h,f,a,Pe,ke,null,fe))},d(c){c&&v(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function ke(i,e){let l,r,o,a,t,f,h=e[19].name+"",u,c,s,n=(e[19].distance?we(e[19].distance):"")+"",m,w,g,O;function B(){return e[16](e[19])}return{key:i,first:null,c(){l=I("div"),r=I("div"),o=I("img"),t=T(),f=I("div"),u=J(h),c=T(),s=I("div"),m=J(n),w=T(),this.h()},l(j){l=E(j,"DIV",{class:!0});var M=S(l);r=E(M,"DIV",{class:!0});var G=S(r);o=E(G,"IMG",{src:!0,alt:!0}),G.forEach(v),t=P(M),f=E(M,"DIV",{class:!0});var x=S(f);u=R(x,h),x.forEach(v),c=P(M),s=E(M,"DIV",{class:!0});var d=S(s);m=R(d,n),d.forEach(v),w=P(M),M.forEach(v),this.h()},h(){ze(o.src,a=e[5].at(Math.floor(Math.random()*3)))||p(o,"src",a),p(o,"alt","icon"),p(r,"class","w-16 h-16"),p(f,"class","w-20 text-nowrap overflow-hidden overflow-ellipsis text-center text-xs"),p(s,"class","w-20 text-nowrap overflow-hidden overflow-ellipsis text-center text-[10px]"),p(l,"class","flex flex-col justify-center items-center text-white gap-2"),this.first=l},m(j,M){V(j,l,M),k(l,r),k(r,o),k(l,t),k(l,f),k(f,u),k(l,c),k(l,s),k(s,m),k(l,w),g||(O=Ce(l,"click",B),g=!0)},p(j,M){e=j,M&16&&h!==(h=e[19].name+"")&&K(u,h),M&16&&n!==(n=(e[19].distance?we(e[19].distance):"")+"")&&K(m,n)},d(j){j&&v(l),g=!1,O()}}}function lt(i){let e,l='<img src="/search-bg.png" alt="background" class="w-full h-full"/>',r,o,a,t,f,h,u,c,s,n,m,w,g,O,B;o=new Me({});let j=(i[6]==="post"||i[6]==="box")&&et();function M(_){i[12](_)}let G={round:!0,placeholder:"태그, 장소, 박스, 사용자 검색",prefixIcon:Qe,prefixPointer:!0,onPrefixClick:i[11],clear:!0,backgroundColor:"bg-white/75",onInput:i[7]};i[0]!==void 0&&(G.value=i[0]),u=new Oe({props:G}),xe.push(()=>Te(u,"value",M));let x=i[1].length>0&&me(i),d=i[0].length==0&&i[6]!=="post"&&i[6]!=="box"&&ge(i),b=i[3].length>0&&i[6]!=="post"&&i[6]!=="box"&&ve(i),y=i[4].length>0&&be(i);return O=new Ue({}),{c(){e=I("div"),e.innerHTML=l,r=T(),N(o.$$.fragment),a=T(),t=I("div"),j&&j.c(),f=T(),h=I("section"),N(u.$$.fragment),s=T(),x&&x.c(),n=T(),d&&d.c(),m=T(),b&&b.c(),w=T(),y&&y.c(),g=T(),N(O.$$.fragment),this.h()},l(_){e=E(_,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-16yqrji"&&(e.innerHTML=l),r=P(_),q(o.$$.fragment,_),a=P(_),t=E(_,"DIV",{class:!0});var C=S(t);j&&j.l(C),f=P(C),h=E(C,"SECTION",{class:!0});var W=S(h);q(u.$$.fragment,W),W.forEach(v),s=P(C),x&&x.l(C),n=P(C),d&&d.l(C),m=P(C),b&&b.l(C),w=P(C),y&&y.l(C),C.forEach(v),g=P(_),q(O.$$.fragment,_),this.h()},h(){p(e,"class","fixed left-0 top-0 w-screen h-screen -z-50"),p(h,"class","flex gap-4"),p(t,"class","px-6 flex flex-col gap-10")},m(_,C){V(_,e,C),V(_,r,C),L(o,_,C),V(_,a,C),V(_,t,C),j&&j.m(t,null),k(t,f),k(t,h),L(u,h,null),k(t,s),x&&x.m(t,null),k(t,n),d&&d.m(t,null),k(t,m),b&&b.m(t,null),k(t,w),y&&y.m(t,null),V(_,g,C),L(O,_,C),B=!0},p(_,[C]){const W={};!c&&C&1&&(c=!0,W.value=_[0],De(()=>c=!1)),u.$set(W),_[1].length>0?x?(x.p(_,C),C&2&&D(x,1)):(x=me(_),x.c(),D(x,1),x.m(t,n)):x&&(U(),z(x,1,1,()=>{x=null}),A()),_[0].length==0&&_[6]!=="post"&&_[6]!=="box"?d?(d.p(_,C),C&1&&D(d,1)):(d=ge(_),d.c(),D(d,1),d.m(t,m)):d&&(U(),z(d,1,1,()=>{d=null}),A()),_[3].length>0&&_[6]!=="post"&&_[6]!=="box"?b?(b.p(_,C),C&8&&D(b,1)):(b=ve(_),b.c(),D(b,1),b.m(t,w)):b&&(U(),z(b,1,1,()=>{b=null}),A()),_[4].length>0?y?y.p(_,C):(y=be(_),y.c(),y.m(t,null)):y&&(y.d(1),y=null)},i(_){B||(D(o.$$.fragment,_),D(u.$$.fragment,_),D(x),D(d),D(b),D(O.$$.fragment,_),B=!0)},o(_){z(o.$$.fragment,_),z(u.$$.fragment,_),z(x),z(d),z(b),z(O.$$.fragment,_),B=!1},d(_){_&&(v(e),v(r),v(a),v(t),v(g)),Z(o,_),j&&j.d(),Z(u),x&&x.d(),d&&d.d(),b&&b.d(),y&&y.d(),Z(O,_)}}}function we(i){const e=new Intl.NumberFormat("en-US",{maximumFractionDigits:1});return i>=1e3?`${e.format(i/1e3)} km`:`${e.format(i)} m`}function it(i,e,l){let r;Se(i,We,d=>l(18,r=d));let{data:o}=e,a="",t=[],f=o.recommendationTags,h=[],u=[],c=[],s=r.url.searchParams.get("type");Ve(async()=>{c.push(await te("/eul.jpg")),c.push(await te("/dosisool.jpg")),c.push(await te("/oilh.jpg")),c.push(await Fe("/j.jpg",608));const d=r.url.searchParams.get("value");d&&(l(0,a=d),m())});let n;function m(d){clearTimeout(n),n=setTimeout(async()=>{var b;a&&(Be({value:a,typesOr:"category,tag,option"}).then(y=>{l(3,h=(y==null?void 0:y.filter(_=>!t.map(C=>C.value).includes(_.value)))||[]),console.log("Tags:",h)}).catch(y=>{console.error("Error fetching tags:",y)}),Ne({query:a,location:(b=Ge.getView().getCenter())==null?void 0:b.join(",")}).then(y=>{l(4,u=y||[]),console.log("Icons:",u)}).catch(y=>{console.error("Error fetching icons:",y)}),He({value:a}))},300)}function w(d){return t.map(b=>b.value).includes(d)}function g(){const d=`/map?${t.length>0?`tags=${t.map(b=>b.value).join(",")}`:""}`;Ze(d)}const O=()=>window.history.back();function B(d){a=d,l(0,a)}const j=d=>{l(1,t=t.filter(b=>b!==d))},M=d=>{if(t.includes(d.name)){l(1,t=t.filter(b=>b!==d.name));return}l(1,t=[...t,{value:d.name,icon:d.iconEmoji}]),l(2,f=f.filter(b=>b.name!==d.name)),l(0,a="")},G=d=>{if(t.includes(d.name)){l(1,t=t.filter(b=>b!==d.name));return}l(1,t=[...t,{value:d.value,icon:d.iconEmoji}]),l(3,h=h.filter(b=>b.value!==d.value)),l(0,a="")},x=d=>{Ae(`/map?${s?`type=${s}`:""}&location=${d.longitude},${d.latitude}&placeIdx=${d.idx}&placeName=${d.name}`)};return i.$$set=d=>{"data"in d&&l(10,o=d.data)},[a,t,f,h,u,c,s,m,w,g,o,O,B,j,M,G,x]}class kt extends ie{constructor(e){super(),ne(this,e,it,lt,le,{data:10})}}export{kt as component,bt as universal};
