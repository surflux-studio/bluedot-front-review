import{n as j,e as oe,i as re,s as ae,c as ie,C as D,o as me,u as pe,v as _e,w as he,x as ge}from"../chunks/scheduler.CXyaNWAn.js";import{G as be,H as we,I as ye,J as ke,S as le,i as ce,q as X,g as x,w as C,r as W,n as w,o as $,d as b,e as E,t as Y,s as z,c as M,a as P,b as G,f as N,u as v,h as S,A as ve,j as H,K as $e,k as R,l as ue,m as V,p as A,F as Le,v as q,x as J}from"../chunks/index.-W5z6DxS.js";import{e as O,u as Se,f as Te}from"../chunks/each.B0i75CQ5.js";import{w as xe,p as Q}from"../chunks/entry.D3v9nGDh.js";import{e as Ee}from"../chunks/Footer.Cv_nxPZO.js";import{S as g,d as Me,e as Pe}from"../chunks/search.DutKClOB.js";import{p as Xe}from"../chunks/stores.DHMzPxH4.js";import{P as Ie,_ as Ce}from"../chunks/16.4ynlCFSL.js";import{component as We}from"./8.BU0knGav.js";import{component as Be}from"./13.Dv7T6Wsp.js";import{component as De}from"./3.C0D8oW4c.js";function qe(i,e,o,n){if(!e)return j;const t=i.getBoundingClientRect();if(e.left===t.left&&e.right===t.right&&e.top===t.top&&e.bottom===t.bottom)return j;const{delay:l=0,duration:r=300,easing:a=oe,start:s=be()+l,end:u=s+r,tick:c=j,css:m}=o(i,{from:e,to:t},n);let f=!0,d=!1,p;function _(){m&&(p=ye(i,0,1,r,l,a,m)),l||(d=!0)}function y(){m&&ke(i,p),f=!1}return we(h=>{if(!d&&h>=s&&(d=!0),d&&h>=u&&(c(1,0),y()),!f)return!1;if(d){const T=h-s,I=0+1*a(T/r);c(I,1-I)}return!0}),_(),c(0,1),y}function je(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:o,height:n}=e,t=i.getBoundingClientRect();i.style.position="absolute",i.style.width=o,i.style.height=n,fe(i,t)}}function fe(i,e){const o=i.getBoundingClientRect();if(e.left!==o.left||e.top!==o.top){const n=getComputedStyle(i),t=n.transform==="none"?"":n.transform;i.style.transform=`${t} translate(${e.left-o.left}px, ${e.top-o.top}px)`}}const ze=!1,Ne="auto",Oe=i=>{if(console.log(i.route.id),i.route.id!==null)return{route:i.route.id==="/"?"/viewer":i.route.id}},ft=Object.freeze(Object.defineProperty({__proto__:null,load:Oe,prerender:Ne,ssr:ze},Symbol.toStringTag,{value:"Module"}));function Re(i){const e=i-1;return e*e*e+1}function Ve(i,{delay:e=0,duration:o=400,easing:n=oe}={}){const t=+getComputedStyle(i).opacity;return{delay:e,duration:o,easing:n,css:l=>`opacity: ${l*t}`}}function Ae(i,{from:e,to:o},n={}){const t=getComputedStyle(i),l=t.transform==="none"?"":t.transform,[r,a]=t.transformOrigin.split(" ").map(parseFloat),s=e.left+e.width*r/o.width-(o.left+r),u=e.top+e.height*a/o.height-(o.top+a),{delay:c=0,duration:m=d=>Math.sqrt(d)*120,easing:f=Re}=n;return{delay:c,duration:re(m)?m(Math.sqrt(s*s+u*u)):m,easing:f,css:(d,p)=>{const _=p*s,y=p*u,h=d+p*e.width/o.width,T=d+p*e.height/o.height;return`transform: ${l} translate(${_}px, ${y}px) scale(${h}, ${T});`}}}function Z(i,e,o){const n=i.slice();return n[5]=e[o],n[7]=o,n}function ee(i,e){let o,n,t,l=e[5].message+"",r,a,s,u=(e[5].buttonText||F)+"",c,m,f,d,p,_,y=j,h,T,I;return{key:i,first:null,c(){o=E("div"),n=E("div"),t=E("div"),r=Y(l),a=z(),s=E("div"),c=Y(u),f=z(),this.h()},l(k){o=M(k,"DIV",{class:!0,style:!0});var L=P(o);n=M(L,"DIV",{class:!0,style:!0});var B=P(n);t=M(B,"DIV",{class:!0});var K=P(t);r=G(K,l),K.forEach(b),a=N(B),s=M(B,"DIV",{class:!0});var U=P(s);c=G(U,u),U.forEach(b),B.forEach(b),f=N(L),L.forEach(b),this.h()},h(){v(t,"class","text-white flex-grow"),v(s,"class","text-primary-300"),v(n,"class","flex bg-black p-[1.125rem]"),v(n,"style",m=`transform: scale(${1-.05*e[7]})`),v(o,"class","fixed bottom-24 w-full p-4"),v(o,"style",d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`),this.first=o},m(k,L){x(k,o,L),S(o,n),S(n,t),S(t,r),S(n,a),S(n,s),S(s,c),S(o,f),h=!0,T||(I=ve(s,"click",function(){re(e[5].callback)&&e[5].callback.apply(this,arguments)}),T=!0)},p(k,L){e=k,(!h||L&1)&&l!==(l=e[5].message+"")&&H(r,l),(!h||L&1)&&u!==(u=(e[5].buttonText||F)+"")&&H(c,u),(!h||L&1&&m!==(m=`transform: scale(${1-.05*e[7]})`))&&v(n,"style",m),(!h||L&1&&d!==(d=`z-index: ${80-e[7]}; transform: translateY(${-.3*e[7]}rem);`))&&v(o,"style",d)},r(){_=o.getBoundingClientRect()},f(){je(o),y(),fe(o,_)},a(){y(),y=qe(o,_,Ae,{})},i(k){h||(p&&p.end(1),h=!0)},o(k){k&&(p=$e(o,Ve,{duration:300})),h=!1},d(k){k&&b(o),k&&p&&p.end(),T=!1,I()}}}function Fe(i){let e=[],o=new Map,n,t,l=O(i[0]);const r=a=>a[5].uuid;for(let a=0;a<l.length;a+=1){let s=Z(i,l,a),u=r(s);o.set(u,e[a]=ee(u,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=X()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);n=X()},m(a,s){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,s);x(a,n,s),t=!0},p(a,[s]){if(s&1){l=O(a[0]),C();for(let u=0;u<e.length;u+=1)e[u].r();e=Se(e,s,r,1,a,l,o,n.parentNode,Te,ee,n,Z);for(let u=0;u<e.length;u+=1)e[u].a();W()}},i(a){if(!t){for(let s=0;s<l.length;s+=1)w(e[s]);t=!0}},o(a){for(let s=0;s<e.length;s+=1)$(e[s]);t=!1},d(a){a&&b(n);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}const Ke=5e3,Ue=!1,F="닫기";function Ye(i,e,o){let n;const t=()=>{clearTimeout(r),D(l,n=n.slice(1),n)},l=xe([]);ie(i,l,s=>o(0,n=s));let r;Ee.on("pushSnackbar",a);function a(s){if(n.some(c=>c.uuid===s.uuid))return;const u={uuid:s.uuid||crypto.randomUUID(),message:s.message,urgent:s.urgent,keep:s.keep||Ue,duration:s.duration||Ke,buttonText:s.buttonText||F,callback:()=>{t();try{s.callback()}catch{}}};if(s.urgent){clearTimeout(r),D(l,n=[u,...n],n);return}D(l,n=[...n,u],n)}return i.$$.update=()=>{if(i.$$.dirty&5&&n.length>0){const{duration:s,keep:u}=n[0];clearTimeout(r),u||o(2,r=setTimeout(()=>{D(l,n=n.slice(1),n)},s))}},[n,l,r]}class Ge extends le{constructor(e){super(),ce(this,e,Ye,Fe,ae,{})}}function de(){const i=window.innerWidth<=g.MobileS?g.MobileS:window.innerWidth<=g.MobileM?g.MobileM:window.innerWidth<=g.MobileL?g.MobileL:window.innerWidth<=g.Tablet?g.Tablet:window.innerWidth<=g.Laptop?g.Laptop:window.innerWidth<=g.LaptopL?g.LaptopL:g.FourK;Me.set(i)}window.onresize=de;function te(i,e,o){const n=i.slice();return n[9]=e[o],n[11]=o,n}function He(i){let e;const o=i[5].default,n=pe(o,i,i[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,l){n&&n.m(t,l),e=!0},p(t,l){n&&n.p&&(!e||l&16)&&_e(n,o,t,t[4],e?ge(o,t[4],l,null):he(t[4]),null)},i(t){e||(w(n,t),e=!0)},o(t){$(n,t),e=!1},d(t){n&&n.d(t)}}}function Je(i){let e,o,n=O(i[0]),t=[];for(let r=0;r<n.length;r+=1)t[r]=se(te(i,n,r));const l=r=>$(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=X()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=X()},m(r,a){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,a);x(r,e,a),o=!0},p(r,a){if(a&7){n=O(r[0]);let s;for(s=0;s<n.length;s+=1){const u=te(r,n,s);t[s]?(t[s].p(u,a),w(t[s],1)):(t[s]=se(u),t[s].c(),w(t[s],1),t[s].m(e.parentNode,e))}for(C(),s=n.length;s<t.length;s+=1)l(s);W()}},i(r){if(!o){for(let a=0;a<n.length;a+=1)w(t[a]);o=!0}},o(r){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)$(t[a]);o=!1},d(r){r&&b(e),Le(t,r)}}}function ne(i){let e,o,n;var t=i[9].component;function l(r,a){return{props:{data:r[9].data}}}return t&&(e=J(t,l(i))),{c(){e&&R(e.$$.fragment),o=X()},l(r){e&&ue(e.$$.fragment,r),o=X()},m(r,a){e&&V(e,r,a),x(r,o,a),n=!0},p(r,a){if(a&1&&t!==(t=r[9].component)){if(e){C();const s=e;$(s.$$.fragment,1,0,()=>{A(s,1)}),W()}t?(e=J(t,l(r)),R(e.$$.fragment),w(e.$$.fragment,1),V(e,o.parentNode,o)):e=null}else if(t){const s={};a&1&&(s.data=r[9].data),e.$set(s)}},i(r){n||(e&&w(e.$$.fragment,r),n=!0)},o(r){e&&$(e.$$.fragment,r),n=!1},d(r){r&&b(o),e&&A(e,r)}}}function se(i){let e,o,n,t=i[9].component&&i[9].isLoading&&ne(i);return{c(){e=E("div"),t&&t.c(),o=z(),this.h()},l(l){e=M(l,"DIV",{class:!0});var r=P(e);t&&t.l(r),o=N(r),r.forEach(b),this.h()},h(){v(e,"class","page svelte-12nj6cf"),q(e,"transform",i[1]),q(e,"left",`${(i[11]-i[2])*100}%`)},m(l,r){x(l,e,r),t&&t.m(e,null),S(e,o),n=!0},p(l,r){l[9].component&&l[9].isLoading?t?(t.p(l,r),r&1&&w(t,1)):(t=ne(l),t.c(),w(t,1),t.m(e,o)):t&&(C(),$(t,1,1,()=>{t=null}),W()),r&2&&q(e,"transform",l[1]),r&4&&q(e,"left",`${(l[11]-l[2])*100}%`)},i(l){n||(w(t),n=!0)},o(l){$(t),n=!1},d(l){l&&b(e),t&&t.d()}}}function Qe(i){let e,o,n,t,l,r;e=new Ge({});const a=[Je,He],s=[];function u(c,m){return c[2]!==-1?0:1}return t=u(i),l=s[t]=a[t](i),{c(){R(e.$$.fragment),o=z(),n=E("main"),l.c(),this.h()},l(c){ue(e.$$.fragment,c),o=N(c),n=M(c,"MAIN",{id:!0,class:!0});var m=P(n);l.l(m),m.forEach(b),this.h()},h(){v(n,"id","page-container"),v(n,"class","w-screen min-h-screen svelte-12nj6cf")},m(c,m){V(e,c,m),x(c,o,m),x(c,n,m),s[t].m(n,null),r=!0},p(c,[m]){let f=t;t=u(c),t===f?s[t].p(c,m):(C(),$(s[f],1,1,()=>{s[f]=null}),W(),l=s[t],l?l.p(c,m):(l=s[t]=a[t](c),l.c()),w(l,1),l.m(n,null))},i(c){r||(w(e.$$.fragment,c),w(l),r=!0)},o(c){$(e.$$.fragment,c),$(l),r=!1},d(c){c&&(b(o),b(n)),A(e,c),s[t].d()}}}function Ze(i,e,o){let n,t;ie(i,Xe,f=>o(6,t=f));let{$$slots:l={},$$scope:r}=e,{data:a}=e;const s=[{route:"/map",path:"/map",regex:/^\/map$/,component:We,isLoading:!1},{route:"/viewer",path:"/viewer",regex:/^\/(viewer)?$/,component:Ie,data:{posts:Ce},isLoading:!1},{route:"/users/[idx]",path:"/users/111",regex:/^\/users\/\d+$/,component:Be,isLoading:!1},{route:"/boxes",path:"/boxes",regex:/^\/boxes$/,component:De,isLoading:!1}];me(async()=>{Pe.set(window),de(),u(),m()});function u(){const f=t.url.searchParams.get("access");if(f){sessionStorage.setItem("access",f),t.url.searchParams.delete("access");const d=`${t.url.origin}${t.url.pathname}?${t.url.searchParams.toString()}`;window.history.replaceState({},"",d)}}let c="translateX(0)";function m(){let f=-1;const d=document.body.clientWidth;document.addEventListener("touchstart",p=>{f=p.touches[0].clientX,n===0&&f<d-20&&(o(1,c="translateX(0)"),f=-1)},{passive:!0}),document.addEventListener("touchmove",p=>{if(p.preventDefault(),f<0)return;let _=p.touches[0].clientX-f;_=_>d?d:_<-d?-d:_,_=n===0&&_>0||n===s.length-1&&_<0?0:_,_>0?o(0,s[n-1].isLoading=!0,s):_<0&&o(0,s[n+1].isLoading=!0,s),o(1,c=`translateX(${_}px)`)},{passive:!1}),document.addEventListener("touchend",p=>{if(f<0)return;let _=p.changedTouches[0].clientX-f;if(_>d/2&&n!==0){o(1,c=`translateX(${d}px)`);const y=n-1,h=s[y];Q(h.path,{}),o(3,a.route=h.route,a),o(1,c="translateX(0)")}else if(-_>d/2&&n!==s.length-1){o(1,c=`translateX(${-d}px)`);const y=n+1,h=s[y];Q(h.path,{}),o(3,a.route=h.route,a),o(1,c="translateX(0)")}else o(1,c="translateX(0)");f=-1}),window.onpopstate=function(){if(n!==-1){for(const p of s)if(p.regex.test(window.location.pathname)){o(3,a.route=p.route,a);break}}}}return i.$$set=f=>{"data"in f&&o(3,a=f.data),"$$scope"in f&&o(4,r=f.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&o(2,n=s.findIndex(f=>{const d=a.route===f.route;return d&&(f.isLoading=!0),d}))},[s,c,n,a,r,l]}class dt extends le{constructor(e){super(),ce(this,e,Ze,Qe,ae,{data:3})}}export{dt as component,ft as universal};
