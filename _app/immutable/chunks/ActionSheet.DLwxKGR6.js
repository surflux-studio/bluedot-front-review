import{T as X,U as ge,s as me,v as Z,i as oe,f as C,k as pe,o as _e,l as we,w as ke,e as P,a as be,c as S,b as L,g as Ee,q as T,L as x,G as O,J as $,h as z,r as H,x as ye,H as ee,z as ve,A as He,B as De,C as Ye,m as Me}from"./scheduler.DhPEAp-B.js";import{n as Te,l as Ce,S as Ae,i as Be,t as j,g as Pe,b as F,f as Se}from"./index.Cw9AqNvO.js";import{w as Le}from"./entry.Bjlh07Gh.js";/* empty css                                                  */function b(e){const o=e-1;return o*o*o+1}function te(e){return Object.prototype.toString.call(e)==="[object Date]"}function G(e,o){if(e===o||e!==e)return()=>e;const t=typeof e;if(t!==typeof o||Array.isArray(e)!==Array.isArray(o))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=o.map((l,i)=>G(e[i],l));return l=>s.map(i=>i(l))}if(t==="object"){if(!e||!o)throw new Error("Object cannot be null");if(te(e)&&te(o)){e=e.getTime(),o=o.getTime();const i=o-e;return c=>new Date(e+c*i)}const s=Object.keys(o),l={};return s.forEach(i=>{l[i]=G(e[i],o[i])}),i=>{const c={};return s.forEach(h=>{c[h]=l[h](i)}),c}}if(t==="number"){const s=o-e;return l=>e+l*s}throw new Error(`Cannot interpolate ${t} values`)}function Oe(e,o={}){const t=Le(e);let s,l=e;function i(c,h){if(e==null)return t.set(e=c),Promise.resolve();l=c;let u=s,f=!1,{delay:g=0,duration:m=400,easing:a=ge,interpolate:r=G}=X(X({},o),h);if(m===0)return u&&(u.abort(),u=null),t.set(e=l),Promise.resolve();const d=Te()+g;let w;return s=Ce(E=>{if(E<d)return!0;f||(w=r(e,c),typeof m=="function"&&(m=m(e,c)),f=!0),u&&(u.abort(),u=null);const k=E-d;return k>m?(t.set(e=c),!1):(t.set(e=w(a(k/m))),!0)}),s.promise}return{set:i,update:(c,h)=>i(c(l,e),h),subscribe:t.subscribe}}function ze(e){function o(t){const s=t.target;s&&!e.contains(s)&&e.dispatchEvent(new CustomEvent("outsideclick"))}return window.addEventListener("click",o),{destroy(){window.removeEventListener("click",o)}}}function ne(e){let o,t,s,l,i,c,h,u,f,g;const m=e[20].default,a=ke(m,e,e[19],null);return{c(){o=P("div"),t=P("div"),s=P("div"),l=be(),i=P("div"),a&&a.c(),this.h()},l(r){o=S(r,"DIV",{class:!0});var d=L(o);t=S(d,"DIV",{class:!0,style:!0});var w=L(t);s=S(w,"DIV",{class:!0}),L(s).forEach(C),l=Ee(w),i=S(w,"DIV",{class:!0});var E=L(i);a&&a.l(E),E.forEach(C),w.forEach(C),d.forEach(C),this.h()},h(){T(s,"class","handle svelte-e2cm4l"),T(i,"class","content svelte-e2cm4l"),x(i,"isMaxHeight",e[4]===e[1]),T(t,"class",c=O(`sheet absolute bottom-0 w-full ${e[3]} 
      rounded-t-xl touch-pan-y will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-e2cm4l"),$(t,"transform","translateY("+e[8]+"px)"),T(o,"class",h=O(`backdrop fixed top-0 left-0 right-0 bottom-0 ${e[2]} z-40 overflow-hidden touch-none`)+" svelte-e2cm4l")},m(r,d){oe(r,o,d),z(o,t),z(t,s),z(t,l),z(t,i),a&&a.m(i,null),e[21](i),u=!0,f||(g=[H(t,"touchstart",e[11],!0),H(t,"touchmove",e[12],!0),H(t,"touchend",e[13],{passive:!0,capture:!0}),H(t,"mousedown",e[14],!0),ye(ze.call(null,t)),H(t,"outsideclick",e[22]),H(o,"click",ee(e[15])),H(o,"touchstart",ee(e[16]))],f=!0)},p(r,d){a&&a.p&&(!u||d[0]&524288)&&ve(a,m,r,r[19],u?De(m,r[19],d,null):He(r[19]),null),(!u||d[0]&18)&&x(i,"isMaxHeight",r[4]===r[1]),(!u||d[0]&8&&c!==(c=O(`sheet absolute bottom-0 w-full ${r[3]} 
      rounded-t-xl touch-pan-y will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-e2cm4l"))&&T(t,"class",c),(!u||d[0]&256)&&$(t,"transform","translateY("+r[8]+"px)"),(!u||d[0]&4&&h!==(h=O(`backdrop fixed top-0 left-0 right-0 bottom-0 ${r[2]} z-40 overflow-hidden touch-none`)+" svelte-e2cm4l"))&&T(o,"class",h)},i(r){u||(j(a,r),u=!0)},o(r){F(a,r),u=!1},d(r){r&&C(o),a&&a.d(r),e[21](null),f=!1,Ye(g)}}}function je(e){let o,t,s=e[0]&&ne(e);return{c(){s&&s.c(),o=Z()},l(l){s&&s.l(l),o=Z()},m(l,i){s&&s.m(l,i),oe(l,o,i),t=!0},p(l,i){l[0]?s?(s.p(l,i),i[0]&1&&j(s,1)):(s=ne(l),s.c(),j(s,1),s.m(o.parentNode,o)):s&&(Pe(),F(s,1,1,()=>{s=null}),Se())},i(l){t||(j(s),t=!0)},o(l){F(s),t=!1},d(l){l&&C(o),s&&s.d(l)}}}const Ie=10;function Ve(e,o,t){let s,{$$slots:l={},$$scope:i}=o,{backdropBackground:c="bg-[#24242424]"}=o,{sheetBackground:h="bg-[#242424]"}=o,{isOpen:u=!1}=o,{maxHeight:f=null}=o,{defaultHeight:g=null}=o,{onClose:m=()=>{t(0,u=!1)}}=o,a=0,r=0,d=!1,w=0,E=0,k=0,D=!1,J=0,A=!1;const p=Oe(0,{duration:300,easing:b});pe(e,p,n=>t(8,s=n));let B,N=!1;function I(){a=window.innerHeight,f===null&&t(1,f=a*.97),g===null&&t(17,g=a/2),u&&V()}function V(){t(4,r=g),p.set(a),p.set(a-r,{duration:300,easing:b}),t(6,A=!0),setTimeout(()=>{t(6,A=!1)},50)}function y(){p.set(a,{duration:300,easing:b}).then(()=>{m()})}function U(n,_){d=!0,t(5,D=!1),w=n,J=s,N=_.closest(".content")!==null}function W(n,_){if(!d)return;if(E=n,k=E-w,N&&B&&r===f){const{scrollTop:Y,scrollHeight:M,clientHeight:q}=B;if(M>q&&!(Y===0&&k>0))return}Math.abs(k)>Ie&&(t(5,D=!0),_.preventDefault(),_.stopPropagation()),se()}function K(){d&&(d=!1,ie())}function se(){let n=J+k;const _=a-f;if(n<_){const v=_-n;n=_-v/3}n=Math.min(n,a),p.set(n)}function ie(){const n=k;k=0;const _=s,v=a-f,Y=a-g,M=10;if(g===f)n>M?y():p.set(Y,{duration:200,easing:b});else if(_<v+M)t(4,r=f),p.set(v,{duration:200,easing:b});else if(n>M)r===f?(t(4,r=g),p.set(Y,{duration:200,easing:b})):y();else if(n<-M)t(4,r=f),p.set(v,{duration:200,easing:b});else{const q=(Y+v)/2;_<q?(t(4,r=f),p.set(v,{duration:200,easing:b})):(t(4,r=g),p.set(Y,{duration:200,easing:b}))}setTimeout(()=>{t(5,D=!1)},200)}function re(n){U(n.touches[0].clientY,n.target)}function le(n){W(n.touches[0].clientY,n)}function ae(){K()}function ue(n){n.button===0&&(U(n.clientY,n.target),window.addEventListener("mousemove",Q),window.addEventListener("mouseup",R))}function Q(n){W(n.clientY,n)}function R(){window.removeEventListener("mousemove",Q),window.removeEventListener("mouseup",R),K()}function ce(n){!D&&n.target===n.currentTarget&&!A&&y()}function fe(n){n.target===n.currentTarget&&y()}_e(()=>{I(),y(),window.addEventListener("resize",I),u&&V()}),we(()=>{window.removeEventListener("resize",I)});function de(n){Me[n?"unshift":"push"](()=>{B=n,t(7,B)})}const he=n=>{n.preventDefault(),n.stopPropagation(),!D&&!A&&y()};return e.$$set=n=>{"backdropBackground"in n&&t(2,c=n.backdropBackground),"sheetBackground"in n&&t(3,h=n.sheetBackground),"isOpen"in n&&t(0,u=n.isOpen),"maxHeight"in n&&t(1,f=n.maxHeight),"defaultHeight"in n&&t(17,g=n.defaultHeight),"onClose"in n&&t(18,m=n.onClose),"$$scope"in n&&t(19,i=n.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1&&(u?V():y())},[u,f,c,h,r,D,A,B,s,p,y,re,le,ae,ue,ce,fe,g,m,i,l,de,he]}class Ue extends Ae{constructor(o){super(),Be(this,o,Ve,je,me,{backdropBackground:2,sheetBackground:3,isOpen:0,maxHeight:1,defaultHeight:17,onClose:18},null,[-1,-1])}}export{Ue as A,b as a,ze as c};
