import{s as Q,z as U,e as L,a as N,c as Y,b as C,f as b,g as V,m as y,P as q,i as W,h as E,G as _,A as j,B as J,C as K,r as O,o as X,Q as Z,p as P}from"./scheduler.BlOG4CGK.js";import{S as x,i as $,t as ee,b as te}from"./index.CQMJCD6q.js";function oe(){const t=document.documentElement,o=window.getComputedStyle(t).fontSize;return parseFloat(o)}function w(t){const o=oe();return t/o}function se(t){let o,i,g,c,p,u,d,a,v,f;const e=t[11].default,n=U(e,t,t[10],null);return{c(){o=L("div"),i=L("div"),g=N(),c=L("div"),p=N(),u=L("div"),n&&n.c(),this.h()},l(l){o=Y(l,"DIV",{class:!0});var r=C(o);i=Y(r,"DIV",{class:!0}),C(i).forEach(b),g=V(r),c=Y(r,"DIV",{class:!0}),C(c).forEach(b),p=V(r),u=Y(r,"DIV",{class:!0});var m=C(u);n&&n.l(m),m.forEach(b),r.forEach(b),this.h()},h(){y(i,"class","py-1.5"),y(c,"class","bottom-sheet-handle svelte-1gbv0i8"),y(u,"class","bottom-sheet-content h-screen p-4 pb-36 hide-scroll-bar svelte-1gbv0i8"),y(o,"class",d=q(`bottom-sheet ${t[1]} ${t[0]}`)+" svelte-1gbv0i8")},m(l,r){W(l,o,r),E(o,i),E(o,g),E(o,c),E(o,p),E(o,u),n&&n.m(u,null),t[12](u),t[13](o),a=!0,v||(f=[_(c,"mousedown",t[4]),_(c,"mousemove",t[5]),_(c,"mouseup",t[6]),_(o,"touchstart",t[7]),_(o,"touchmove",t[8]),_(o,"touchend",t[9],{passive:!0})],v=!0)},p(l,[r]){n&&n.p&&(!a||r&1024)&&j(n,e,l,l[10],a?K(e,l[10],r,null):J(l[10]),null),(!a||r&3&&d!==(d=q(`bottom-sheet ${l[1]} ${l[0]}`)+" svelte-1gbv0i8"))&&y(o,"class",d)},i(l){a||(ee(n,l),a=!0)},o(l){te(n,l),a=!1},d(l){l&&b(o),n&&n.d(l),t[12](null),t[13](null),v=!1,O(f)}}}const S=0;function ne(){const t=window.innerHeight*2/3;document.querySelector(".bottom-sheet").style.top=t+"px"}function le(t,o,i){let{$$slots:g={},$$scope:c}=o,{className:p=""}=o,{fixed:u=!1}=o,d=0,a=0,v=0,f=!1,e,n,l,r,m;X(()=>{M(),ne(),window.addEventListener("resize",M),e.addEventListener("wheel",R)}),Z(()=>{window.removeEventListener("resize",M),e.removeEventListener("wheel",R),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",D)});function M(){m=w(document.querySelector(".tab-bar").offsetTop)-2+5,e.getBoundingClientRect().top>m&&i(2,e.style.top=`${m}rem`,e)}const k=s=>{d=s.clientY,v=e.getBoundingClientRect().top,f=!0,window.addEventListener("mousemove",z),window.addEventListener("mouseup",T)},z=s=>{if(f){a=s.clientY-d;const h=v+a;if(w(h)<S){i(2,e.style.top=`${S}rem`,e);return}if(w(h)>m){i(2,e.style.top=`${m}rem`,e);return}i(2,e.style.top=`${h}px`,e)}},T=()=>{f=!1,window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",T)},A=s=>{d=s.touches[0].clientY,l=e.getBoundingClientRect().top,r=n.scrollTop,f=!0},F=s=>{if(f){const h=s.touches[0].clientY-d;I(h)}},D=()=>{f=!1},R=s=>{const h=s.deltaY;l=e.getBoundingClientRect().top,r=n.scrollTop,I(h,-1)},I=(s,h=1)=>{const B=l+s*h;if(w(l)<=S&&B<=0){i(3,n.style.overflowY="scroll",n);return}if(r<=0){if(i(3,n.style.overflowY="hidden",n),w(B)<S){i(2,e.style.top=`${S}rem`,e);return}if(w(B)>m){i(2,e.style.top=`${m}rem`,e);return}i(2,e.style.top=`${B}px`,e);return}};function G(s){P[s?"unshift":"push"](()=>{n=s,i(3,n)})}function H(s){P[s?"unshift":"push"](()=>{e=s,i(2,e)})}return t.$$set=s=>{"className"in s&&i(1,p=s.className),"fixed"in s&&i(0,u=s.fixed),"$$scope"in s&&i(10,c=s.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&i(0,u=u===!0||u==="true"?"fixed top-[34.7rem] left-0 z-30":"")},[u,p,e,n,k,z,T,A,F,D,c,g,G,H]}class ue extends x{constructor(o){super(),$(this,o,le,se,Q,{className:1,fixed:0})}}export{ue as B};
