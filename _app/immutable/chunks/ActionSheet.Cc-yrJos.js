import{Z as me,_ as ne,s as Ee,m as Me,e as O,a as oe,c as T,b as I,g as se,f as S,x as D,L as y,B as ie,M as re,i as K,h as j,y as A,S as N,C as De,u as Se,o as Ye,p as Ce,D as Pe,k as Be,q as le,r as Ae,n as Oe,U as Te,v as ae}from"./scheduler.B6RFReyk.js";import{n as Ie,l as Le,S as Ve,i as je,t as q,g as ze,a as G,f as Ne,h as fe}from"./index.DLC1-nrr.js";import{w as qe}from"./entry.CNKC8QBQ.js";import{c as Fe}from"./clickOutside.DnwsFdy-.js";function v(e){const t=e-1;return t*t*t+1}function xe(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}function ue(e,{delay:t=0,duration:n=400,easing:r=me}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function $e(e,{delay:t=0,duration:n=400,easing:r=v,start:i=0,opacity:a=0}={}){const s=getComputedStyle(e),g=+s.opacity,_=s.transform==="none"?"":s.transform,h=1-i,p=g*(1-a);return{delay:t,duration:n,easing:r,css:(d,l)=>`
			transform: ${_} scale(${1-h*l});
			opacity: ${g-p*l}
		`}}function ce(e){return Object.prototype.toString.call(e)==="[object Date]"}function J(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,a)=>J(e[a],i));return i=>r.map(a=>a(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(ce(e)&&ce(t)){e=e.getTime(),t=t.getTime();const a=t-e;return s=>new Date(e+s*a)}const r=Object.keys(t),i={};return r.forEach(a=>{i[a]=J(e[a],t[a])}),a=>{const s={};return r.forEach(g=>{s[g]=i[g](a)}),s}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Ue(e,t={}){const n=qe(e);let r,i=e;function a(s,g){if(e==null)return n.set(e=s),Promise.resolve();i=s;let _=r,h=!1,{delay:p=0,duration:d=400,easing:l=me,interpolate:m=J}=ne(ne({},t),g);if(d===0)return _&&(_.abort(),_=null),n.set(e=i),Promise.resolve();const k=Ie()+p;let u;return r=Le(c=>{if(c<k)return!0;h||(u=m(e,s),typeof d=="function"&&(d=d(e,s)),h=!0),_&&(_.abort(),_=null);const f=c-k;return f>d?(n.set(e=s),!1):(n.set(e=u(l(f/d))),!0)}),r.promise}return{set:a,update:(s,g)=>a(s(i,e),g),subscribe:n.subscribe}}function de(e){let t,n,r,i,a;return{c(){t=O("div"),this.h()},l(s){t=T(s,"DIV",{class:!0}),I(t).forEach(S),this.h()},h(){D(t,"class","fixed inset-0 bg-black/20")},m(s,g){K(s,t,g),r=!0,i||(a=A(t,"click",e[14]),i=!0)},p:Oe,i(s){r||(s&&Te(()=>{r&&(n||(n=fe(t,ue,{duration:200},!0)),n.run(1))}),r=!0)},o(s){s&&(n||(n=fe(t,ue,{duration:200},!1)),n.run(0)),r=!1},d(s){s&&S(t),s&&n&&n.end(),i=!1,a()}}}function he(e){let t;return{c(){t=O("div"),this.h()},l(n){t=T(n,"DIV",{class:!0}),I(t).forEach(S),this.h()},h(){D(t,"class","handle svelte-kfo0xa")},m(n,r){K(n,t,r)},d(n){n&&S(t)}}}function We(e){let t,n,r,i,a,s,g,_,h,p,d,l=e[0]&&de(e),m=!e[3]&&he();const k=e[23].default,u=Me(k,e,e[22],null);return{c(){t=O("div"),l&&l.c(),n=oe(),r=O("div"),i=O("div"),m&&m.c(),a=oe(),s=O("div"),u&&u.c(),this.h()},l(c){t=T(c,"DIV",{class:!0});var f=I(t);l&&l.l(f),n=se(f),r=T(f,"DIV",{class:!0,style:!0});var L=I(r);i=T(L,"DIV",{class:!0,style:!0});var E=I(i);m&&m.l(E),a=se(E),s=T(E,"DIV",{class:!0});var M=I(s);u&&u.l(M),M.forEach(S),E.forEach(S),L.forEach(S),f.forEach(S),this.h()},h(){D(s,"class","content svelte-kfo0xa"),y(s,"isMaxHeight",e[6]===e[1]),y(s,"noHandle",e[3]),D(i,"class",g=ie(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-kfo0xa"),re(i,"transform","translateY("+e[12]+"px)"),D(r,"class","fixed bottom-0 left-0 right-0 rounded-t-2xl overflow-hidden transition-transform duration-300 ease-out"),D(r,"style",_="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")),y(r,"pointer-events-none",!e[0]),D(t,"class","fixed inset-0 z-50"),y(t,"pointer-events-none",!e[0]),y(t,"invisible",!e[0]),y(t,"pb-20",e[5])},m(c,f){K(c,t,f),l&&l.m(t,null),j(t,n),j(t,r),j(r,i),m&&m.m(i,null),j(i,a),j(i,s),u&&u.m(s,null),e[24](s),e[26](t),h=!0,p||(d=[A(i,"touchstart",function(){N(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),A(i,"touchmove",function(){N(!e[4]&&e[16])&&(!e[4]&&e[16]).apply(this,arguments)},!0),A(i,"touchend",function(){N(!e[4]&&e[17])&&(!e[4]&&e[17]).apply(this,arguments)},!0),A(i,"mousedown",function(){N(!e[4]&&e[18])&&(!e[4]&&e[18]).apply(this,arguments)},!0),De(Fe.call(null,i)),A(i,"outsideclick",e[25])],p=!0)},p(c,f){e=c,e[0]?l?(l.p(e,f),f[0]&1&&q(l,1)):(l=de(e),l.c(),q(l,1),l.m(t,n)):l&&(ze(),G(l,1,1,()=>{l=null}),Ne()),e[3]?m&&(m.d(1),m=null):m||(m=he(),m.c(),m.m(i,a)),u&&u.p&&(!h||f[0]&4194304)&&Se(u,k,e,e[22],h?Ce(k,e[22],f,null):Ye(e[22]),null),(!h||f[0]&66)&&y(s,"isMaxHeight",e[6]===e[1]),(!h||f[0]&8)&&y(s,"noHandle",e[3]),(!h||f[0]&20&&g!==(g=ie(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-kfo0xa"))&&D(i,"class",g),(!h||f[0]&4096)&&re(i,"transform","translateY("+e[12]+"px)"),(!h||f[0]&131&&_!==(_="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")))&&D(r,"style",_),(!h||f[0]&1)&&y(r,"pointer-events-none",!e[0]),(!h||f[0]&1)&&y(t,"pointer-events-none",!e[0]),(!h||f[0]&1)&&y(t,"invisible",!e[0]),(!h||f[0]&32)&&y(t,"pb-20",e[5])},i(c){h||(q(l),q(u,c),h=!0)},o(c){G(l),G(u,c),h=!1},d(c){c&&S(t),l&&l.d(),m&&m.d(),u&&u.d(c),e[24](null),e[26](null),p=!1,Pe(d)}}}const Ze=10;function Ge(e,t,n){let r,{$$slots:i={},$$scope:a}=t,{backdropBackground:s="bg-[#24242424]"}=t,{sheetBackground:g="bg-[#242424]"}=t,{noHandle:_=!1}=t,{fixed:h=!1}=t,{isOpen:p=!1}=t,{maxHeight:d=null}=t,{defaultHeight:l=null}=t,{onClose:m=()=>{n(0,p=!1)}}=t,{bottomNavigation:k=!1}=t,u=0,c=0,f=!1,L=0,E=0,M=0,V=!1,Q=0,z=!1;const w=Ue(0,{duration:300,easing:v});Be(e,w,o=>n(12,r=o));let Y,R=!1;function F(){u=window.innerHeight;const o=k?80:0;if(d===null&&n(1,d=u+o),l===null)if(Y){const b=_?0:38,H=Y.scrollHeight;n(19,l=Math.min(H+b,d))}else n(19,l=(u+o)/2);else n(19,l=Math.min(l+o,d));p&&U()}function U(){n(6,c=l),w.set(u),w.set(u-c,{duration:300,easing:v}),n(9,z=!0),setTimeout(()=>{n(9,z=!1)},50)}function C(){w.set(u,{duration:300,easing:v}).then(()=>{m()})}function X(o,b){h||(f=!0,n(8,V=!1),L=o,Q=r,R=b.closest(".content")!==null)}function x(o,b){if(!f)return;if(n(7,E=o),M=E-L,R&&Y&&c===d){const{scrollTop:P,scrollHeight:B,clientHeight:Z}=Y;if(B>Z&&!(P===0&&M>0))return}Math.abs(M)>Ze&&(n(8,V=!0),b.preventDefault(),b.stopPropagation()),ge()}function $(){f&&(f=!1,_e())}function ge(){let o=Q+M;const b=u-d;if(o<b){const H=b-o;o=b-H/3}o=Math.min(o,u),w.set(o)}function _e(){const o=M;M=0;const b=r,H=u-d,P=u-l,B=10;if(l===d)o>B?C():w.set(P,{duration:200,easing:v});else if(b<H+B)n(6,c=d),w.set(H,{duration:200,easing:v});else if(o>B)c===d?(n(6,c=l),w.set(P,{duration:200,easing:v})):C();else if(o<-B)n(6,c=d),w.set(H,{duration:200,easing:v});else{const Z=(P+H)/2;b<Z?(n(6,c=d),w.set(H,{duration:200,easing:v})):(n(6,c=l),w.set(P,{duration:200,easing:v}))}setTimeout(()=>{n(8,V=!1)},200)}function pe(o){X(o.touches[0].clientY,o.target)}function be(o){x(o.touches[0].clientY,o)}function we(){$()}function ye(o){o.button===0&&(X(o.clientY,o.target),window.addEventListener("mousemove",ee),window.addEventListener("mouseup",te))}function ee(o){x(o.clientY,o)}function te(){window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",te),$()}le(()=>{setTimeout(()=>{F(),C(),window.addEventListener("resize",F),p&&U()},0)}),Ae(()=>{window.removeEventListener("resize",F)});let W;le(()=>((()=>{document.body.style.overflow=p?"hidden":""})(),()=>{document.body.style.overflow=""}));function ke(o){ae[o?"unshift":"push"](()=>{Y=o,n(10,Y)})}const He=o=>{o.preventDefault(),o.stopPropagation(),!V&&!z&&C()};function ve(o){ae[o?"unshift":"push"](()=>{W=o,n(11,W)})}return e.$$set=o=>{"backdropBackground"in o&&n(20,s=o.backdropBackground),"sheetBackground"in o&&n(2,g=o.sheetBackground),"noHandle"in o&&n(3,_=o.noHandle),"fixed"in o&&n(4,h=o.fixed),"isOpen"in o&&n(0,p=o.isOpen),"maxHeight"in o&&n(1,d=o.maxHeight),"defaultHeight"in o&&n(19,l=o.defaultHeight),"onClose"in o&&n(21,m=o.onClose),"bottomNavigation"in o&&n(5,k=o.bottomNavigation),"$$scope"in o&&n(22,a=o.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1&&(p?U():C()),e.$$.dirty[0]&1&&n(7,E=p?0:window.innerHeight),e.$$.dirty[0]&1&&typeof document<"u"&&(document.body.style.overflow=p?"hidden":"")},[p,d,g,_,h,k,c,E,V,z,Y,W,r,w,C,pe,be,we,ye,l,s,m,a,i,ke,He,ve]}class et extends Ve{constructor(t){super(),je(this,t,Ge,We,Ee,{backdropBackground:20,sheetBackground:2,noHandle:3,fixed:4,isOpen:0,maxHeight:1,defaultHeight:19,onClose:21,bottomNavigation:5},null,[-1,-1])}}export{et as A,v as c,xe as e,ue as f,$e as s};
