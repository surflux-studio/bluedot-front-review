import{s as j,D as A,e as E,a as R,c as B,b as Y,f as T,g as V,m as w,K as z,i as J,h as S,x as D,E as O,F as Q,G as U,u as X,k,o as Z,L as x,r as L,p as q}from"./scheduler.DaHq14oJ.js";import{S as $,i as ee,t as te,b as se}from"./index.6s2bhEa_.js";import{b as p,s as oe}from"./store.B2hbFUpD.js";import{p as b}from"./units.C2VGgAhX.js";function ne(n){let s,l,c,h,v,u,d,a,m,_;const i=n[8].default,t=A(i,n,n[7],null);return{c(){s=E("div"),l=E("div"),c=R(),h=E("div"),v=R(),u=E("div"),t&&t.c(),this.h()},l(o){s=B(o,"DIV",{class:!0});var r=Y(s);l=B(r,"DIV",{class:!0}),Y(l).forEach(T),c=V(r),h=B(r,"DIV",{class:!0}),Y(h).forEach(T),v=V(r),u=B(r,"DIV",{class:!0});var f=Y(u);t&&t.l(f),f.forEach(T),r.forEach(T),this.h()},h(){w(l,"class","py-1.5"),w(h,"class","bottom-sheet-handle svelte-1gbv0i8"),w(u,"class","bottom-sheet-content h-screen p-4 pb-36 overflow-scroll hide-scroll-bar svelte-1gbv0i8"),w(s,"class",d=z(`bottom-sheet ${n[1]} ${n[0]}`)+" svelte-1gbv0i8")},m(o,r){J(o,s,r),S(s,l),S(s,c),S(s,h),S(s,v),S(s,u),t&&t.m(u,null),n[9](u),n[10](s),a=!0,m||(_=[D(s,"touchstart",n[4]),D(s,"touchmove",n[5]),D(s,"touchend",n[6],{passive:!0})],m=!0)},p(o,[r]){t&&t.p&&(!a||r&128)&&O(t,i,o,o[7],a?U(i,o[7],r,null):Q(o[7]),null),(!a||r&3&&d!==(d=z(`bottom-sheet ${o[1]} ${o[0]}`)+" svelte-1gbv0i8"))&&w(s,"class",d)},i(o){a||(te(t,o),a=!0)},o(o){se(t,o),a=!1},d(o){o&&T(s),t&&t.d(o),n[9](null),n[10](null),m=!1,X(_)}}}const M=0;function le(n,s,l){let c,h;k(n,p,e=>l(16,c=e)),k(n,oe,e=>l(17,h=e));let{$$slots:v={},$$scope:u}=s,{className:d=""}=s,{fixed:a=!1}=s,m=0,_=!1,i,t,o,r,f;p.subscribe(e=>{i&&l(2,i.style.top=e+"rem",i)}),Z(()=>{C(),F(),window.addEventListener("resize",C),i.addEventListener("wheel",I)}),x(()=>{window.removeEventListener("resize",C),i.removeEventListener("wheel",I)});function F(){p.set(34.69)}function C(){h===!0?f=b(document.querySelector(".tab-bar").offsetTop)-2+5:f=b(window.innerHeight)-2,i.getBoundingClientRect().top>f&&l(2,i.style.top=`${f}rem`,i)}const G=e=>{m=e.touches[0].clientY,o=i.getBoundingClientRect().top,r=t.scrollTop,_=!0},H=e=>{if(_){const g=e.touches[0].clientY-m;N(g)}},K=()=>{_=!1},I=e=>{const g=e.deltaY;o=i.getBoundingClientRect().top,r=t.scrollTop,N(g,-1)},N=(e,g=1)=>{const y=o+e*g;if(b(o)<=M&&y<=0){l(3,t.style.overflowY="scroll",t);return}if(r<=0){if(l(3,t.style.overflowY="hidden",t),b(y)<M){L(p,c=M,c);return}if(b(y)>f){L(p,c=f,c);return}L(p,c=b(y),c);return}};function P(e){q[e?"unshift":"push"](()=>{t=e,l(3,t)})}function W(e){q[e?"unshift":"push"](()=>{i=e,l(2,i)})}return n.$$set=e=>{"className"in e&&l(1,d=e.className),"fixed"in e&&l(0,a=e.fixed),"$$scope"in e&&l(7,u=e.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&l(0,a=a===!0||a==="true"?"fixed top-[34.7rem] left-0 z-30":"")},[a,d,i,t,G,H,K,u,v,P,W]}class ue extends ${constructor(s){super(),ee(this,s,le,ne,j,{className:1,fixed:0})}}export{ue as B};
