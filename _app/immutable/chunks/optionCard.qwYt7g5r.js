import{s as E,w as A,x as L,b as C,f as p,o as u,i as _,h as g,n as m,e as v,a as P,c as x,g as S,p as H,k as J,F as le,a7 as fe,a8 as Ce,a9 as K,z as me,m as ue,H as ge,O as ve,P as xe,M as V,t as be,d as _e,N as we,T as X,y as ye,C as Ie}from"./scheduler.B1B1O6BW.js";import{S as k,i as B,c as De,b as Ee,m as ke,t as Be,a as Te,d as Ae}from"./index.Ba0icOcB.js";import{e as Z}from"./each.CMoKiBNE.js";import{s as Le,b as Y,p as Q,W as Ve,r as Oe,A as N,k as R,a as ce,c as de,q as Me}from"./store.Lj_JrlvG.js";import{e as h}from"./emitter.E5P-NQ8u.js";import{D as Pe}from"./Dim.3jEXDb4Y.js";import{g as q,c as D,I as Se,b as Re,e as $e,f as je,d as Fe,a as Ze}from"./IconChevronRightV2.mS3jKUSo.js";import{T as He}from"./TermsOfService.DLy3wVRG.js";import{g as $,s as ee,a as Ne}from"./sign.CiR4bOVw.js";import{T as ze}from"./TermsOfPrivacyPolicy.DZ_1d2UF.js";import{T as We}from"./TermsOfLocationService.AQZgoJ2J.js";import{o as Ue,a as qe}from"./keyboard.hurUnmy5.js";/* empty css                                                  */import{g as O}from"./CardDeck.DKe7VXeC.js";function Ge(n){let e,t;return{c(){e=A("svg"),t=A("path"),this.h()},l(a){e=L(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=C(e);t=L(i,"path",{d:!0,fill:!0}),C(t).forEach(p),i.forEach(p),this.h()},h(){u(t,"d","M5 10C5.82843 10 6.5 10.6716 6.5 11.5C6.5 12.3284 5.82843 13 5 13C4.17157 13 3.5 12.3284 3.5 11.5C3.5 10.6716 4.17157 10 5 10ZM11 10C11.8284 10 12.5 10.6716 12.5 11.5C12.5 12.3284 11.8284 13 11 13C10.1716 13 9.5 12.3284 9.5 11.5C9.5 10.6716 10.1716 10 11 10ZM17 10C17.8284 10 18.5 10.6716 18.5 11.5C18.5 12.3284 17.8284 13 17 13C16.1716 13 15.5 12.3284 15.5 11.5C15.5 10.6716 16.1716 10 17 10Z"),u(t,"fill","#222222"),u(e,"width","22"),u(e,"height","22"),u(e,"viewBox","0 0 22 22"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(a,i){_(a,e,i),g(e,t)},p:m,i:m,o:m,d(a){a&&p(e)}}}class At extends k{constructor(e){super(),B(this,e,null,Ge,E,{})}}function te(n,e,t){const a=n.slice();return a[4]=e[t],a[6]=t,a}function ae(n){let e,t,a=Z(n[0]),i=[];for(let s=0;s<a.length;s+=1)i[s]=re(te(n,a,s));return{c(){e=v("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=x(s,"DIV",{class:!0});var l=C(e);for(let r=0;r<i.length;r+=1)i[r].l(l);l.forEach(p),this.h()},h(){u(e,"class",t="grid grid-cols-2 gap-[9px] "+(n[0].length%2===0?"pb-[78px]":""))},m(s,l){_(s,e,l);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(s,l){if(l&1){a=Z(s[0]);let r;for(r=0;r<a.length;r+=1){const o=te(s,a,r);i[r]?i[r].p(o,l):(i[r]=re(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}l&1&&t!==(t="grid grid-cols-2 gap-[9px] "+(s[0].length%2===0?"pb-[78px]":""))&&u(e,"class",t)},d(s){s&&p(e),le(i,s)}}}function re(n){let e,t,a,i,s,l,r,o,d=n[4].emojis+"",c,b,I;function T(){return n[2](n[4])}return{c(){e=v("div"),t=v("div"),a=v("div"),i=v("img"),l=P(),r=v("div"),o=new fe(!1),c=P(),this.h()},l(w){e=x(w,"DIV",{class:!0,style:!0});var f=C(e);t=x(f,"DIV",{class:!0});var y=C(t);a=x(y,"DIV",{class:!0,style:!0});var j=C(a);i=x(j,"IMG",{src:!0,alt:!0,class:!0,draggable:!0}),j.forEach(p),l=S(y),r=x(y,"DIV",{class:!0});var z=C(r);o=Ce(z,!1),z.forEach(p),y.forEach(p),c=S(f),f.forEach(p),this.h()},h(){K(i.src,s=n[4].image)||u(i,"src",s),u(i,"alt","random image"),u(i,"class","w-full h-full object-cover rounded-[2vh]"),u(i,"draggable","false"),u(a,"class","w-full h-full pb-8"),u(a,"style",`aspect-ratio: ${Q}`),o.a=null,u(r,"class","emoji absolute bottom-[11px] left-0 right-0 flex justify-center items-center text-[15px] transform origin-center "),u(t,"class","card-face card-front absolute inset-0 p-2 [backface-visibility:hidden] [transform:rotateY(0deg)] "),u(e,"class","card relative w-[161px] bg-white rounded-[2vh] shadow-xl p-[1.5vh] "+(n[6]%2===0?"left-card":"right-card")+" svelte-rfrwxz"),u(e,"style",`aspect-ratio: ${Q}`)},m(w,f){_(w,e,f),g(e,t),g(t,a),g(a,i),g(t,l),g(t,r),o.m(d,r),g(e,c),b||(I=H(e,"click",me(T)),b=!0)},p(w,f){n=w,f&1&&!K(i.src,s=n[4].image)&&u(i,"src",s),f&1&&d!==(d=n[4].emojis+"")&&o.p(d)},d(w){w&&p(e),b=!1,I()}}}function Je(n){let e,t,a,i,s,l,r=n[0]&&ae(n);return a=new Pe({props:{zIndex:"z-40",className:`
  transition-opacity duration-300
  ${n[1]?"opacity-100 visible pointer-events-auto":"opacity-0 pointer-events-none"}
`}}),{c(){e=v("div"),r&&r.c(),t=P(),De(a.$$.fragment),this.h()},l(o){e=x(o,"DIV",{class:!0});var d=C(e);r&&r.l(d),d.forEach(p),t=S(o),Ee(a.$$.fragment,o),this.h()},h(){u(e,"class","w-full h-full px-4 py-14 flex justify-center overflow-hidden relative z-10")},m(o,d){_(o,e,d),r&&r.m(e,null),_(o,t,d),ke(a,o,d),i=!0,s||(l=H(e,"click",n[3]),s=!0)},p(o,[d]){o[0]?r?r.p(o,d):(r=ae(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null);const c={};d&2&&(c.className=`
  transition-opacity duration-300
  ${o[1]?"opacity-100 visible pointer-events-auto":"opacity-0 pointer-events-none"}
`),a.$set(c)},i(o){i||(Be(a.$$.fragment,o),i=!0)},o(o){Te(a.$$.fragment,o),i=!1},d(o){o&&(p(e),p(t)),r&&r.d(),Ae(a,o),s=!1,l()}}}function Ke(n,e,t){let a,i;return J(n,Le,r=>t(0,a=r)),J(n,Y,r=>t(1,i=r)),[a,i,r=>{Y.set(!0),h.emit("pushCard",{type:"photo",idx:r.idx,ownerIdx:r.ownerIdx,image:r.image,emoji:r.emojis,back:r.text,left:"",right:""})},()=>{h.emit("showAlbum",!1)}]}class Lt extends k{constructor(e){super(),B(this,e,Ke,Je,E,{})}}class Xe extends Ve{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const t=await(await fetch(e.image)).blob(),a=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([a])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),t=e[0].types[0],a=await e[0].getType(t);return{value:await this._getBlobData(a,t),type:t}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((a,i)=>{const s=new FileReader;t.includes("image")?s.readAsDataURL(e):s.readAsText(e),s.onloadend=()=>{const l=s.result;a(l)},s.onerror=l=>{i(l)}})}}const Ye=Oe("Clipboard",{web:()=>new Xe});let G=!1;async function Qe(n){G||(G=!0,await Ye.write({url:`https://bluedot.land${n}`}),h.emit("pushSnackbar",{message:"링크를 복사했습니다."}),setTimeout(()=>{G=!1},1e3))}function et(n){let e,t='<p class="font-bold text-[20px] leading-[130%] tracking-[-0.2%] text-[#242424]">로그아웃하시겠어요?</p> <p class="font-normal text-[13px] leading-[150%] tracking-[-0.2%] text-[#242424]">기록은 잠시 멈추지만, 여정을 둘러보는 건 계속할 수 있어요.</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(a){e=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1lbueos"&&(e.innerHTML=t),this.h()},h(){u(e,"class","w-full flex flex-col gap-2.5")},m(a,i){_(a,e,i)},p:m,i:m,o:m,d(a){a&&p(e)}}}class tt extends k{constructor(e){super(),B(this,e,null,et,E,{})}}function at(n){let e,t='<p class="font-bold text-[20px] leading-[130%] tracking-[-0.2%] text-[#242424]">계정을 정말 떠나시겠어요?</p> <p class="font-normal text-[13px] leading-[150%] tracking-[-0.2%] text-[#242424]">지금까지의 흔적과 기억이 모두 사라져요.<br/> 조금 더 머물러도 괜찮아요.</p>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(a){e=x(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-dn8vi5"&&(e.innerHTML=t),this.h()},h(){u(e,"class","w-full flex flex-col gap-2.5")},m(a,i){_(a,e,i)},p:m,i:m,o:m,d(a){a&&p(e)}}}class rt extends k{constructor(e){super(),B(this,e,null,at,E,{})}}function it(n){const t=["touchstart","touchmove","touchend","mousedown","mousemove","mouseup","wheel"].map(a=>{const i=s=>s.stopPropagation();return n.addEventListener(a,i),{event:a,handler:i}});return{destroy(){t.forEach(({event:a,handler:i})=>{n.removeEventListener(a,i)})}}}function ie(n,e,t){const a=n.slice();return a[12]=e[t].text,a[13]=e[t].value,a}function ne(n){let e,t,a,i,s,l=n[12]+"",r,o,d;return{c(){e=v("label"),t=v("div"),a=v("input"),i=P(),s=v("span"),r=be(l),this.h()},l(c){e=x(c,"LABEL",{class:!0});var b=C(e);t=x(b,"DIV",{class:!0});var I=C(t);a=x(I,"INPUT",{type:!0,name:!0,class:!0}),I.forEach(p),i=S(b),s=x(b,"SPAN",{class:!0});var T=C(s);r=_e(T,l),T.forEach(p),b.forEach(p),this.h()},h(){u(a,"type","radio"),u(a,"name","report"),u(a,"class","p-[3px] svelte-1wjrpwl"),a.value=n[13],u(t,"class","w-6 h-6 flex justify-center items-center"),u(s,"class","flex gap-2 items-center text-[#242424] text-sm leading-4 font-medium"),u(e,"class","px-2.5 py-2 flex gap-1.5")},m(c,b){_(c,e,b),g(e,t),g(t,a),g(e,i),g(e,s),g(s,r),o||(d=H(a,"change",n[6]),o=!0)},p:m,d(c){c&&p(e),o=!1,d()}}}function se(n){let e,t,a,i;return{c(){e=v("div"),t=v("textarea"),this.h()},l(s){e=x(s,"DIV",{class:!0});var l=C(e);t=x(l,"TEXTAREA",{class:!0,style:!0,placeholder:!0}),C(t).forEach(p),l.forEach(p),this.h()},h(){u(t,"class","w-full p-3.5 border-0 rounded-[0.25rem] bg-[#2C2C2E] text-white placeholder:text-[#757D86] text-sm font-normal focus:outline-none focus:ring-0 appearance-none "),we(t,"-webkit-tap-highlight-color","transparent"),u(t,"placeholder","이 게시물을 신고하는 다른 이유가 있다면 자유롭게 적어주세요. (선택)"),u(e,"class","px-5 py-2.5")},m(s,l){_(s,e,l),g(e,t),n[7](t),X(t,n[2]),a||(i=H(t,"input",n[8]),a=!0)},p(s,l){l&4&&X(t,s[2])},d(s){s&&p(e),n[7](null),a=!1,i()}}}function nt(n){let e,t,a,i,s=Z(n[3]),l=[];for(let o=0;o<s.length;o+=1)l[o]=ne(ie(n,s,o));let r=n[0]==="etc"&&se(n);return{c(){e=v("div");for(let o=0;o<l.length;o+=1)l[o].c();t=P(),r&&r.c(),this.h()},l(o){e=x(o,"DIV",{class:!0});var d=C(e);for(let c=0;c<l.length;c+=1)l[c].l(d);t=S(d),r&&r.l(d),d.forEach(p),this.h()},h(){u(e,"class","flex flex-col")},m(o,d){_(o,e,d);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);g(e,t),r&&r.m(e,null),a||(i=ge(it.call(null,e)),a=!0)},p(o,[d]){if(d&9){s=Z(o[3]);let c;for(c=0;c<s.length;c+=1){const b=ie(o,s,c);l[c]?l[c].p(b,d):(l[c]=ne(b),l[c].c(),l[c].m(e,t))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}o[0]==="etc"?r?r.p(o,d):(r=se(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:m,o:m,d(o){o&&p(e),le(l,o),r&&r.d(),a=!1,i()}}}function st(n,e,t){let{selectedValue:a=""}=e,{targetTable:i=""}=e,{targetIdx:s=""}=e,l=null;const r=[{text:"스팸, 사기 또는 악용",value:"spam"},{text:"허위 정보",value:"false"},{text:"부적절한 내용",value:"inappropriate"},{text:"저작권 침해",value:"copyright"},{text:"개인정보 유출 또는 사생활 침해",value:"privacy"},{text:"폭력, 혐오 또는 학대",value:"violence"},{text:"불법 행위 조장",value:"illegal"},{text:"성적 행위",value:"sexual"},{text:"아동 학대 및 착취",value:"child"},{text:"기타",value:"etc"}];let o="",d=!1;function c(){Ie().then(()=>{l==null||l.scrollIntoView({behavior:"smooth",block:"start"})})}ve(()=>{h.on("report",b),Ue(()=>{},c,()=>{})}),xe(()=>{h.off("report"),qe()});async function b(){const f=r.findIndex(y=>y.value===a);if(f===-1){h.emit("pushSnackbar",{message:"신고 사유가 없어 신고가 취소됐습니다."});return}if(!d){d=!0,h.emit("loading",!0);try{const y=r[f],j=new URL(`${N}/auth/reports`);if(t(2,o=""),!(await fetch(j,{method:"PUT",headers:{Authorization:`Bearer ${$()}`},body:JSON.stringify({targetTable:i,targetIdx:s,relation:y.value,metadata:{...y,customReason:o}})})).ok)return;h.emit("pushSnackbar",{message:"신고가 완료되었어요. 소중한 알림, 조심히 살펴볼게요."});const F=V(R);if(!F)return;h.emit("removeDotByIdx",F.idx),ce.update(M=>{M.pop();const W=M.at(-1);return W&&W.idx===F.idx?W.is_reported=!0:M=M.map(U=>(U.idx===F.idx&&(U.is_reported=!0),U)),M})}finally{d=!1,h.emit("loading",!1)}}}const I=f=>{t(0,a=f.target.value)};function T(f){ye[f?"unshift":"push"](()=>{l=f,t(1,l)})}function w(){o=this.value,t(2,o)}return n.$$set=f=>{"selectedValue"in f&&t(0,a=f.selectedValue),"targetTable"in f&&t(4,i=f.targetTable),"targetIdx"in f&&t(5,s=f.targetIdx)},[a,l,o,r,i,s,I,T,w]}class ot extends k{constructor(e){super(),B(this,e,st,nt,E,{selectedValue:0,targetTable:4,targetIdx:5})}}function lt(n){let e,t;return{c(){e=A("svg"),t=A("path"),this.h()},l(a){e=L(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=C(e);t=L(i,"path",{d:!0,fill:!0}),C(t).forEach(p),i.forEach(p),this.h()},h(){u(t,"d","M9.49326 3.37211C10.6728 1.61613 13.3261 1.67474 14.4073 3.54789L21.336 15.5518L21.4337 15.7344C22.3638 17.6337 20.9865 19.9012 18.8243 19.9014H4.96689C2.73462 19.9014 1.33926 17.4851 2.45517 15.5518L9.38388 3.54789L9.49326 3.37211ZM12.8487 4.44828C12.4518 3.76058 11.496 3.71746 11.0294 4.31937L10.9425 4.44828L4.01376 16.4512C3.59047 17.1845 4.12015 18.1016 4.96689 18.1016H18.8243C19.6179 18.1014 20.1331 17.2957 19.8458 16.5909L19.7774 16.4512L12.8487 4.44828ZM11.8956 14C12.4477 14.0003 12.8956 14.4479 12.8956 15C12.8956 15.5522 12.4477 15.9998 11.8956 16C11.3433 16 10.8956 15.5523 10.8956 15C10.8956 14.4478 11.3433 14 11.8956 14ZM11.8956 8.00004C12.4477 8.0003 12.8956 8.44792 12.8956 9.00004V12C12.8956 12.5522 12.4477 12.9998 11.8956 13C11.3433 13 10.8956 12.5523 10.8956 12V9.00004C10.8956 8.44775 11.3433 8.00004 11.8956 8.00004Z"),u(t,"fill","#FF4F1E"),u(e,"width","22"),u(e,"height","22"),u(e,"viewBox","0 0 23 22"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(a,i){_(a,e,i),g(e,t)},p:m,i:m,o:m,d(a){a&&p(e)}}}class ut extends k{constructor(e){super(),B(this,e,null,lt,E,{})}}function ct(n){let e,t;return{c(){e=A("svg"),t=A("path"),this.h()},l(a){e=L(a,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0});var i=C(e);t=L(i,"path",{d:!0,fill:!0}),C(t).forEach(p),i.forEach(p),this.h()},h(){u(t,"d","M12.0825 4C15.5857 4.00013 17.8661 5.642 19.2465 7.27344C19.9309 8.08223 20.3957 8.88835 20.6899 9.49219C20.8373 9.79474 20.9429 10.0497 21.0131 10.2324C21.0483 10.3238 21.075 10.3982 21.0932 10.4512C21.1022 10.4774 21.1096 10.499 21.1147 10.5146C21.1166 10.5205 21.1173 10.5259 21.1186 10.5303C21.1465 10.6154 21.1622 10.7045 21.1635 10.7959C21.1643 10.8457 21.1611 10.8949 21.1538 10.9434C21.1472 10.9867 21.1379 11.0306 21.1246 11.0737C21.1245 11.074 21.1243 11.0743 21.1241 11.0746L21.124 11.0747C21.1237 11.075 21.1235 11.0754 21.1235 11.0759C21.1235 11.0761 21.1235 11.0763 21.1234 11.0764L21.1206 11.085C21.119 11.0899 21.1171 11.097 21.1147 11.1045C21.1096 11.1202 21.1022 11.1419 21.0932 11.168C21.075 11.2209 21.0482 11.2955 21.0131 11.3867C20.9428 11.5694 20.8372 11.8246 20.6899 12.127C20.3957 12.7308 19.9307 13.5371 19.2465 14.3457C17.866 15.9771 15.5847 17.6191 12.0815 17.6191C8.57849 17.6189 6.29784 15.9771 4.91744 14.3457C4.23313 13.537 3.76827 12.7308 3.47408 12.127C3.3267 11.8244 3.22114 11.5695 3.15084 11.3867C3.1157 11.2954 3.08896 11.2209 3.07076 11.168C3.06176 11.1418 3.05439 11.1202 3.04927 11.1045C3.04678 11.0968 3.04499 11.09 3.04341 11.085L3.04064 11.0766C3.04054 11.0763 3.04036 11.0761 3.04013 11.0758L3.04004 11.0757C3.0397 11.0754 3.03951 11.0749 3.03951 11.0744C3.03951 11.0743 3.03949 11.0741 3.03945 11.074L3.01705 10.9844C3.01433 10.9708 3.01326 10.957 3.01119 10.9434C3.00027 10.8715 2.99719 10.7979 3.00435 10.7236C3.00605 10.7059 3.00845 10.6884 3.01119 10.6709C3.01777 10.6289 3.02667 10.5867 3.03951 10.5449C3.04063 10.5413 3.04225 10.5378 3.04341 10.5342C3.04498 10.5292 3.04683 10.5222 3.04927 10.5146C3.05436 10.499 3.06179 10.4773 3.07076 10.4512C3.08893 10.3983 3.11573 10.3237 3.15084 10.2324C3.2211 10.0498 3.32676 9.79463 3.47408 9.49219C3.76822 8.88842 4.23324 8.08212 4.91744 7.27344C6.2979 5.64196 8.5791 4.0001 12.0825 4ZM12.0825 5.7998C9.22239 5.7999 7.41099 7.11342 6.29146 8.43652C5.72609 9.10484 5.33777 9.77629 5.09224 10.2803C4.92978 10.6138 4.92975 11.0053 5.09224 11.3389C5.33783 11.8429 5.72595 12.5142 6.29146 13.1826C7.41092 14.5056 9.22175 15.8191 12.0815 15.8193C14.9414 15.8193 16.7529 14.5056 17.8725 13.1826C18.4379 12.5144 18.8261 11.8429 19.0717 11.3389C19.2345 11.0048 19.2345 10.6143 19.0717 10.2803C18.8262 9.7762 18.4381 9.10495 17.8725 8.43652C16.753 7.11344 14.9425 5.79994 12.0825 5.7998ZM12.0815 6.72656C14.3356 6.72673 16.1632 8.55457 16.1635 10.8086C16.1635 13.0629 14.3357 14.8905 12.0815 14.8906C9.82723 14.8905 7.99947 13.0629 7.99947 10.8086C7.99978 8.55455 9.82742 6.72671 12.0815 6.72656ZM12.0815 8.52734C10.8216 8.52749 9.80056 9.54864 9.80025 10.8086C9.80025 12.0688 10.8214 13.0907 12.0815 13.0908C13.3416 13.0907 14.3637 12.0688 14.3637 10.8086C14.3634 9.54865 13.3414 8.52751 12.0815 8.52734Z"),u(t,"fill","#222222"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"width","23"),u(e,"height","22"),u(e,"viewBox","0 0 23 22"),u(e,"fill","none")},m(a,i){_(a,e,i),g(e,t)},p:m,i:m,o:m,d(a){a&&p(e)}}}class dt extends k{constructor(e){super(),B(this,e,null,ct,E,{})}}const pe=O(),Vt=[{startIcon:Re,name:"차단된 계정",endCount:0,endIcon:D,onClick:()=>{}},{startIcon:$e,name:"로그아웃",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:O(),type:"slot",left:"취소할게요",right:"로그아웃할게요",rightColor:"positive",onPreDropRight:()=>{ee(),h.emit("pushSnackbar",{message:"블루닷에서 로그아웃되었어요. 머물 수는 있지만, 흔적을 남기려면 다시 로그인해 주세요."})},unflippable:!0,pushAnimation:"pop",slot:tt})}},{startIcon:je,name:"계정 탈퇴하기",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:"-3",type:"slot",left:"머물게요",right:"떠날게요",rightColor:"positive",onPreDropRight:async()=>{(await fetch(`${N}/auth/users/${Ne()}`,{method:"DELETE",headers:{Authorization:`Bearer ${$()}`}})).ok&&(ee(),h.emit("pushSnackbar",{message:"계정이 안전하게 삭제되었어요."}))},unflippable:!0,slot:rt})}}],Ot=[{startIcon:Fe,name:"로그인",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:O(),type:"signIn",unflippable:!0})}}],pt=[{startIcon:q,name:"서비스 이용약관",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:"-4",type:"slot",left:"",right:"",unflippable:!0,slot:He,scroll:!0})}},{startIcon:q,name:"개인정보 처리방침",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:"-5",type:"slot",left:"",right:"",unflippable:!0,slot:ze,scroll:!0})}},{startIcon:q,name:"위치기반 서비스 이용약관",endIcon:D,onClick:()=>{h.emit("pushCard",{idx:"-6",type:"slot",left:"",right:"",unflippable:!0,slot:We,scroll:!0})}}],he={startIcon:Se,name:"링크 복사",onClick:()=>{const n=V(R);n&&Qe(`${location.pathname}${location.search?`${location.search}&cardIdx=${n.idx}`:`?cardIdx=${n.idx}`}`)}},ht=[he,{startIcon:Ze,name:"삭제",onClick:()=>{const n=V(R);n&&fetch(`${N}/posts/dots/${n.idx}`,{method:"DELETE",headers:{Authorization:`Bearer ${$()}`,"x-api-version":de.DOTS}}).then(e=>{e.ok&&(h.emit("pushSnackbar",{message:"카드가 삭제되었어요."}),h.emit("removeDotByIdx",n.idx),ce.update(t=>{var a;return t.pop(),((a=t.at(-1))==null?void 0:a.idx)===n.idx?t.pop():t=t.filter(i=>i.idx!==n.idx),t}))})}},{startIcon:dt,name:"나만 보기",onClick:ft}];function ft(){const n=V(R),e=V(Me);!n||!e||h.emit("setCardByIdx",{idx:pe,card:{optionList:e.optionList.map(t=>t.name==="나만 보기"?(oe(n,"private"),{...t,name:"모두에게 공개"}):t.name==="모두에게 공개"?(oe(n,"public"),{...t,name:"나만 보기"}):t)}})}function oe(n,e){fetch(`${N}/posts/dots/${n.idx}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$()}`,"x-api-version":de.DOTS},body:JSON.stringify({visibility:e})}).then(t=>{t.ok&&console.log("success")})}const Ct=[he,{startIcon:ut,name:"신고",nameColor:"text-[#FF4F1E]",onClick:()=>{if(!$()){h.emit("pushCard",{idx:O(),type:"signIn",unflippable:!0});return}const e=V(R);e&&h.emit("pushCard",{idx:"-9",type:"slot",left:"",right:"",unflippable:!0,slot:ot,scroll:!0,props:{targetTable:"dots",targetIdx:e.idx},onPreDropRight:()=>{h.emit("report")}})}}],Mt={idx:O(),type:"option",left:"",right:"",unflippable:!0,pushAnimation:"pop",optionList:pt},Pt={idx:pe,type:"option",left:"",right:"",unflippable:!0,pushAnimation:"pop",optionList:ht},St={idx:O(),type:"option",left:"",right:"",unflippable:!0,pushAnimation:"pop",optionList:Ct};export{Lt as C,At as I,Vt as a,Mt as b,Ot as c,Pt as m,St as o};
