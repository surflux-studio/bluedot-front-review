import{a0 as Le,V as gt,s as Re,q as Oe,r as Te,b as F,f as E,v as h,i as ve,h as I,n as he,m as Ae,e as z,a as ge,c as j,g as me,M as S,O as ce,C as be,E as mt,A as J,K as te,J as bt,I as _t,u as Be,o as Ce,p as Ie,F as yt,k as wt,y as vt,B as pt,L as kt,Q as Ht,N as Fe,w as Et}from"./scheduler.cMGevFK0.js";import{n as Mt,l as St,S as xe,i as Je,t as P,g as Ve,a as Q,e as Ye,h as Pe,c as Dt,d as Kt,m as Lt,f as Ot}from"./index.DSosqu5f.js";import{c as Tt,f as We,a as At}from"./clickOutside.1DwxSaNp.js";import{w as Bt}from"./entry.DIA2gAip.js";import{r as de}from"./units.BJZU6p1c.js";import{i as pe}from"./device.CFvo2wwc.js";import{K as Ct}from"./ActionSheet.svelte_svelte_type_style_lang.3WPtczT5.js";function ze(e){return Object.prototype.toString.call(e)==="[object Date]"}function ye(e,t){if(e===t||e!==e)return()=>e;const o=typeof e;if(o!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((i,l)=>ye(e[l],i));return i=>s.map(l=>l(i))}if(o==="object"){if(!e||!t)throw new Error("Object cannot be null");if(ze(e)&&ze(t)){e=e.getTime(),t=t.getTime();const l=t-e;return a=>new Date(e+a*l)}const s=Object.keys(t),i={};return s.forEach(l=>{i[l]=ye(e[l],t[l])}),l=>{const a={};return s.forEach(r=>{a[r]=i[r](l)}),a}}if(o==="number"){const s=t-e;return i=>e+i*s}throw new Error(`Cannot interpolate ${o} values`)}function It(e,t={}){const o=Bt(e);let s,i=e;function l(a,r){if(e==null)return o.set(e=a),Promise.resolve();i=a;let p=s,V=!1,{delay:M=0,duration:k=400,easing:L=gt,interpolate:O=ye}=Le(Le({},t),r);if(k===0)return p&&(p.abort(),p=null),o.set(e=i),Promise.resolve();const D=Mt()+M;let T;return s=St(c=>{if(c<D)return!0;V||(T=O(e,a),typeof k=="function"&&(k=k(e,a)),V=!0),p&&(p.abort(),p=null);const H=c-D;return H>k?(o.set(e=a),!1):(o.set(e=T(L(H/k))),!0)}),s.promise}return{set:l,update:(a,r)=>l(a(i,e),r),subscribe:o.subscribe}}function Ft(e){let t,o;return{c(){t=Oe("svg"),o=Oe("path"),this.h()},l(s){t=Te(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=F(t);o=Te(i,"path",{id:!0,d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),F(o).forEach(E),i.forEach(E),this.h()},h(){h(o,"id","Vector 27674"),h(o,"d","M2 2H33"),h(o,"stroke","#DADDE0"),h(o,"stroke-width","3"),h(o,"stroke-linecap","round"),h(t,"width","35"),h(t,"height","4"),h(t,"viewBox","0 0 35 4"),h(t,"fill","none"),h(t,"xmlns","http://www.w3.org/2000/svg")},m(s,i){ve(s,t,i),I(t,o)},p:he,i:he,o:he,d(s){s&&E(t)}}}class Vt extends xe{constructor(t){super(),Je(this,t,null,Ft,Re,{})}}const q={listeners:{},addListener:(e,t)=>{if(q.listeners[e]||(q.listeners[e]=[]),q.listeners[e].push(t),!window.mockKeyboard){const o=document.createElement("div");o.setAttribute("data-mock-keyboard",""),o.style.cssText=`
        position: fixed;
        bottom: -300px;
        left: 0;
        right: 0;
        height: 300px;
        background-color: #cccccc;
        transition: bottom 0.3s;
        z-index: 9999;
      `,document.body.appendChild(o),window.mockKeyboard={triggerKeyboardEvent:s=>{const i=document.querySelector("[data-mock-keyboard]"),l=q.listeners[s]||[];s==="keyboardWillShow"&&i?(i.style.bottom="0px",l.forEach(a=>a({keyboardHeight:300}))):s==="keyboardWillHide"&&i&&(i.style.bottom="-300px",l.forEach(a=>a({keyboardHeight:0})))}}}return{remove:()=>{var s;const o=(s=q.listeners[e])==null?void 0:s.indexOf(t);o!==void 0&&o!==-1&&q.listeners[e].splice(o,1)}}},removeAllListeners:()=>{q.listeners={};const e=document.querySelector("[data-mock-keyboard]"),t=document.querySelector("[data-mock-keyboard-controls]");e==null||e.remove(),t==null||t.remove(),delete window.mockKeyboard}},we=pe?Ct:q;let _e=!1;function Qe(e){window.mockKeyboard&&e.metaKey&&e.code==="KeyK"&&(_e?(window.mockKeyboard.triggerKeyboardEvent("keyboardWillHide"),_e=!1):(window.mockKeyboard.triggerKeyboardEvent("keyboardWillShow"),_e=!0))}function Yt(e,t,o){pe||window.addEventListener("keydown",Qe),e(),we.addListener("keyboardWillShow",s=>{t(s)}),we.addListener("keyboardWillHide",()=>{o()})}function Pt(){pe||window.removeEventListener("keydown",Qe),we.removeAllListeners()}const Wt=e=>({}),je=e=>({});function qe(e){let t,o,s;return{c(){t=z("div"),this.h()},l(i){t=j(i,"DIV",{class:!0}),F(t).forEach(E),this.h()},h(){h(t,"class","fixed inset-0 bg-black/20 pointer-events-auto")},m(i,l){ve(i,t,l),s=!0},p(i,l){e=i},i(i){s||(i&&kt(()=>{s&&(o||(o=Pe(t,We,{duration:200,easing:e[9]},!0)),o.run(1))}),s=!0)},o(i){i&&(o||(o=Pe(t,We,{duration:200,easing:e[9]},!1)),o.run(0)),s=!1},d(i){i&&E(t),i&&o&&o.end()}}}function Ne(e){let t,o;return t=new Vt({}),{c(){Dt(t.$$.fragment)},l(s){Kt(t.$$.fragment,s)},m(s,i){Lt(t,s,i),o=!0},i(s){o||(P(t.$$.fragment,s),o=!0)},o(s){Q(t.$$.fragment,s),o=!1},d(s){Ot(t,s)}}}function zt(e){let t,o,s,i,l,a,r,p,V,M,k,L,O,D,T,c,H,y,g=e[0]&&qe(e),d=!e[3]&&Ne();const N=e[26].default,_=Ae(N,e,e[25],null),A=e[26].footer,w=Ae(A,e,e[25],je);return{c(){t=z("div"),g&&g.c(),o=ge(),s=z("div"),i=z("div"),l=z("div"),d&&d.c(),a=ge(),r=z("div"),p=z("div"),_&&_.c(),V=ge(),M=z("div"),w&&w.c(),this.h()},l(v){t=j(v,"DIV",{class:!0});var u=F(t);g&&g.l(u),o=me(u),s=j(u,"DIV",{id:!0,class:!0,style:!0});var B=F(s);i=j(B,"DIV",{class:!0,style:!0});var R=F(i);l=j(R,"DIV",{class:!0});var C=F(l);d&&d.l(C),C.forEach(E),a=me(R),r=j(R,"DIV",{class:!0});var x=F(r);p=j(x,"DIV",{class:!0});var K=F(p);_&&_.l(K),K.forEach(E),V=me(x),M=j(x,"DIV",{class:!0});var G=F(M);w&&w.l(G),G.forEach(E),x.forEach(E),R.forEach(E),B.forEach(E),u.forEach(E),this.h()},h(){h(l,"class","flex justify-center items-center h-[1.625rem]"),h(p,"class","flex-grow overflow-y-auto"),h(M,"class",k="flex-shrink-0 w-full "+e[2]+" svelte-1vussu5"),h(r,"class","content flex flex-col overflow-hidden transition-transform duration-200 ios-scroll-fix svelte-1vussu5"),S(r,"h-full",e[6]),S(r,"touch-pan-y",!e[4]),h(i,"class",L=ce(`
        sheet relative 
        min-h-full h-[120vh] w-full ${e[2]}
        rounded-t-[1.25rem]  
        flex flex-col 
        shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]
      `)+" svelte-1vussu5"),h(i,"style",O=`
        transform: translateY(${e[8]}px);
      `),h(s,"id","action-sheet--max"),h(s,"class","fixed left-0 right-0 overflow-visible"),be(s,"top",e[10]+"px"),be(s,"height",e[1]+"px"),S(s,"pointer-events-auto",e[0]),S(s,"pointer-events-none",!e[0]),h(t,"class",T=ce(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1vussu5"),S(t,"pointer-events-none",!e[0]),S(t,"invisible",!e[0])},m(v,u){ve(v,t,u),g&&g.m(t,null),I(t,o),I(t,s),I(s,i),I(i,l),d&&d.m(l,null),I(i,a),I(i,r),I(r,p),_&&_.m(p,null),I(r,V),I(r,M),w&&w.m(M,null),e[29](r),c=!0,H||(y=[mt(D=Tt.call(null,i,{enabled:e[0]})),J(i,"outsideclick",e[30]),J(i,"touchstart",function(){te(!e[4]&&e[12])&&(!e[4]&&e[12]).apply(this,arguments)},!0),J(i,"touchmove",function(){te(!e[4]&&e[13])&&(!e[4]&&e[13]).apply(this,arguments)},!0),J(i,"touchend",function(){te(!e[4]&&e[14])&&(!e[4]&&e[14]).apply(this,arguments)},!0),J(i,"mousedown",function(){te(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),J(i,"click",bt(e[28])),J(s,"contextmenu",_t(e[27]))],H=!0)},p(v,u){e=v,e[0]?g?(g.p(e,u),u[0]&1&&P(g,1)):(g=qe(e),g.c(),P(g,1),g.m(t,o)):g&&(Ve(),Q(g,1,1,()=>{g=null}),Ye()),e[3]?d&&(Ve(),Q(d,1,1,()=>{d=null}),Ye()):d?u[0]&8&&P(d,1):(d=Ne(),d.c(),P(d,1),d.m(l,null)),_&&_.p&&(!c||u[0]&33554432)&&Be(_,N,e,e[25],c?Ie(N,e[25],u,null):Ce(e[25]),null),w&&w.p&&(!c||u[0]&33554432)&&Be(w,A,e,e[25],c?Ie(A,e[25],u,Wt):Ce(e[25]),je),(!c||u[0]&4&&k!==(k="flex-shrink-0 w-full "+e[2]+" svelte-1vussu5"))&&h(M,"class",k),(!c||u[0]&64)&&S(r,"h-full",e[6]),(!c||u[0]&16)&&S(r,"touch-pan-y",!e[4]),(!c||u[0]&4&&L!==(L=ce(`
        sheet relative 
        min-h-full h-[120vh] w-full ${e[2]}
        rounded-t-[1.25rem]  
        flex flex-col 
        shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]
      `)+" svelte-1vussu5"))&&h(i,"class",L),(!c||u[0]&256&&O!==(O=`
        transform: translateY(${e[8]}px);
      `))&&h(i,"style",O),D&&te(D.update)&&u[0]&1&&D.update.call(null,{enabled:e[0]}),(!c||u[0]&2)&&be(s,"height",e[1]+"px"),(!c||u[0]&1)&&S(s,"pointer-events-auto",e[0]),(!c||u[0]&1)&&S(s,"pointer-events-none",!e[0]),(!c||u[0]&32&&T!==(T=ce(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1vussu5"))&&h(t,"class",T),(!c||u[0]&33)&&S(t,"pointer-events-none",!e[0]),(!c||u[0]&33)&&S(t,"invisible",!e[0])},i(v){c||(P(g),P(d),P(_,v),P(w,v),c=!0)},o(v){Q(g),Q(d),Q(_,v),Q(w,v),c=!1},d(v){v&&E(t),g&&g.d(),d&&d.d(),_&&_.d(v),w&&w.d(v),e[29](null),H=!1,yt(y)}}}const oe=50;function jt(e,t){var o;try{if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){const s=((o=e==null?void 0:e.value)==null?void 0:o.length)??0;[200].forEach(l=>{setTimeout(()=>{requestAnimationFrame(()=>{try{e.setSelectionRange(0,0),s>0?setTimeout(()=>{e.setSelectionRange(s,s),e.style.caretColor=t},0):e.style.caretColor=t}catch(a){console.error(`시도 실패 (${l}ms):`,a),e.style.caretColor=t}})},l)})}else if(e instanceof HTMLElement){e.style.caretColor=t;const s=document.createRange(),i=window.getSelection();s.selectNodeContents(e),s.collapse(!1),i==null||i.removeAllRanges(),i==null||i.addRange(s)}else e.style.caretColor=t}catch{e.style.caretColor=t}}function qt(e,t,o){let s,{$$slots:i={},$$scope:l}=t;const a=At;let{isOpen:r=!1}=t,{backdropBackground:p="bg-[#24242424]"}=t,{sheetBackground:V="bg-[#222]"}=t,{noHandle:M=!1}=t,{fixed:k=!1}=t,{onOpen:L=()=>{}}=t,{onClose:O=()=>{}}=t,{bottomNavigation:D=!1}=t,{hFull:T=!1}=t,{slotFullHeight:c=!1}=t,H=null,{maxHeight:y=null}=t;const g=de(2.75),d=de(1.625);let{useDefaultHeight:N=!1}=t,{defaultHeight:_=null}=t,{keyboardHeight:A=0}=t,w=0;const v=de(3),u=de(2.13);let B=!1,R=0,C=0,x=0;const K=It(0,{duration:0,easing:a});wt(e,K,n=>o(8,s=n));let G=!1,m,U,X,ne,ke,Z=!1,se;function Ge(n){o(16,A=n.keyboardHeight),$(),ee(),ne=document.activeElement;let f=window.getComputedStyle(ne).caretColor;f!=="transparent"&&f!=="rgba(0, 0, 0, 0)"&&(ke=f,ne.style.caretColor="transparent",jt(ne,ke))}function Ue(){o(16,A=0),$(),ee()}function $(n){H=window.innerHeight;let f=g,b=D?u+v:u;A>0?o(1,y=H-f-b-A):o(1,y=H-f-b);const W=(m?m.scrollHeight:0)+d;N===!1&&(o(17,_=Math.min(W,y)),ae=!1)}function Xe(){document.body.style.overflow="hidden",$(),Se(),Ht(K,s=y,s),fe(),L()}function Ze(){document.body.style.overflow="auto",K.set(H,{duration:100,easing:a}).finally(()=>{O()})}function He(n,f){if(k)return;B=!0,R=n,x=s,G=!1;let b=f;for(;b&&b!==document.body;){if(b.classList.contains("touch-pan-y")||b.classList.contains("overflow-y-auto")||b.classList.contains("overflow-y-scroll")){const{scrollHeight:Y,clientHeight:W}=b;if(Y>W){G=!0,ie=b;break}}b=b.parentElement}}let ie=null,le=!1,re=!1;function $e(){m&&(m.addEventListener("scroll",n=>{const f=n.target;if(f&&f!==m){const{scrollTop:b,scrollHeight:Y,clientHeight:W}=f;b<0?le=!0:b+W>Y?re=!0:(le=!1,re=!1)}},{passive:!0,capture:!0}),m.addEventListener("touchend",()=>{setTimeout(()=>{le=!1,re=!1,ie=null},50)},{passive:!0}))}function Ee(n,f){if(B){if(C=n-R,G&&ie){const{scrollTop:b,scrollHeight:Y,clientHeight:W}=ie;if(Y>W){const dt=b<=0,ht=Math.abs(b+W-Y)<1;if(!((dt||le)&&C>0)){if(!((ht||re)&&C<0)){B=!1;return}}}}Math.abs(C)>oe&&f.stopPropagation(),Se()}}function Me(){B&&(B=!1,et())}function Se(){let n=x+C;n=Math.min(n,H);const f=y-H;n<f&&(n=f),K.set(n,{duration:0,easing:a});const b=y-n;if(m){const Y=b-d;o(7,m.style.maxHeight=`${Y}px`,m)}}function et(){const n=C;C=0,_===y?tt(n):ot(s,n)}let ae=!1;function ee(n){ae?ue():fe()}function ue(n){w=y,ae=!0,K.set(0,{duration:200,easing:a});const f=y-d;m?o(7,m.style.maxHeight=`${f}px`,m):console.error("contentEl is null")}function fe(n){w=_,ae=!1,K.set(y-_,{duration:200,easing:a});const f=_-d;m?o(7,m.style.maxHeight=`${f}px`,m):console.error("contentEl is null")}function tt(n){n>oe?o(0,r=!1):ue()}function ot(n,f){try{if(f===0)return;if(n<oe&&f!==0){ue();return}if(f>oe){y===w?fe():(K.set(y,{duration:200,easing:a}),o(0,r=!1));return}if(f<-oe){ue();return}ee()}catch(b){console.error("handleMultiHeightMode 오류:",b),fe()}}function nt(n){He(n.touches[0].clientY,n.target)}function st(n){Ee(n.touches[0].clientY,n)}function it(){Me()}function lt(n){n.button===0&&(He(n.clientY,n.target),window.addEventListener("mousemove",De),window.addEventListener("mouseup",Ke))}function De(n){Ee(n.clientY,n)}function Ke(){window.removeEventListener("mousemove",De),window.removeEventListener("mouseup",Ke),Me()}vt(()=>{o(24,se=window),Yt(()=>{},Ge,Ue),$e(),m&&U===void 0&&(U=new ResizeObserver(()=>{B||($(),ee())}),U.observe(m)),m&&X===void 0&&(X=new MutationObserver(n=>{B||($(),ee())}),X.observe(m,{childList:!0,subtree:!0}))}),pt(()=>{Pt(),U&&U.disconnect(),X&&X.disconnect()});function rt(n){Fe.call(this,e,n)}function at(n){Fe.call(this,e,n)}function ut(n){Et[n?"unshift":"push"](()=>{m=n,o(7,m)})}const ft=()=>o(0,r=!1);return e.$$set=n=>{"isOpen"in n&&o(0,r=n.isOpen),"backdropBackground"in n&&o(18,p=n.backdropBackground),"sheetBackground"in n&&o(2,V=n.sheetBackground),"noHandle"in n&&o(3,M=n.noHandle),"fixed"in n&&o(4,k=n.fixed),"onOpen"in n&&o(19,L=n.onOpen),"onClose"in n&&o(20,O=n.onClose),"bottomNavigation"in n&&o(5,D=n.bottomNavigation),"hFull"in n&&o(6,T=n.hFull),"slotFullHeight"in n&&o(21,c=n.slotFullHeight),"maxHeight"in n&&o(1,y=n.maxHeight),"useDefaultHeight"in n&&o(22,N=n.useDefaultHeight),"defaultHeight"in n&&o(17,_=n.defaultHeight),"keyboardHeight"in n&&o(16,A=n.keyboardHeight),"$$scope"in n&&o(25,l=n.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&25165825&&(Z!==r&&r===!0&&se!==void 0?(o(23,Z=r),Xe()):Z!==r&&r===!1&&se!==void 0&&(o(23,Z=r),Ze())),e.$$.dirty[0]&65568},[r,y,V,M,k,D,T,m,s,a,g,K,nt,st,it,lt,A,_,p,L,O,c,N,Z,se,l,i,rt,at,ut,ft]}class Xt extends xe{constructor(t){super(),Je(this,t,qt,zt,Re,{isOpen:0,backdropBackground:18,sheetBackground:2,noHandle:3,fixed:4,onOpen:19,onClose:20,bottomNavigation:5,hFull:6,slotFullHeight:21,maxHeight:1,useDefaultHeight:22,defaultHeight:17,keyboardHeight:16},null,[-1,-1,-1])}}export{Xt as A,Pt as a,Yt as o};
