import{V as te,Q as He,s as Ee,m as ve,e as O,a as ne,c as I,b as L,g as se,f as D,q as v,N as H,r as oe,G as ie,i as J,h as V,v as C,T as z,K as De,u as Ye,o as Me,p as Se,y as Ae,k as Be,A as re,B as Pe,n as Te,O as Ce,C as le}from"./scheduler.Ds8JjPaX.js";import{n as Oe,l as Ie,S as Le,i as Ve,t as q,g as je,a as Q,f as ze,h as ae}from"./index.ucgEq-dW.js";import{c as E,f as fe}from"./index.ONSL08EL.js";import{w as qe}from"./index.DTILpjNG.js";import{c as Fe}from"./clickOutside.DnwsFdy-.js";function ue(e){return Object.prototype.toString.call(e)==="[object Date]"}function W(e,s){if(e===s||e!==e)return()=>e;const t=typeof e;if(t!==typeof s||Array.isArray(e)!==Array.isArray(s))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const l=s.map((i,f)=>W(e[f],i));return i=>l.map(f=>f(i))}if(t==="object"){if(!e||!s)throw new Error("Object cannot be null");if(ue(e)&&ue(s)){e=e.getTime(),s=s.getTime();const f=s-e;return o=>new Date(e+o*f)}const l=Object.keys(s),i={};return l.forEach(f=>{i[f]=W(e[f],s[f])}),f=>{const o={};return l.forEach(_=>{o[_]=i[_](f)}),o}}if(t==="number"){const l=s-e;return i=>e+i*l}throw new Error(`Cannot interpolate ${t} values`)}function Ge(e,s={}){const t=qe(e);let l,i=e;function f(o,_){if(e==null)return t.set(e=o),Promise.resolve();i=o;let p=l,d=!1,{delay:w=0,duration:c=400,easing:r=He,interpolate:h=W}=te(te({},s),_);if(c===0)return p&&(p.abort(),p=null),t.set(e=i),Promise.resolve();const g=Oe()+w;let a;return l=Ie(m=>{if(m<g)return!0;d||(a=h(e,o),typeof c=="function"&&(c=c(e,o)),d=!0),p&&(p.abort(),p=null);const u=m-g;return u>c?(t.set(e=o),!1):(t.set(e=a(r(u/c))),!0)}),l.promise}return{set:f,update:(o,_)=>f(o(i,e),_),subscribe:t.subscribe}}function ce(e){let s,t,l,i,f;return{c(){s=O("div"),this.h()},l(o){s=I(o,"DIV",{class:!0}),L(s).forEach(D),this.h()},h(){v(s,"class","fixed inset-0 bg-black/20")},m(o,_){J(o,s,_),l=!0,i||(f=C(s,"click",e[13]),i=!0)},p:Te,i(o){l||(o&&Ce(()=>{l&&(t||(t=ae(s,fe,{duration:200},!0)),t.run(1))}),l=!0)},o(o){o&&(t||(t=ae(s,fe,{duration:200},!1)),t.run(0)),l=!1},d(o){o&&D(s),o&&t&&t.end(),i=!1,f()}}}function de(e){let s;return{c(){s=O("div"),this.h()},l(t){s=I(t,"DIV",{class:!0}),L(s).forEach(D),this.h()},h(){v(s,"class","handle svelte-kfo0xa")},m(t,l){J(t,s,l)},d(t){t&&D(s)}}}function Ke(e){let s,t,l,i,f,o,_,p,d,w,c,r=e[0]&&ce(e),h=!e[3]&&de();const g=e[22].default,a=ve(g,e,e[21],null);return{c(){s=O("div"),r&&r.c(),t=ne(),l=O("div"),i=O("div"),h&&h.c(),f=ne(),o=O("div"),a&&a.c(),this.h()},l(m){s=I(m,"DIV",{class:!0});var u=L(s);r&&r.l(u),t=se(u),l=I(u,"DIV",{class:!0,style:!0});var S=L(l);i=I(S,"DIV",{class:!0,style:!0});var k=L(i);h&&h.l(k),f=se(k),o=I(k,"DIV",{class:!0});var Y=L(o);a&&a.l(Y),Y.forEach(D),k.forEach(D),S.forEach(D),u.forEach(D),this.h()},h(){v(o,"class","content svelte-kfo0xa"),H(o,"isMaxHeight",e[5]===e[1]),H(o,"noHandle",e[3]),v(i,"class",_=oe(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-kfo0xa"),ie(i,"transform","translateY("+e[11]+"px)"),v(l,"class","fixed bottom-0 left-0 right-0 rounded-t-2xl overflow-hidden transition-transform duration-300 ease-out"),v(l,"style",p="height: "+e[1]+"px; transform: translateY("+e[6]+"px); "+(e[0]?"will-change: transform;":"")),H(l,"pointer-events-none",!e[0]),v(s,"class","fixed inset-0 z-50"),H(s,"pointer-events-none",!e[0]),H(s,"invisible",!e[0])},m(m,u){J(m,s,u),r&&r.m(s,null),V(s,t),V(s,l),V(l,i),h&&h.m(i,null),V(i,f),V(i,o),a&&a.m(o,null),e[23](o),e[25](s),d=!0,w||(c=[C(i,"touchstart",function(){z(!e[4]&&e[14])&&(!e[4]&&e[14]).apply(this,arguments)},!0),C(i,"touchmove",function(){z(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),C(i,"touchend",function(){z(!e[4]&&e[16])&&(!e[4]&&e[16]).apply(this,arguments)},!0),C(i,"mousedown",function(){z(!e[4]&&e[17])&&(!e[4]&&e[17]).apply(this,arguments)},!0),De(Fe.call(null,i)),C(i,"outsideclick",e[24])],w=!0)},p(m,u){e=m,e[0]?r?(r.p(e,u),u[0]&1&&q(r,1)):(r=ce(e),r.c(),q(r,1),r.m(s,t)):r&&(je(),Q(r,1,1,()=>{r=null}),ze()),e[3]?h&&(h.d(1),h=null):h||(h=de(),h.c(),h.m(i,f)),a&&a.p&&(!d||u[0]&2097152)&&Ye(a,g,e,e[21],d?Se(g,e[21],u,null):Me(e[21]),null),(!d||u[0]&34)&&H(o,"isMaxHeight",e[5]===e[1]),(!d||u[0]&8)&&H(o,"noHandle",e[3]),(!d||u[0]&20&&_!==(_=oe(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      flex flex-col min-h-full h-full shadow-top`)+" svelte-kfo0xa"))&&v(i,"class",_),(!d||u[0]&2048)&&ie(i,"transform","translateY("+e[11]+"px)"),(!d||u[0]&67&&p!==(p="height: "+e[1]+"px; transform: translateY("+e[6]+"px); "+(e[0]?"will-change: transform;":"")))&&v(l,"style",p),(!d||u[0]&1)&&H(l,"pointer-events-none",!e[0]),(!d||u[0]&1)&&H(s,"pointer-events-none",!e[0]),(!d||u[0]&1)&&H(s,"invisible",!e[0])},i(m){d||(q(r),q(a,m),d=!0)},o(m){Q(r),Q(a,m),d=!1},d(m){m&&D(s),r&&r.d(),h&&h.d(),a&&a.d(m),e[23](null),e[25](null),w=!1,Ae(c)}}}const Ne=10;function Qe(e,s,t){let l,{$$slots:i={},$$scope:f}=s,{backdropBackground:o="bg-[#24242424]"}=s,{sheetBackground:_="bg-[#242424]"}=s,{noHandle:p=!1}=s,{fixed:d=!1}=s,{isOpen:w=!1}=s,{maxHeight:c=null}=s,{defaultHeight:r=null}=s,{onClose:h=()=>{t(0,w=!1)}}=s,g=0,a=0,m=!1,u=0,S=0,k=0,Y=!1,R=0,j=!1;const y=Ge(0,{duration:300,easing:E});Be(e,y,n=>t(11,l=n));let A,U=!1;function F(){if(g=window.innerHeight,c===null&&t(1,c=g),r===null)if(A){const n=p?0:38,b=A.scrollHeight;t(18,r=Math.min(b+n,c))}else t(18,r=g/2);else t(18,r=Math.min(r,c));w&&G()}function G(){t(5,a=r),y.set(g),y.set(g-a,{duration:300,easing:E}),t(8,j=!0),setTimeout(()=>{t(8,j=!1)},50)}function B(){y.set(g,{duration:300,easing:E}).then(()=>{h()})}function X(n,b){d||(m=!0,t(7,Y=!1),u=n,R=l,U=b.closest(".content")!==null)}function Z(n,b){if(!m)return;if(t(6,S=n),k=S-u,U&&A&&a===c){const{scrollTop:P,scrollHeight:T,clientHeight:N}=A;if(T>N&&!(P===0&&k>0))return}Math.abs(k)>Ne&&(t(7,Y=!0),b.preventDefault(),b.stopPropagation()),he()}function x(){m&&(m=!1,me())}function he(){let n=R+k;const b=g-c;if(n<b){const M=b-n;n=b-M/3}n=Math.min(n,g),y.set(n)}function me(){const n=k;k=0;const b=l,M=g-c,P=g-r,T=10;if(r===c)n>T?B():y.set(P,{duration:200,easing:E});else if(b<M+T)t(5,a=c),y.set(M,{duration:200,easing:E});else if(n>T)a===c?(t(5,a=r),y.set(P,{duration:200,easing:E})):B();else if(n<-T)t(5,a=c),y.set(M,{duration:200,easing:E});else{const N=(P+M)/2;b<N?(t(5,a=c),y.set(M,{duration:200,easing:E})):(t(5,a=r),y.set(P,{duration:200,easing:E}))}setTimeout(()=>{t(7,Y=!1)},200)}function ge(n){X(n.touches[0].clientY,n.target)}function _e(n){Z(n.touches[0].clientY,n)}function pe(){x()}function we(n){n.button===0&&(X(n.clientY,n.target),window.addEventListener("mousemove",$),window.addEventListener("mouseup",ee))}function $(n){Z(n.clientY,n)}function ee(){window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",ee),x()}re(()=>{setTimeout(()=>{F(),B(),window.addEventListener("resize",F),w&&G()},0)}),Pe(()=>{window.removeEventListener("resize",F)});let K;re(()=>((()=>{document.body.style.overflow=w?"hidden":""})(),()=>{document.body.style.overflow=""}));function be(n){le[n?"unshift":"push"](()=>{A=n,t(9,A)})}const ye=n=>{n.preventDefault(),n.stopPropagation(),!Y&&!j&&B()};function ke(n){le[n?"unshift":"push"](()=>{K=n,t(10,K)})}return e.$$set=n=>{"backdropBackground"in n&&t(19,o=n.backdropBackground),"sheetBackground"in n&&t(2,_=n.sheetBackground),"noHandle"in n&&t(3,p=n.noHandle),"fixed"in n&&t(4,d=n.fixed),"isOpen"in n&&t(0,w=n.isOpen),"maxHeight"in n&&t(1,c=n.maxHeight),"defaultHeight"in n&&t(18,r=n.defaultHeight),"onClose"in n&&t(20,h=n.onClose),"$$scope"in n&&t(21,f=n.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1&&(w?G():B()),e.$$.dirty[0]&1&&t(6,S=w?0:window.innerHeight),e.$$.dirty[0]&1&&typeof document<"u"&&(document.body.style.overflow=w?"hidden":"")},[w,c,_,p,d,a,S,Y,j,A,K,l,y,B,ge,_e,pe,we,r,o,h,f,i,be,ye,ke]}class xe extends Le{constructor(s){super(),Ve(this,s,Qe,Ke,Ee,{backdropBackground:19,sheetBackground:2,noHandle:3,fixed:4,isOpen:0,maxHeight:1,defaultHeight:18,onClose:20},null,[-1,-1])}}export{xe as A};
