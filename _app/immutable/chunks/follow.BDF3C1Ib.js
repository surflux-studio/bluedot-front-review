import{A as i,g as p,e as c}from"./sign.0LSMDjDO.js";async function u({targetTable:t="users",targetIdx:r,subjectTable:n="users",subjectIdx:o}){const e=p();if(!e)throw c.emit("showSignInModal",{removable:!0}),new Error("로그인이 필요합니다.");const a=new URL(`${i}/auth/followers`);a.searchParams.append("targetTable",t),a.searchParams.append("targetIdx",r.toString()),a.searchParams.append("subjectTable",n),a.searchParams.append("subjectIdx",o.toString());const s=await fetch(a.href,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return s.ok||c.emit("pushSnackbar",{message:"팔로우에 실패했습니다."}),await s.json()}async function l({targetTable:t="users",targetIdx:r,subjectTable:n="users",subjectIdx:o}){const e=p(),a=new URL(`${i}/auth/followers`);a.searchParams.append("targetTable",t),a.searchParams.append("targetIdx",String(r)),a.searchParams.append("subjectTable",n),a.searchParams.append("subjectIdx",String(o));const s=await fetch(a.href,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return s.ok||c.emit("pushSnackbar",{message:"언팔로우에 실패했습니다."}),await s.json()}async function m({targetTable:t="users",targetIdx:r,subjectTable:n="users",subjectIdx:o}){const e=new URL(`${i}/auth/followers`);return e.searchParams.append("targetTable",t),e.searchParams.append("targetIdx",String(r)),e.searchParams.append("subjectTable",n),e.searchParams.append("subjectIdx",String(o)),(await(await fetch(e.href,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p()}`}})).json()).data.length>0}export{u as f,m as i,l as u};
