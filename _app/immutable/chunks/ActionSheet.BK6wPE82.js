import{X as ae,V as Le,s as He,q as fe,r as ue,b as C,f as y,v as g,i as $,h as z,n as J,m as Ve,e as j,a as ce,c as I,g as de,H as Y,L as X,C as he,A as N,S as G,E as je,u as Ie,o as Ne,p as qe,F as Fe,k as We,w as me,x as Re,W as Xe,y as ge}from"./scheduler.CVGJxaOr.js";import{n as Ge,l as Je,S as Ee,i as Ye,t as T,g as _e,a as q,f as pe,k as we,c as Ke,b as Qe,m as Ue,d as Ze}from"./index.1WceP6qL.js";import{c as M,f as be}from"./ActionSheet.svelte_svelte_type_style_lang.Bapd8jSF.js";import{w as xe}from"./entry.D8uAiU5h.js";import{c as $e}from"./clickOutside.DnwsFdy-.js";import{r as Z}from"./units.BJZU6p1c.js";function ve(e){return Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((i,a)=>x(e[a],i));return i=>s.map(a=>a(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(ve(e)&&ve(t)){e=e.getTime(),t=t.getTime();const a=t-e;return l=>new Date(e+l*a)}const s=Object.keys(t),i={};return s.forEach(a=>{i[a]=x(e[a],t[a])}),a=>{const l={};return s.forEach(m=>{l[m]=i[m](a)}),l}}if(n==="number"){const s=t-e;return i=>e+i*s}throw new Error(`Cannot interpolate ${n} values`)}function et(e,t={}){const n=xe(e);let s,i=e;function a(l,m){if(e==null)return n.set(e=l),Promise.resolve();i=l;let w=s,k=!1,{delay:_=0,duration:r=400,easing:b=Le,interpolate:O=x}=ae(ae({},t),m);if(r===0)return w&&(w.abort(),w=null),n.set(e=i),Promise.resolve();const f=Ge()+_;let u;return s=Je(H=>{if(H<f)return!0;k||(u=O(e,l),typeof r=="function"&&(r=r(e,l)),k=!0),w&&(w.abort(),w=null);const c=H-f;return c>r?(n.set(e=l),!1):(n.set(e=u(b(c/r))),!0)}),s.promise}return{set:a,update:(l,m)=>a(l(i,e),m),subscribe:n.subscribe}}function tt(e){let t,n;return{c(){t=fe("svg"),n=fe("path"),this.h()},l(s){t=ue(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=C(t);n=ue(i,"path",{id:!0,d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),C(n).forEach(y),i.forEach(y),this.h()},h(){g(n,"id","Vector 27674"),g(n,"d","M2 2H33"),g(n,"stroke","#DADDE0"),g(n,"stroke-width","3"),g(n,"stroke-linecap","round"),g(t,"width","35"),g(t,"height","4"),g(t,"viewBox","0 0 35 4"),g(t,"fill","none"),g(t,"xmlns","http://www.w3.org/2000/svg")},m(s,i){$(s,t,i),z(t,n)},p:J,i:J,o:J,d(s){s&&y(t)}}}class nt extends Ee{constructor(t){super(),Ye(this,t,null,tt,He,{})}}function ke(e){let t,n,s,i,a;return{c(){t=j("div"),this.h()},l(l){t=I(l,"DIV",{class:!0}),C(t).forEach(y),this.h()},h(){g(t,"class","fixed inset-0 bg-black/20 svelte-1n5nao5")},m(l,m){$(l,t,m),s=!0,i||(a=N(t,"click",e[14]),i=!0)},p:J,i(l){s||(l&&Xe(()=>{s&&(n||(n=we(t,be,{duration:200},!0)),n.run(1))}),s=!0)},o(l){l&&(n||(n=we(t,be,{duration:200},!1)),n.run(0)),s=!1},d(l){l&&y(t),l&&n&&n.end(),i=!1,a()}}}function ye(e){let t,n;return t=new nt({}),{c(){Ke(t.$$.fragment)},l(s){Qe(t.$$.fragment,s)},m(s,i){Ue(t,s,i),n=!0},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){q(t.$$.fragment,s),n=!1},d(s){Ze(t,s)}}}function ot(e){let t,n,s,i,a,l,m,w,k,_,r,b,O,f=e[0]&&ke(e),u=!e[3]&&ye();const H=e[25].default,c=Ve(H,e,e[24],null);return{c(){t=j("div"),f&&f.c(),n=ce(),s=j("div"),i=j("div"),a=j("div"),u&&u.c(),l=ce(),m=j("div"),c&&c.c(),this.h()},l(h){t=I(h,"DIV",{class:!0});var d=C(t);f&&f.l(d),n=de(d),s=I(d,"DIV",{class:!0,style:!0});var F=C(s);i=I(F,"DIV",{class:!0,style:!0});var D=C(i);a=I(D,"DIV",{class:!0});var P=C(a);u&&u.l(P),P.forEach(y),l=de(D),m=I(D,"DIV",{class:!0});var S=C(m);c&&c.l(S),S.forEach(y),D.forEach(y),F.forEach(y),d.forEach(y),this.h()},h(){g(a,"class","flex justify-center items-center h-[1.625rem] svelte-1n5nao5"),g(m,"class","content svelte-1n5nao5"),Y(m,"isMaxHeight",e[6]===e[1]),g(i,"class",w=X(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"),he(i,"transform","translateY("+e[12]+"px)"),g(s,"class","fixed bottom-0 left-0 right-0 rounded-t-[20px] overflow-hidden transition-transform duration-300 ease-out svelte-1n5nao5"),g(s,"style",k="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")),Y(s,"pointer-events-none",!e[0]),g(t,"class",_=X(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"),Y(t,"pointer-events-none",!e[0]),Y(t,"invisible",!e[0]),Y(t,"pb-20",e[5])},m(h,d){$(h,t,d),f&&f.m(t,null),z(t,n),z(t,s),z(s,i),z(i,a),u&&u.m(a,null),z(i,l),z(i,m),c&&c.m(m,null),e[26](m),e[28](t),r=!0,b||(O=[N(i,"touchstart",function(){G(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),N(i,"touchmove",function(){G(!e[4]&&e[16])&&(!e[4]&&e[16]).apply(this,arguments)},!0),N(i,"touchend",function(){G(!e[4]&&e[17])&&(!e[4]&&e[17]).apply(this,arguments)},!0),N(i,"mousedown",function(){G(!e[4]&&e[18])&&(!e[4]&&e[18]).apply(this,arguments)},!0),je($e.call(null,i)),N(i,"outsideclick",e[27])],b=!0)},p(h,d){e=h,e[0]?f?(f.p(e,d),d[0]&1&&T(f,1)):(f=ke(e),f.c(),T(f,1),f.m(t,n)):f&&(_e(),q(f,1,1,()=>{f=null}),pe()),e[3]?u&&(_e(),q(u,1,1,()=>{u=null}),pe()):u?d[0]&8&&T(u,1):(u=ye(),u.c(),T(u,1),u.m(a,null)),c&&c.p&&(!r||d[0]&16777216)&&Ie(c,H,e,e[24],r?qe(H,e[24],d,null):Ne(e[24]),null),(!r||d[0]&66)&&Y(m,"isMaxHeight",e[6]===e[1]),(!r||d[0]&20&&w!==(w=X(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"))&&g(i,"class",w),(!r||d[0]&4096)&&he(i,"transform","translateY("+e[12]+"px)"),(!r||d[0]&131&&k!==(k="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")))&&g(s,"style",k),(!r||d[0]&1)&&Y(s,"pointer-events-none",!e[0]),(!r||d[0]&32&&_!==(_=X(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"))&&g(t,"class",_),(!r||d[0]&33)&&Y(t,"pointer-events-none",!e[0]),(!r||d[0]&33)&&Y(t,"invisible",!e[0]),(!r||d[0]&32)&&Y(t,"pb-20",e[5])},i(h){r||(T(f),T(u),T(c,h),r=!0)},o(h){q(f),q(u),q(c,h),r=!1},d(h){h&&y(t),f&&f.d(),u&&u.d(),c&&c.d(h),e[26](null),e[28](null),b=!1,Fe(O)}}}const st=10;function it(e,t,n){let s,{$$slots:i={},$$scope:a}=t,{backdropBackground:l="bg-[#24242424]"}=t,{sheetBackground:m="bg-[#222]"}=t,{noHandle:w=!1}=t,{fixed:k=!1}=t,{isOpen:_=!1}=t,{maxHeight:r=null}=t,{defaultHeight:b=null}=t,{onOpen:O=()=>{}}=t,{onClose:f=()=>{}}=t,{bottomNavigation:u=!1}=t,{movePositionY:H=0}=t,c=0,h=0,d=!1,F=0,D=0,P=0,S=!1,ee=0,W=!1;const v=et(0,{duration:300,easing:M});We(e,v,o=>n(12,s=o));let A,te,ne=!1;function R(){c=window.innerHeight;const o=u?Z(5.125):Z(2.125);r===null&&n(1,r=c+o);const p=Z(1.625),E=A?A.scrollHeight:0,B=Math.min(E+p,r);n(19,b=B),_&&K()}function K(){n(6,h=b),v.set(c),v.set(c-h,{duration:300,easing:M}),n(9,W=!0),setTimeout(()=>{n(9,W=!1)},50),O()}function L(){v.set(c,{duration:300,easing:M}).then(()=>{n(0,_=!1),f()})}function oe(o,p){k||(d=!0,n(8,S=!1),F=o,ee=s,ne=p.closest(".content")!==null)}function se(o,p){if(!d)return;if(n(7,D=o),P=D-F,ne&&A&&h===r){const{scrollTop:B,scrollHeight:V,clientHeight:U}=A;if(V>U&&!(B===0&&P>0))return}Math.abs(P)>st&&(n(8,S=!0),p.preventDefault(),p.stopPropagation()),De()}function ie(){d&&(d=!1,Pe())}function De(){let o=ee+P;const p=c-r;if(o<p){const E=p-o;o=p-E/3}o=Math.min(o,c),v.set(o)}function Pe(){const o=P;P=0;const p=s,E=c-r,B=c-b,V=10;if(b===r)o>V?L():v.set(B,{duration:200,easing:M});else if(p<E+V)n(6,h=r),v.set(E,{duration:200,easing:M});else if(o>V)h===r?(n(6,h=b),v.set(B,{duration:200,easing:M})):L();else if(o<-V)n(6,h=r),v.set(E,{duration:200,easing:M});else{const U=(B+E)/2;p<U?(n(6,h=r),v.set(E,{duration:200,easing:M})):(n(6,h=b),v.set(B,{duration:200,easing:M}))}setTimeout(()=>{n(8,S=!1)},200)}function Me(o){oe(o.touches[0].clientY,o.target)}function Oe(o){se(o.touches[0].clientY,o)}function Se(){ie()}function Ae(o){o.button===0&&(oe(o.clientY,o.target),window.addEventListener("mousemove",re),window.addEventListener("mouseup",le))}function re(o){se(o.clientY,o)}function le(){window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",le),ie()}me(()=>{setTimeout(()=>{te=new ResizeObserver(()=>{R()}),te.observe(A),R(),L(),window.addEventListener("resize",R),_&&K()},0)}),Re(()=>{window.removeEventListener("resize",R)});let Q;me(()=>((()=>{document.body.style.overflow=_?"hidden":""})(),()=>{document.body.style.overflow=""}));function Be(o){v.update(p=>p+o)}function Te(o){ge[o?"unshift":"push"](()=>{A=o,n(10,A)})}const Ce=o=>{o.preventDefault(),o.stopPropagation(),!S&&!W&&L()};function ze(o){ge[o?"unshift":"push"](()=>{Q=o,n(11,Q)})}return e.$$set=o=>{"backdropBackground"in o&&n(20,l=o.backdropBackground),"sheetBackground"in o&&n(2,m=o.sheetBackground),"noHandle"in o&&n(3,w=o.noHandle),"fixed"in o&&n(4,k=o.fixed),"isOpen"in o&&n(0,_=o.isOpen),"maxHeight"in o&&n(1,r=o.maxHeight),"defaultHeight"in o&&n(19,b=o.defaultHeight),"onOpen"in o&&n(21,O=o.onOpen),"onClose"in o&&n(22,f=o.onClose),"bottomNavigation"in o&&n(5,u=o.bottomNavigation),"movePositionY"in o&&n(23,H=o.movePositionY),"$$scope"in o&&n(24,a=o.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&Be(H),e.$$.dirty[0]&1&&(_?K():L()),e.$$.dirty[0]&1&&n(7,D=_?0:window.innerHeight),e.$$.dirty[0]&1&&typeof document<"u"&&(document.body.style.overflow=_?"hidden":"")},[_,r,m,w,k,u,h,D,S,W,A,Q,s,v,L,Me,Oe,Se,Ae,b,l,O,f,H,a,i,Te,Ce,ze]}class ht extends Ee{constructor(t){super(),Ye(this,t,it,ot,He,{backdropBackground:20,sheetBackground:2,noHandle:3,fixed:4,isOpen:0,maxHeight:1,defaultHeight:19,onOpen:21,onClose:22,bottomNavigation:5,movePositionY:23},null,[-1,-1])}}export{ht as A};
