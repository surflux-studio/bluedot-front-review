function An(n,r,s){return Math.min(Math.max(n,r),s)}function Nn(n,r,s,t,i,o){const a=i-s,f=o-t;if(a!==0||f!==0){const c=((n-s)*a+(r-t)*f)/(a*a+f*f);c>1?(s=i,t=o):c>0&&(s+=a*c,t+=f*c)}return p(n,r,s,t)}function p(n,r,s,t){const i=s-n,o=t-r;return i*i+o*o}function Wn(n){const r=n.length;for(let t=0;t<r;t++){let i=t,o=Math.abs(n[t][t]);for(let f=t+1;f<r;f++){const c=Math.abs(n[f][t]);c>o&&(o=c,i=f)}if(o===0)return null;const a=n[i];n[i]=n[t],n[t]=a;for(let f=t+1;f<r;f++){const c=-n[f][t]/n[t][t];for(let u=t;u<r+1;u++)t==u?n[f][u]=0:n[f][u]+=c*n[t][u]}}const s=new Array(r);for(let t=r-1;t>=0;t--){s[t]=n[t][r]/n[t][t];for(let i=t-1;i>=0;i--)n[i][r]-=n[i][t]*s[t]}return s}function U(n){return n*Math.PI/180}function j(n,r){const s=n%r;return s*r<0?s+r:s}function Ln(n,r,s){return n+s*(r-n)}function X(n,r){const s=Math.pow(10,r);return Math.round(n*s)/s}function bn(n,r){return Math.round(X(n,r))}function qn(n,r){return Math.floor(X(n,r))}function $n(n,r){return Math.ceil(X(n,r))}const x={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Y{constructor(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||x[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(r){this.defaultTileGrid_=r}setExtent(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)}setWorldExtent(r){this.worldExtent_=r}setGetPointResolution(r){this.getPointResolutionFunc_=r}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const _=6378137,m=Math.PI*_,nn=[-m,-m,m,m],rn=[-180,-85,180,85],I=_*Math.log(Math.tan(Math.PI/2));class M extends Y{constructor(r){super({code:r,units:"m",extent:nn,global:!0,worldExtent:rn,getPointResolution:function(s,t){return s/Math.cosh(t[1]/_)}})}}const L=[new M("EPSG:3857"),new M("EPSG:102100"),new M("EPSG:102113"),new M("EPSG:900913"),new M("http://www.opengis.net/def/crs/EPSG/0/3857"),new M("http://www.opengis.net/gml/srs/epsg.xml#3857")];function sn(n,r,s,t){const i=n.length;s=s>1?s:2,t=t??s,r===void 0&&(s>2?r=n.slice():r=new Array(i));for(let o=0;o<i;o+=t){r[o]=m*n[o]/180;let a=_*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));a>I?a=I:a<-I&&(a=-I),r[o+1]=a}return r}function tn(n,r,s,t){const i=n.length;s=s>1?s:2,t=t??s,r===void 0&&(s>2?r=n.slice():r=new Array(i));for(let o=0;o<i;o+=t)r[o]=180*n[o]/m,r[o+1]=360*Math.atan(Math.exp(n[o+1]/_))/Math.PI-90;return r}const on=6378137,b=[-180,-90,180,90],an=Math.PI*on/180;class d extends Y{constructor(r,s){super({code:r,units:"degrees",extent:b,axisOrientation:s,global:!0,metersPerUnit:an,worldExtent:b})}}const q=[new d("CRS:84"),new d("EPSG:4326","neu"),new d("urn:ogc:def:crs:OGC:1.3:CRS84"),new d("urn:ogc:def:crs:OGC:2:84"),new d("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new d("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new d("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O={};function fn(n){return O[n]||O[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function cn(n,r){O[n]=r}let S={};function y(n,r,s){const t=n.getCode(),i=r.getCode();t in S||(S[t]={}),S[t][i]=s}function un(n,r){let s;return n in S&&r in S[n]&&(s=S[n][r]),s}const e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bn(n){const r=V();for(let s=0,t=n.length;s<t;++s)hn(r,n[s]);return r}function en(n,r,s){const t=Math.min.apply(null,n),i=Math.min.apply(null,r),o=Math.max.apply(null,n),a=Math.max.apply(null,r);return C(t,i,o,a,s)}function Dn(n,r,s){return s?(s[0]=n[0]-r,s[1]=n[1]-r,s[2]=n[2]+r,s[3]=n[3]+r,s):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Yn(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function Vn(n,r,s){let t,i;return r<n[0]?t=n[0]-r:n[2]<r?t=r-n[2]:t=0,s<n[1]?i=n[1]-s:n[3]<s?i=s-n[3]:i=0,t*t+i*i}function Hn(n,r){return ln(n,r[0],r[1])}function Kn(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function ln(n,r,s){return n[0]<=r&&r<=n[2]&&n[1]<=s&&s<=n[3]}function $(n,r){const s=n[0],t=n[1],i=n[2],o=n[3],a=r[0],f=r[1];let c=e.UNKNOWN;return a<s?c=c|e.LEFT:a>i&&(c=c|e.RIGHT),f<t?c=c|e.BELOW:f>o&&(c=c|e.ABOVE),c===e.UNKNOWN&&(c=e.INTERSECTING),c}function V(){return[1/0,1/0,-1/0,-1/0]}function C(n,r,s,t,i){return i?(i[0]=n,i[1]=r,i[2]=s,i[3]=t,i):[n,r,s,t]}function A(n){return C(1/0,1/0,-1/0,-1/0,n)}function Jn(n,r){const s=n[0],t=n[1];return C(s,t,s,t,r)}function Zn(n,r,s,t,i){const o=A(i);return gn(o,n,r,s,t)}function vn(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function zn(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function hn(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function gn(n,r,s,t,i){for(;s<t;s+=i)En(n,r[s],r[s+1]);return n}function En(n,r,s){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],s),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],s)}function Qn(n,r){let s;return s=r(H(n)),s||(s=r(K(n)),s)||(s=r(Z(n)),s)||(s=r(J(n)),s)?s:!1}function kn(n){let r=0;return v(n)||(r=R(n)*Pn(n)),r}function H(n){return[n[0],n[1]]}function K(n){return[n[2],n[1]]}function dn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function pn(n,r){let s;if(r==="bottom-left")s=H(n);else if(r==="bottom-right")s=K(n);else if(r==="top-left")s=J(n);else if(r==="top-right")s=Z(n);else throw new Error("Invalid corner");return s}function jn(n,r,s,t,i){const[o,a,f,c,u,h,g,l]=wn(n,r,s,t);return C(Math.min(o,f,u,g),Math.min(a,c,h,l),Math.max(o,f,u,g),Math.max(a,c,h,l),i)}function wn(n,r,s,t){const i=r*t[0]/2,o=r*t[1]/2,a=Math.cos(s),f=Math.sin(s),c=i*a,u=i*f,h=o*a,g=o*f,l=n[0],E=n[1];return[l-c+g,E-u-h,l-c-g,E-u+h,l+c-g,E+u+h,l+c+g,E+u-h,l-c+g,E-u-h]}function Pn(n){return n[3]-n[1]}function xn(n,r,s){const t=s||V();return Mn(n,r)?(n[0]>r[0]?t[0]=n[0]:t[0]=r[0],n[1]>r[1]?t[1]=n[1]:t[1]=r[1],n[2]<r[2]?t[2]=n[2]:t[2]=r[2],n[3]<r[3]?t[3]=n[3]:t[3]=r[3]):A(t),t}function J(n){return[n[0],n[3]]}function Z(n){return[n[2],n[3]]}function R(n){return n[2]-n[0]}function Mn(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function v(n){return n[2]<n[0]||n[3]<n[1]}function nr(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function rr(n,r,s){let t=!1;const i=$(n,r),o=$(n,s);if(i===e.INTERSECTING||o===e.INTERSECTING)t=!0;else{const a=n[0],f=n[1],c=n[2],u=n[3],h=r[0],g=r[1],l=s[0],E=s[1],G=(E-g)/(l-h);let w,P;o&e.ABOVE&&!(i&e.ABOVE)&&(w=l-(E-u)/G,t=w>=a&&w<=c),!t&&o&e.RIGHT&&!(i&e.RIGHT)&&(P=E-(l-c)*G,t=P>=f&&P<=u),!t&&o&e.BELOW&&!(i&e.BELOW)&&(w=l-(E-f)/G,t=w>=a&&w<=c),!t&&o&e.LEFT&&!(i&e.LEFT)&&(P=E-(l-a)*G,t=P>=f&&P<=u)}return t}function mn(n,r,s,t){if(v(n))return A(s);let i=[];i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],r(i,i,2);const o=[],a=[];for(let f=0,c=i.length;f<c;f+=2)o.push(i[f]),a.push(i[f+1]);return en(o,a,s)}function Sn(n,r){const s=r.getExtent(),t=dn(n);if(r.canWrapX()&&(t[0]<s[0]||t[0]>=s[2])){const i=R(s),a=Math.floor((t[0]-s[0])/i)*i;n[0]-=a,n[2]-=a}return n}function sr(n,r,s){if(r.canWrapX()){const t=r.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[t[0],n[1],t[2],n[3]]];Sn(n,r);const i=R(t);if(R(n)>i&&!s)return[[t[0],n[1],t[2],n[3]]];if(n[0]<t[0])return[[n[0]+i,n[1],t[2],n[3]],[t[0],n[1],n[2],n[3]]];if(n[2]>t[2])return[[n[0],n[1],t[2],n[3]],[t[0],n[1],n[2]-i,n[3]]]}return[n]}function tr(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function Rn(n,r){let s=!0;for(let t=n.length-1;t>=0;--t)if(n[t]!=r[t]){s=!1;break}return s}function ir(n,r){const s=Math.cos(r),t=Math.sin(r),i=n[0]*s-n[1]*t,o=n[1]*s+n[0]*t;return n[0]=i,n[1]=o,n}function or(n,r){return n[0]*=r,n[1]*=r,n}function Tn(n,r){const s=n[0]-r[0],t=n[1]-r[1];return s*s+t*t}function ar(n,r){return Math.sqrt(Tn(n,r))}function fr(n,r){if(r.canWrapX()){const s=R(r.getExtent()),t=_n(n,r,s);t&&(n[0]-=t*s)}return n}function _n(n,r,s){const t=r.getExtent();let i=0;return r.canWrapX()&&(n[0]<t[0]||n[0]>t[2])&&(s=s||R(t),i=Math.floor((n[0]-t[0])/s)),i}const Gn=63710088e-1;function B(n,r,s){s=s||Gn;const t=U(n[1]),i=U(r[1]),o=(i-t)/2,a=U(r[0]-n[0])/2,f=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(t)*Math.cos(i);return 2*s*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function In(...n){console.warn(...n)}let F=!0;function yn(n){F=!1}function N(n,r){if(r!==void 0){for(let s=0,t=n.length;s<t;++s)r[s]=n[s];r=r}else r=n.slice();return r}function z(n,r){if(r!==void 0&&n!==r){for(let s=0,t=n.length;s<t;++s)r[s]=n[s];n=r}return n}function Cn(n){cn(n.getCode(),n),y(n,n,N)}function Un(n){n.forEach(Cn)}function T(n){return typeof n=="string"?fn(n):n||null}function cr(n,r,s,t){n=T(n);let i;const o=n.getPointResolutionFunc();if(o)i=o(r,s);else{const a=n.getUnits();if(a=="degrees"&&!t||t=="degrees")i=r;else{const f=W(n,T("EPSG:4326"));if(f===z&&a!=="degrees")i=r*n.getMetersPerUnit();else{let u=[s[0]-r/2,s[1],s[0]+r/2,s[1],s[0],s[1]-r/2,s[0],s[1]+r/2];u=f(u,u,2);const h=B(u.slice(0,2),u.slice(2,4)),g=B(u.slice(4,6),u.slice(6,8));i=(h+g)/2}const c=n.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function D(n){Un(n),n.forEach(function(r){n.forEach(function(s){r!==s&&y(r,s,N)})})}function On(n,r,s,t){n.forEach(function(i){r.forEach(function(o){y(i,o,s),y(o,i,t)})})}function ur(n,r){return n?typeof n=="string"?T(n):n:T(r)}function er(n,r){return yn(),k(n,"EPSG:4326","EPSG:3857")}function lr(n,r){const s=k(n,"EPSG:3857","EPSG:4326"),t=s[0];return(t<-180||t>180)&&(s[0]=j(t+180,360)-180),s}function hr(n,r){if(n===r)return!0;const s=n.getUnits()===r.getUnits();return(n.getCode()===r.getCode()||W(n,r)===N)&&s}function W(n,r){const s=n.getCode(),t=r.getCode();let i=un(s,t);return i||(i=z),i}function Q(n,r){const s=T(n),t=T(r);return W(s,t)}function k(n,r,s){return Q(r,s)(n,void 0,n.length)}function gr(n,r,s,t){const i=Q(r,s);return mn(n,i,void 0)}let Fn=null;function Er(){return Fn}function dr(n,r){return n}function wr(n,r){return F&&!Rn(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(F=!1,In("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function Pr(n,r){return n}function Mr(n,r){return n}function Xn(){D(L),D(q),On(q,L,sn,tn)}Xn();export{Hn as $,v as A,ur as B,wr as C,Mr as D,ir as E,tr as F,dr as G,Pr as H,jn as I,Rn as J,yn as K,fr as L,x as M,xn as N,or as O,vn as P,Yn as Q,In as R,J as S,Z as T,K as U,H as V,kn as W,Bn as X,hn as Y,k as Z,cr as _,gr as a,zn as a0,Wn as a1,sr as a2,C as a3,$n as a4,qn as a5,pn as a6,hr as a7,Dn as a8,bn as a9,$ as aa,e as ab,X as ac,W as ad,Er as ae,Sn as af,Y as ag,Tn as ah,ar as ai,Pn as b,An as c,U as d,V as e,er as f,R as g,A as h,T as i,Q as j,Zn as k,dn as l,Ln as m,Nn as n,Vn as o,Jn as p,ln as q,nr as r,p as s,lr as t,Qn as u,gn as v,Mn as w,Kn as x,rr as y,j as z};
