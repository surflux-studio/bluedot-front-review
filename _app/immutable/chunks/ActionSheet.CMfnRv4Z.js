import{X as le,V as ze,s as ye,q as ae,r as ue,b as T,f as E,v as m,i as $,h as z,n as J,m as Le,e as j,a as fe,c as I,g as ce,H as D,L as X,C as de,A as N,S as G,E as Ve,u as je,o as Ie,p as Ne,F as qe,k as Fe,w as he,x as We,W as Re,y as me}from"./scheduler.CVGJxaOr.js";import{n as Xe,l as Ge,S as He,i as Ee,t as O,g as ge,a as q,f as _e,k as pe,c as Je,b as Ke,m as Qe,d as Ue}from"./index.1WceP6qL.js";import{c as P,f as we}from"./ActionSheet.svelte_svelte_type_style_lang.Bapd8jSF.js";import{w as Ze}from"./entry.B9SH3PBZ.js";import{c as xe}from"./clickOutside.DnwsFdy-.js";import{r as Z}from"./units.BJZU6p1c.js";function be(e){return Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((i,a)=>x(e[a],i));return i=>s.map(a=>a(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(be(e)&&be(t)){e=e.getTime(),t=t.getTime();const a=t-e;return l=>new Date(e+l*a)}const s=Object.keys(t),i={};return s.forEach(a=>{i[a]=x(e[a],t[a])}),a=>{const l={};return s.forEach(h=>{l[h]=i[h](a)}),l}}if(n==="number"){const s=t-e;return i=>e+i*s}throw new Error(`Cannot interpolate ${n} values`)}function $e(e,t={}){const n=Ze(e);let s,i=e;function a(l,h){if(e==null)return n.set(e=l),Promise.resolve();i=l;let b=s,y=!1,{delay:_=0,duration:r=400,easing:v=ze,interpolate:M=x}=le(le({},t),h);if(r===0)return b&&(b.abort(),b=null),n.set(e=i),Promise.resolve();const u=Xe()+_;let c;return s=Ge(p=>{if(p<u)return!0;y||(c=M(e,l),typeof r=="function"&&(r=r(e,l)),y=!0),b&&(b.abort(),b=null);const f=p-u;return f>r?(n.set(e=l),!1):(n.set(e=c(v(f/r))),!0)}),s.promise}return{set:a,update:(l,h)=>a(l(i,e),h),subscribe:n.subscribe}}function et(e){let t,n;return{c(){t=ae("svg"),n=ae("path"),this.h()},l(s){t=ue(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=T(t);n=ue(i,"path",{id:!0,d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),T(n).forEach(E),i.forEach(E),this.h()},h(){m(n,"id","Vector 27674"),m(n,"d","M2 2H33"),m(n,"stroke","#DADDE0"),m(n,"stroke-width","3"),m(n,"stroke-linecap","round"),m(t,"width","35"),m(t,"height","4"),m(t,"viewBox","0 0 35 4"),m(t,"fill","none"),m(t,"xmlns","http://www.w3.org/2000/svg")},m(s,i){$(s,t,i),z(t,n)},p:J,i:J,o:J,d(s){s&&E(t)}}}class tt extends He{constructor(t){super(),Ee(this,t,null,et,ye,{})}}function ve(e){let t,n,s,i,a;return{c(){t=j("div"),this.h()},l(l){t=I(l,"DIV",{class:!0}),T(t).forEach(E),this.h()},h(){m(t,"class","fixed inset-0 bg-black/20 svelte-1n5nao5")},m(l,h){$(l,t,h),s=!0,i||(a=N(t,"click",e[14]),i=!0)},p:J,i(l){s||(l&&Re(()=>{s&&(n||(n=pe(t,we,{duration:200},!0)),n.run(1))}),s=!0)},o(l){l&&(n||(n=pe(t,we,{duration:200},!1)),n.run(0)),s=!1},d(l){l&&E(t),l&&n&&n.end(),i=!1,a()}}}function ke(e){let t,n;return t=new tt({}),{c(){Je(t.$$.fragment)},l(s){Ke(t.$$.fragment,s)},m(s,i){Qe(t,s,i),n=!0},i(s){n||(O(t.$$.fragment,s),n=!0)},o(s){q(t.$$.fragment,s),n=!1},d(s){Ue(t,s)}}}function nt(e){let t,n,s,i,a,l,h,b,y,_,r,v,M,u=e[0]&&ve(e),c=!e[3]&&ke();const p=e[24].default,f=Le(p,e,e[23],null);return{c(){t=j("div"),u&&u.c(),n=fe(),s=j("div"),i=j("div"),a=j("div"),c&&c.c(),l=fe(),h=j("div"),f&&f.c(),this.h()},l(g){t=I(g,"DIV",{class:!0});var d=T(t);u&&u.l(d),n=ce(d),s=I(d,"DIV",{class:!0,style:!0});var C=T(s);i=I(C,"DIV",{class:!0,style:!0});var H=T(i);a=I(H,"DIV",{class:!0});var S=T(a);c&&c.l(S),S.forEach(E),l=ce(H),h=I(H,"DIV",{class:!0});var F=T(h);f&&f.l(F),F.forEach(E),H.forEach(E),C.forEach(E),d.forEach(E),this.h()},h(){m(a,"class","flex justify-center items-center h-[1.625rem] svelte-1n5nao5"),m(h,"class","content svelte-1n5nao5"),D(h,"isMaxHeight",e[6]===e[1]),m(i,"class",b=X(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"),de(i,"transform","translateY("+e[12]+"px)"),m(s,"class","fixed bottom-0 left-0 right-0 rounded-t-[20px] overflow-hidden transition-transform duration-300 ease-out svelte-1n5nao5"),m(s,"style",y="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")),D(s,"pointer-events-none",!e[0]),m(t,"class",_=X(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"),D(t,"pointer-events-none",!e[0]),D(t,"invisible",!e[0]),D(t,"pb-20",e[5])},m(g,d){$(g,t,d),u&&u.m(t,null),z(t,n),z(t,s),z(s,i),z(i,a),c&&c.m(a,null),z(i,l),z(i,h),f&&f.m(h,null),e[25](h),e[27](t),r=!0,v||(M=[N(i,"touchstart",function(){G(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),N(i,"touchmove",function(){G(!e[4]&&e[16])&&(!e[4]&&e[16]).apply(this,arguments)},!0),N(i,"touchend",function(){G(!e[4]&&e[17])&&(!e[4]&&e[17]).apply(this,arguments)},!0),N(i,"mousedown",function(){G(!e[4]&&e[18])&&(!e[4]&&e[18]).apply(this,arguments)},!0),Ve(xe.call(null,i)),N(i,"outsideclick",e[26])],v=!0)},p(g,d){e=g,e[0]?u?(u.p(e,d),d[0]&1&&O(u,1)):(u=ve(e),u.c(),O(u,1),u.m(t,n)):u&&(ge(),q(u,1,1,()=>{u=null}),_e()),e[3]?c&&(ge(),q(c,1,1,()=>{c=null}),_e()):c?d[0]&8&&O(c,1):(c=ke(),c.c(),O(c,1),c.m(a,null)),f&&f.p&&(!r||d[0]&8388608)&&je(f,p,e,e[23],r?Ne(p,e[23],d,null):Ie(e[23]),null),(!r||d[0]&66)&&D(h,"isMaxHeight",e[6]===e[1]),(!r||d[0]&20&&b!==(b=X(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"))&&m(i,"class",b),(!r||d[0]&4096)&&de(i,"transform","translateY("+e[12]+"px)"),(!r||d[0]&131&&y!==(y="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")))&&m(s,"style",y),(!r||d[0]&1)&&D(s,"pointer-events-none",!e[0]),(!r||d[0]&32&&_!==(_=X(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"))&&m(t,"class",_),(!r||d[0]&33)&&D(t,"pointer-events-none",!e[0]),(!r||d[0]&33)&&D(t,"invisible",!e[0]),(!r||d[0]&32)&&D(t,"pb-20",e[5])},i(g){r||(O(u),O(c),O(f,g),r=!0)},o(g){q(u),q(c),q(f,g),r=!1},d(g){g&&E(t),u&&u.d(),c&&c.d(),f&&f.d(g),e[25](null),e[27](null),v=!1,qe(M)}}}const ot=10;function st(e,t,n){let s,{$$slots:i={},$$scope:a}=t,{backdropBackground:l="bg-[#24242424]"}=t,{sheetBackground:h="bg-[#222]"}=t,{noHandle:b=!1}=t,{fixed:y=!1}=t,{isOpen:_=!1}=t,{maxHeight:r=null}=t,{defaultHeight:v=null}=t,{onClose:M=()=>{n(0,_=!1)}}=t,{bottomNavigation:u=!1}=t,{movePositionY:c=0}=t,p=0,f=0,g=!1,d=0,C=0,H=0,S=!1,F=0,W=!1;const k=$e(0,{duration:300,easing:P});Fe(e,k,o=>n(12,s=o));let A,ee,te=!1;function R(){p=window.innerHeight;const o=u?Z(5.125):Z(2.125);r===null&&n(1,r=p+o);const w=Z(1.625),Y=A?A.scrollHeight:0,B=Math.min(Y+w,r);n(19,v=B),_&&K()}function K(){n(6,f=v),k.set(p),k.set(p-f,{duration:300,easing:P}),n(9,W=!0),setTimeout(()=>{n(9,W=!1)},50)}function L(){k.set(p,{duration:300,easing:P}).then(()=>{M()})}function ne(o,w){y||(g=!0,n(8,S=!1),d=o,F=s,te=w.closest(".content")!==null)}function oe(o,w){if(!g)return;if(n(7,C=o),H=C-d,te&&A&&f===r){const{scrollTop:B,scrollHeight:V,clientHeight:U}=A;if(V>U&&!(B===0&&H>0))return}Math.abs(H)>ot&&(n(8,S=!0),w.preventDefault(),w.stopPropagation()),Ye()}function se(){g&&(g=!1,De())}function Ye(){let o=F+H;const w=p-r;if(o<w){const Y=w-o;o=w-Y/3}o=Math.min(o,p),k.set(o)}function De(){const o=H;H=0;const w=s,Y=p-r,B=p-v,V=10;if(v===r)o>V?L():k.set(B,{duration:200,easing:P});else if(w<Y+V)n(6,f=r),k.set(Y,{duration:200,easing:P});else if(o>V)f===r?(n(6,f=v),k.set(B,{duration:200,easing:P})):L();else if(o<-V)n(6,f=r),k.set(Y,{duration:200,easing:P});else{const U=(B+Y)/2;w<U?(n(6,f=r),k.set(Y,{duration:200,easing:P})):(n(6,f=v),k.set(B,{duration:200,easing:P}))}setTimeout(()=>{n(8,S=!1)},200)}function Pe(o){ne(o.touches[0].clientY,o.target)}function Me(o){oe(o.touches[0].clientY,o)}function Se(){se()}function Ae(o){o.button===0&&(ne(o.clientY,o.target),window.addEventListener("mousemove",ie),window.addEventListener("mouseup",re))}function ie(o){oe(o.clientY,o)}function re(){window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",re),se()}he(()=>{setTimeout(()=>{ee=new ResizeObserver(()=>{R()}),ee.observe(A),R(),L(),window.addEventListener("resize",R),_&&K()},0)}),We(()=>{window.removeEventListener("resize",R)});let Q;he(()=>((()=>{document.body.style.overflow=_?"hidden":""})(),()=>{document.body.style.overflow=""}));function Be(o){k.update(w=>w+o)}function Oe(o){me[o?"unshift":"push"](()=>{A=o,n(10,A)})}const Te=o=>{o.preventDefault(),o.stopPropagation(),!S&&!W&&L()};function Ce(o){me[o?"unshift":"push"](()=>{Q=o,n(11,Q)})}return e.$$set=o=>{"backdropBackground"in o&&n(20,l=o.backdropBackground),"sheetBackground"in o&&n(2,h=o.sheetBackground),"noHandle"in o&&n(3,b=o.noHandle),"fixed"in o&&n(4,y=o.fixed),"isOpen"in o&&n(0,_=o.isOpen),"maxHeight"in o&&n(1,r=o.maxHeight),"defaultHeight"in o&&n(19,v=o.defaultHeight),"onClose"in o&&n(21,M=o.onClose),"bottomNavigation"in o&&n(5,u=o.bottomNavigation),"movePositionY"in o&&n(22,c=o.movePositionY),"$$scope"in o&&n(23,a=o.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4194304&&Be(c),e.$$.dirty[0]&1&&(_?K():L()),e.$$.dirty[0]&1&&n(7,C=_?0:window.innerHeight),e.$$.dirty[0]&1&&typeof document<"u"&&(document.body.style.overflow=_?"hidden":"")},[_,r,h,b,y,u,f,C,S,W,A,Q,s,k,L,Pe,Me,Se,Ae,v,l,M,c,a,i,Oe,Te,Ce]}class dt extends He{constructor(t){super(),Ee(this,t,st,nt,ye,{backdropBackground:20,sheetBackground:2,noHandle:3,fixed:4,isOpen:0,maxHeight:1,defaultHeight:19,onClose:21,bottomNavigation:5,movePositionY:22},null,[-1,-1])}}export{dt as A};
