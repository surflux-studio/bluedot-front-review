import{g as K,w as O}from"./entry.DM8ixu-w.js";import{_ as T}from"./preload-helper.D6kgxu3v.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */var A;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(A||(A={}));class S extends Error{constructor(e,s,o){super(e),this.message=e,this.code=s,this.data=o}}const z=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},V=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},o=s.Plugins=s.Plugins||{},n=()=>e!==null?e.name:z(t),r=()=>n()!=="web",a=i=>{const c=p.get(i);return!!(c!=null&&c.platforms.has(n())||l(i))},l=i=>{var c;return(c=s.PluginHeaders)===null||c===void 0?void 0:c.find(k=>k.name===i)},u=i=>t.console.error(i),p=new Map,_=(i,c={})=>{const k=p.get(i);if(k)return console.warn(`Capacitor plugin "${i}" already registered. Cannot register plugins twice.`),k.proxy;const y=n(),v=l(i);let g;const H=async()=>(!g&&y in c?g=typeof c[y]=="function"?g=await c[y]():g=c[y]:e!==null&&!g&&"web"in c&&(g=typeof c.web=="function"?g=await c.web():g=c.web),g),R=(d,f)=>{var b,w;if(v){const m=v==null?void 0:v.methods.find(h=>f===h.name);if(m)return m.rtype==="promise"?h=>s.nativePromise(i,f.toString(),h):(h,U)=>s.nativeCallback(i,f.toString(),h,U);if(d)return(b=d[f])===null||b===void 0?void 0:b.bind(d)}else{if(d)return(w=d[f])===null||w===void 0?void 0:w.bind(d);throw new S(`"${i}" plugin is not implemented on ${y}`,A.Unimplemented)}},I=d=>{let f;const b=(...w)=>{const m=H().then(h=>{const U=R(h,d);if(U){const C=U(...w);return f=C==null?void 0:C.remove,C}else throw new S(`"${i}.${d}()" is not implemented on ${y}`,A.Unimplemented)});return d==="addListener"&&(m.remove=async()=>f()),m};return b.toString=()=>`${d.toString()}() { [capacitor code] }`,Object.defineProperty(b,"name",{value:d,writable:!1,configurable:!1}),b},M=I("addListener"),W=I("removeListener"),q=(d,f)=>{const b=M({eventName:d},f),w=async()=>{const h=await b;W({eventName:d,callbackId:h},f)},m=new Promise(h=>b.then(()=>h({remove:w})));return m.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await w()},m},D=new Proxy({},{get(d,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?q:M;case"removeListener":return W;default:return I(f)}}});return o[i]=D,p.set(i,{name:i,proxy:D,platforms:new Set([...Object.keys(c),...v?[y]:[]])}),D};return s.convertFileSrc||(s.convertFileSrc=i=>i),s.getPlatform=n,s.handleError=u,s.isNativePlatform=r,s.isPluginAvailable=a,s.registerPlugin=_,s.Exception=S,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},J=t=>t.Capacitor=V(t),x=J(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),j=x.registerPlugin;class F{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(s);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),o&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,s);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,o){const n=this.listeners[e];if(!n){if(o){let r=this.retainedEventArguments[e];r||(r=[]),r.push(s),this.retainedEventArguments[e]=r}return}n.forEach(r=>r(s))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:o=>{this.notifyListeners(s,o)}}}unimplemented(e="not implemented"){return new x.Exception(e,A.Unimplemented)}unavailable(e="not available"){return new x.Exception(e,A.Unavailable)}async removeListener(e,s){const o=this.listeners[e];if(!o)return;const n=o.indexOf(s);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(o=>{this.notifyListeners(e,o)}))}}const E=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),B=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X extends F{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[n,r]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=B(n).trim(),r=B(r).trim(),s[n]=r}),s}async setCookie(e){try{const s=E(e.key),o=E(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${o||""}${n}; path=${r}; ${a};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}j("CapacitorCookies",{web:()=>new X});const Q=async t=>new Promise((e,s)=>{const o=new FileReader;o.onload=()=>{const n=o.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},o.onerror=n=>s(n),o.readAsDataURL(t)}),Z=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,r,a)=>(n[r]=t[e[a]],n),{})},Y=(t,e=!0)=>t?Object.entries(t).reduce((o,n)=>{const[r,a]=n;let l,u;return Array.isArray(a)?(u="",a.forEach(p=>{l=e?encodeURIComponent(p):p,u+=`${r}=${l}&`}),u.slice(0,-1)):(l=e?encodeURIComponent(a):a,u=`${r}=${l}`),`${o}&${u}`},"").substr(1):null,N=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),n=Z(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))r.set(a,l);s.body=r.toString()}else if(n.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((l,u)=>{r.append(u,l)});else for(const l of Object.keys(t.data))r.append(l,t.data[l]);s.body=r;const a=new Headers(s.headers);a.delete("content-type"),s.headers=a}else(n.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class ee extends F{async request(e){const s=N(e,e.webFetchExtra),o=Y(e.params,e.shouldEncodeUrlParams),n=o?`${e.url}?${o}`:e.url,r=await fetch(n,s),a=r.headers.get("content-type")||"";let{responseType:l="text"}=r.ok?e:{};a.includes("application/json")&&(l="json");let u,p;switch(l){case"arraybuffer":case"blob":p=await r.blob(),u=await Q(p);break;case"json":u=await r.json();break;case"document":case"text":default:u=await r.text()}const _={};return r.headers.forEach((i,c)=>{_[c]=i}),{data:u,headers:_,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}j("CapacitorHttp",{web:()=>new ee});const te=j("Device",{web:()=>T(()=>import("./web.CPrBSvXT.js"),[],import.meta.url).then(t=>new t.DeviceWeb)}),se=j("App",{web:()=>T(()=>import("./web.DYdLHDxc.js"),[],import.meta.url).then(t=>new t.AppWeb)}),re=x.isNativePlatform();let $;async function ne(){return $||($=await te.getInfo(),$)}let L;async function ce(){if(L)return L;if(re)L="mobile";else{const t=await ne();["ios","android"].includes(t.operatingSystem)?L="mobile":L="pc"}return L}let P;async function le(){P||(P=await se.addListener("appUrlOpen",t=>{const e=new URL(t.url),s=`${e.pathname}${e.search}`;K(s,{replaceState:!0,invalidateAll:!0}),P==null||P.remove(),P=void 0}))}const oe="https://basemap.surflux.studio/geoserver",de=`${oe}/gwc/service/tms/1.0.0/bluedot:base_building@EPSG%3A900913@pbf/{z}/{x}/{-y}.pbf`,ue="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_railway_900913_241127.json",fe="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_station_900913_241127.json",he="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_entrance_900913_241127.json";var G=(t=>(t[t.MobileS=320]="MobileS",t[t.MobileM=375]="MobileM",t[t.MobileL=425]="MobileL",t[t.Tablet=768]="Tablet",t[t.Laptop=1024]="Laptop",t[t.LaptopL=1440]="LaptopL",t[t.FourK=2560]="FourK",t))(G||{});const be="https://api.bluedot.land",pe="https://d1egcbbnpo4gtd.cloudfront.net",ge={POST:"1",BOX:"0",PLACE:"0",EMBEDDING:"0",DOTS:"1"},we="1/1.585",me=O(void 0),ye=O(G.MobileM),ve=O(!1),Le=O(!0),Pe=O(!1),Ae=O([]);export{be as A,x as C,oe as G,de as P,G as S,F as W,Le as a,ge as b,Ae as c,we as d,S as e,le as f,ye as g,ce as h,re as i,Pe as j,me as k,ue as l,fe as m,he as n,pe as o,j as r,ve as s};
