import{s as le,m as se,e as N,a as A,c as O,b as H,g as B,f as w,q as p,i as D,h as y,v as E,K as $,u as ne,o as ie,p as oe,y as ae,G as T,O as re,L as G,t as fe,d as ue,j as ce,C as K}from"./scheduler.Ds8JjPaX.js";import{S as he,i as _e,t as b,g as I,a as k,f as P,h as L,c as F,b as de,m as J,d as Q}from"./index.ucgEq-dW.js";import{e as U,u as me,o as ge}from"./each.BmbOg1ua.js";import{c as pe}from"./clickOutside.DnwsFdy-.js";import{s as X,e as be}from"./index.ONSL08EL.js";const we=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{window:ke}=we;function Y(a,e,l){const c=a.slice();return c[16]=e[l],c[18]=l,c}function Z(a){let e,l=[],c=new Map,f,h,m,i,r=U(a[1]);const o=t=>t[16].name;for(let t=0;t<r.length;t+=1){let s=Y(a,r,t),u=o(s);c.set(u,l[t]=x(u,s))}return{c(){e=N("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=O(t,"DIV",{class:!0,style:!0});var s=H(e);for(let u=0;u<l.length;u+=1)l[u].l(s);s.forEach(w),this.h()},h(){p(e,"class","fixed w-64 h-auto rounded-2xl z-50"),T(e,"background","rgba(0, 0, 0, 0.8)"),T(e,"box-shadow","0px 7px 16px 0px rgba(0, 0, 0, 0.08)")},m(t,s){D(t,e,s);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);a[12](e),h=!0,m||(i=$(a[7].call(null,e)),m=!0)},p(t,s){a=t,s&2&&(r=U(a[1]),I(),l=me(l,s,o,1,a,r,c,e,ge,x,null,Y),P())},i(t){if(!h){for(let s=0;s<r.length;s+=1)b(l[s]);t&&re(()=>{h&&(f||(f=L(e,X,a[6],!0)),f.run(1))}),h=!0}},o(t){for(let s=0;s<l.length;s+=1)k(l[s]);t&&(f||(f=L(e,X,a[6],!1)),f.run(0)),h=!1},d(t){t&&w(e);for(let s=0;s<l.length;s+=1)l[s].d();a[12](null),t&&f&&f.end(),m=!1,i()}}}function x(a,e){let l,c,f=e[16].name+"",h,m,i,r,o,t,s,u,C;var g=e[16].icon;function M(d,_){return{props:{fill:"white"}}}g&&(i=G(g,M()));function W(){return e[11](e[16])}return{key:a,first:null,c(){l=N("div"),c=N("span"),h=fe(f),m=A(),i&&F(i.$$.fragment),r=A(),this.h()},l(d){l=O(d,"DIV",{class:!0,style:!0});var _=H(l);c=O(_,"SPAN",{class:!0});var n=H(c);h=ue(n,f),n.forEach(w),m=B(_),i&&de(i.$$.fragment,_),r=B(_),_.forEach(w),this.h()},h(){p(c,"class","text-white text-base"),p(l,"class",o="flex items-center justify-between self-stretch px-4 h-11 cursor-pointer hover:bg-white/10 active:bg-white/20 transition-colors "+(e[18]===0?"rounded-t-2xl":"")+" "+(e[18]===e[1].length-1?"rounded-b-2xl":"")),p(l,"style",t=e[18]!==e[1].length-1?"border-bottom: 0.5px solid rgba(255, 255, 255, 0.36);":""),this.first=l},m(d,_){D(d,l,_),y(l,c),y(c,h),y(l,m),i&&J(i,l,null),y(l,r),s=!0,u||(C=E(l,"click",W),u=!0)},p(d,_){if(e=d,(!s||_&2)&&f!==(f=e[16].name+"")&&ce(h,f),_&2&&g!==(g=e[16].icon)){if(i){I();const n=i;k(n.$$.fragment,1,0,()=>{Q(n,1)}),P()}g?(i=G(g,M()),F(i.$$.fragment),b(i.$$.fragment,1),J(i,l,r)):i=null}(!s||_&2&&o!==(o="flex items-center justify-between self-stretch px-4 h-11 cursor-pointer hover:bg-white/10 active:bg-white/20 transition-colors "+(e[18]===0?"rounded-t-2xl":"")+" "+(e[18]===e[1].length-1?"rounded-b-2xl":"")))&&p(l,"class",o),(!s||_&2&&t!==(t=e[18]!==e[1].length-1?"border-bottom: 0.5px solid rgba(255, 255, 255, 0.36);":""))&&p(l,"style",t)},i(d){s||(i&&b(i.$$.fragment,d),s=!0)},o(d){i&&k(i.$$.fragment,d),s=!1},d(d){d&&w(l),i&&Q(i),u=!1,C()}}}function ve(a){let e,l,c,f,h,m;const i=a[10].default,r=se(i,a,a[9],null);let o=a[0]&&Z(a);return{c(){e=N("div"),r&&r.c(),l=A(),o&&o.c(),this.h()},l(t){e=O(t,"DIV",{class:!0});var s=H(e);r&&r.l(s),l=B(s),o&&o.l(s),s.forEach(w),this.h()},h(){p(e,"class",c="inline-flex flex-col "+(a[2]?"":"w-full")+" "+a[3])},m(t,s){D(t,e,s),r&&r.m(e,null),y(e,l),o&&o.m(e,null),a[13](e),f=!0,h||(m=[E(ke,"resize",a[8]),$(pe.call(null,e)),E(e,"click",a[14]),E(e,"outsideclick",a[15])],h=!0)},p(t,[s]){r&&r.p&&(!f||s&512)&&ne(r,i,t,t[9],f?oe(i,t[9],s,null):ie(t[9]),null),t[0]?o?(o.p(t,s),s&1&&b(o,1)):(o=Z(t),o.c(),b(o,1),o.m(e,null)):o&&(I(),k(o,1,1,()=>{o=null}),P()),(!f||s&12&&c!==(c="inline-flex flex-col "+(t[2]?"":"w-full")+" "+t[3]))&&p(e,"class",c)},i(t){f||(b(r,t),b(o),f=!0)},o(t){k(r,t),k(o),f=!1},d(t){t&&w(e),r&&r.d(t),o&&o.d(),a[13](null),h=!1,ae(m)}}}function ye(a,e,l){let{$$slots:c={},$$scope:f}=e,{items:h=[]}=e;const m={duration:300,easing:be,start:.5,opacity:0};let{showContextMenu:i=!1}=e,{shrink:r=!0}=e,{className:o=""}=e,t;function s(n){if(t){const v=t.getBoundingClientRect(),S=n.offsetWidth,ee=n.offsetHeight,V=window.innerWidth,q=window.innerHeight,R=q-v.bottom,te=v.top,j=R>=ee+8||R>=te;j?(n.style.top=`${v.bottom+8}px`,n.style.bottom="auto"):(n.style.bottom=`${q-v.top+8}px`,n.style.top="auto");let z=Math.max(16,v.left);z+S>V-16?(z=Math.max(16,V-S-16),n.style.transformOrigin=j?"top right":"bottom right"):n.style.transformOrigin=j?"top left":"bottom left",n.style.left=`${z}px`}}let u;function C(){u&&i&&s(u)}const g=n=>{n.onClick()};function M(n){K[n?"unshift":"push"](()=>{u=n,l(5,u)})}function W(n){K[n?"unshift":"push"](()=>{t=n,l(4,t)})}const d=()=>l(0,i=!0),_=()=>l(0,i=!1);return a.$$set=n=>{"items"in n&&l(1,h=n.items),"showContextMenu"in n&&l(0,i=n.showContextMenu),"shrink"in n&&l(2,r=n.shrink),"className"in n&&l(3,o=n.className),"$$scope"in n&&l(9,f=n.$$scope)},[i,h,r,o,t,u,m,s,C,f,c,g,M,W,d,_]}class He extends he{constructor(e){super(),_e(this,e,ye,ve,le,{items:1,showContextMenu:0,shrink:2,className:3})}}export{He as C};
