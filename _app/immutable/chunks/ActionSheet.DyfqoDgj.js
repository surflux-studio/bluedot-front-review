import{X as re,R as Oe,s as ke,q as le,r as ae,b as B,f as E,v as m,i as $,h as O,n as G,m as Le,e as I,a as fe,c as V,g as ue,H as D,L as R,C as ce,A as N,S as X,E as je,u as ze,o as Ie,p as Ve,F as Ne,k as qe,w as de,x as Fe,W as We,y as he}from"./scheduler.CCBjAsUD.js";import{n as Re,l as Xe,S as ye,i as He,t as A,g as me,a as q,f as ge,k as _e,c as Ge,b as Je,m as Ke,d as Qe}from"./index.svcsDwjp.js";import{c as P,f as pe}from"./ActionSheet.svelte_svelte_type_style_lang.uskW9Trt.js";import{w as Ue}from"./entry.B0RfKa1t.js";import{c as Ze}from"./clickOutside.DnwsFdy-.js";import{r as Z}from"./units.BJZU6p1c.js";function we(e){return Object.prototype.toString.call(e)==="[object Date]"}function x(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((i,a)=>x(e[a],i));return i=>s.map(a=>a(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(we(e)&&we(t)){e=e.getTime(),t=t.getTime();const a=t-e;return l=>new Date(e+l*a)}const s=Object.keys(t),i={};return s.forEach(a=>{i[a]=x(e[a],t[a])}),a=>{const l={};return s.forEach(h=>{l[h]=i[h](a)}),l}}if(n==="number"){const s=t-e;return i=>e+i*s}throw new Error(`Cannot interpolate ${n} values`)}function xe(e,t={}){const n=Ue(e);let s,i=e;function a(l,h){if(e==null)return n.set(e=l),Promise.resolve();i=l;let v=s,y=!1,{delay:w=0,duration:r=400,easing:g=Oe,interpolate:M=x}=re(re({},t),h);if(r===0)return v&&(v.abort(),v=null),n.set(e=i),Promise.resolve();const f=Re()+w;let c;return s=Xe(_=>{if(_<f)return!0;y||(c=M(e,l),typeof r=="function"&&(r=r(e,l)),y=!0),v&&(v.abort(),v=null);const u=_-f;return u>r?(n.set(e=l),!1):(n.set(e=c(g(u/r))),!0)}),s.promise}return{set:a,update:(l,h)=>a(l(i,e),h),subscribe:n.subscribe}}function $e(e){let t,n;return{c(){t=le("svg"),n=le("path"),this.h()},l(s){t=ae(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var i=B(t);n=ae(i,"path",{id:!0,d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(E),i.forEach(E),this.h()},h(){m(n,"id","Vector 27674"),m(n,"d","M2 2H33"),m(n,"stroke","#DADDE0"),m(n,"stroke-width","3"),m(n,"stroke-linecap","round"),m(t,"width","35"),m(t,"height","4"),m(t,"viewBox","0 0 35 4"),m(t,"fill","none"),m(t,"xmlns","http://www.w3.org/2000/svg")},m(s,i){$(s,t,i),O(t,n)},p:G,i:G,o:G,d(s){s&&E(t)}}}class et extends ye{constructor(t){super(),He(this,t,null,$e,ke,{})}}function be(e){let t,n,s,i,a;return{c(){t=I("div"),this.h()},l(l){t=V(l,"DIV",{class:!0}),B(t).forEach(E),this.h()},h(){m(t,"class","fixed inset-0 bg-black/20 svelte-1n5nao5")},m(l,h){$(l,t,h),s=!0,i||(a=N(t,"click",e[14]),i=!0)},p:G,i(l){s||(l&&We(()=>{s&&(n||(n=_e(t,pe,{duration:200},!0)),n.run(1))}),s=!0)},o(l){l&&(n||(n=_e(t,pe,{duration:200},!1)),n.run(0)),s=!1},d(l){l&&E(t),l&&n&&n.end(),i=!1,a()}}}function ve(e){let t,n;return t=new et({}),{c(){Ge(t.$$.fragment)},l(s){Je(t.$$.fragment,s)},m(s,i){Ke(t,s,i),n=!0},i(s){n||(A(t.$$.fragment,s),n=!0)},o(s){q(t.$$.fragment,s),n=!1},d(s){Qe(t,s)}}}function tt(e){let t,n,s,i,a,l,h,v,y,w,r,g,M,f=e[0]&&be(e),c=!e[3]&&ve();const _=e[24].default,u=Le(_,e,e[23],null);return{c(){t=I("div"),f&&f.c(),n=fe(),s=I("div"),i=I("div"),a=I("div"),c&&c.c(),l=fe(),h=I("div"),u&&u.c(),this.h()},l(p){t=V(p,"DIV",{class:!0});var d=B(t);f&&f.l(d),n=ue(d),s=V(d,"DIV",{class:!0,style:!0});var T=B(s);i=V(T,"DIV",{class:!0,style:!0});var H=B(i);a=V(H,"DIV",{class:!0});var S=B(a);c&&c.l(S),S.forEach(E),l=ue(H),h=V(H,"DIV",{class:!0});var F=B(h);u&&u.l(F),F.forEach(E),H.forEach(E),T.forEach(E),d.forEach(E),this.h()},h(){m(a,"class","flex justify-center items-center h-[1.625rem] svelte-1n5nao5"),m(h,"class","content svelte-1n5nao5"),D(h,"isMaxHeight",e[6]===e[1]),m(i,"class",v=R(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"),ce(i,"transform","translateY("+e[12]+"px)"),m(s,"class","fixed bottom-0 left-0 right-0 rounded-t-[20px] overflow-hidden transition-transform duration-300 ease-out svelte-1n5nao5"),m(s,"style",y="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")),D(s,"pointer-events-none",!e[0]),m(t,"class",w=R(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"),D(t,"pointer-events-none",!e[0]),D(t,"invisible",!e[0]),D(t,"pb-20",e[5])},m(p,d){$(p,t,d),f&&f.m(t,null),O(t,n),O(t,s),O(s,i),O(i,a),c&&c.m(a,null),O(i,l),O(i,h),u&&u.m(h,null),e[25](h),e[27](t),r=!0,g||(M=[N(i,"touchstart",function(){X(!e[4]&&e[15])&&(!e[4]&&e[15]).apply(this,arguments)},!0),N(i,"touchmove",function(){X(!e[4]&&e[16])&&(!e[4]&&e[16]).apply(this,arguments)},!0),N(i,"touchend",function(){X(!e[4]&&e[17])&&(!e[4]&&e[17]).apply(this,arguments)},!0),N(i,"mousedown",function(){X(!e[4]&&e[18])&&(!e[4]&&e[18]).apply(this,arguments)},!0),je(Ze.call(null,i)),N(i,"outsideclick",e[26])],g=!0)},p(p,d){e=p,e[0]?f?(f.p(e,d),d[0]&1&&A(f,1)):(f=be(e),f.c(),A(f,1),f.m(t,n)):f&&(me(),q(f,1,1,()=>{f=null}),ge()),e[3]?c&&(me(),q(c,1,1,()=>{c=null}),ge()):c?d[0]&8&&A(c,1):(c=ve(),c.c(),A(c,1),c.m(a,null)),u&&u.p&&(!r||d[0]&8388608)&&ze(u,_,e,e[23],r?Ve(_,e[23],d,null):Ie(e[23]),null),(!r||d[0]&66)&&D(h,"isMaxHeight",e[6]===e[1]),(!r||d[0]&20&&v!==(v=R(`sheet absolute bottom-0 w-full ${e[2]} 
      rounded-t-3xl ${e[4]?"":"touch-pan-y"} will-change-transform 
      overflow-hidden
      flex flex-col min-h-full h-full shadow-[0px_7px_16px_rgba(0,0,0,0.08)] backdrop-blur-[10px]`)+" svelte-1n5nao5"))&&m(i,"class",v),(!r||d[0]&4096)&&ce(i,"transform","translateY("+e[12]+"px)"),(!r||d[0]&131&&y!==(y="height: "+e[1]+"px; transform: translateY("+e[7]+"px); "+(e[0]?"will-change: transform;":"")))&&m(s,"style",y),(!r||d[0]&1)&&D(s,"pointer-events-none",!e[0]),(!r||d[0]&32&&w!==(w=R(`fixed inset-0 ${e[5]?"z-50":"z-[60]"}`)+" svelte-1n5nao5"))&&m(t,"class",w),(!r||d[0]&33)&&D(t,"pointer-events-none",!e[0]),(!r||d[0]&33)&&D(t,"invisible",!e[0]),(!r||d[0]&32)&&D(t,"pb-20",e[5])},i(p){r||(A(f),A(c),A(u,p),r=!0)},o(p){q(f),q(c),q(u,p),r=!1},d(p){p&&E(t),f&&f.d(),c&&c.d(),u&&u.d(p),e[25](null),e[27](null),g=!1,Ne(M)}}}const nt=10;function ot(e,t,n){let s,{$$slots:i={},$$scope:a}=t,{backdropBackground:l="bg-[#24242424]"}=t,{sheetBackground:h="bg-[#222]"}=t,{noHandle:v=!1}=t,{fixed:y=!1}=t,{isOpen:w=!1}=t,{maxHeight:r=null}=t,{defaultHeight:g=null}=t,{onClose:M=()=>{n(0,w=!1)}}=t,{bottomNavigation:f=!1}=t,{movePositionY:c=0}=t,_=0,u=0,p=!1,d=0,T=0,H=0,S=!1,F=0,W=!1;const k=xe(0,{duration:300,easing:P});qe(e,k,o=>n(12,s=o));let C,ee=!1;function J(){_=window.innerHeight;const o=f?Z(5.125):Z(2.125);if(r===null&&n(1,r=_+o),g===null)if(C){const b=Z(1.625),Y=C.scrollHeight;n(19,g=Math.min(Y+b,r))}else n(19,g=(_+o)/2);else n(19,g=Math.min(g+o,r));w&&K()}function K(){n(6,u=g),k.set(_),k.set(_-u,{duration:300,easing:P}),n(9,W=!0),setTimeout(()=>{n(9,W=!1)},50)}function L(){k.set(_,{duration:300,easing:P}).then(()=>{M()})}function te(o,b){y||(p=!0,n(8,S=!1),d=o,F=s,ee=b.closest(".content")!==null)}function ne(o,b){if(!p)return;if(n(7,T=o),H=T-d,ee&&C&&u===r){const{scrollTop:j,scrollHeight:z,clientHeight:U}=C;if(z>U&&!(j===0&&H>0))return}Math.abs(H)>nt&&(n(8,S=!0),b.preventDefault(),b.stopPropagation()),Ee()}function oe(){p&&(p=!1,Ye())}function Ee(){let o=F+H;const b=_-r;if(o<b){const Y=b-o;o=b-Y/3}o=Math.min(o,_),k.set(o)}function Ye(){const o=H;H=0;const b=s,Y=_-r,j=_-g,z=10;if(g===r)o>z?L():k.set(j,{duration:200,easing:P});else if(b<Y+z)n(6,u=r),k.set(Y,{duration:200,easing:P});else if(o>z)u===r?(n(6,u=g),k.set(j,{duration:200,easing:P})):L();else if(o<-z)n(6,u=r),k.set(Y,{duration:200,easing:P});else{const U=(j+Y)/2;b<U?(n(6,u=r),k.set(Y,{duration:200,easing:P})):(n(6,u=g),k.set(j,{duration:200,easing:P}))}setTimeout(()=>{n(8,S=!1)},200)}function De(o){te(o.touches[0].clientY,o.target)}function Pe(o){ne(o.touches[0].clientY,o)}function Me(){oe()}function Se(o){o.button===0&&(te(o.clientY,o.target),window.addEventListener("mousemove",se),window.addEventListener("mouseup",ie))}function se(o){ne(o.clientY,o)}function ie(){window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",ie),oe()}de(()=>{setTimeout(()=>{J(),L(),window.addEventListener("resize",J),w&&K()},0)}),Fe(()=>{window.removeEventListener("resize",J)});let Q;de(()=>((()=>{document.body.style.overflow=w?"hidden":""})(),()=>{document.body.style.overflow=""}));function Ae(o){k.update(b=>b+o)}function Be(o){he[o?"unshift":"push"](()=>{C=o,n(10,C)})}const Te=o=>{o.preventDefault(),o.stopPropagation(),!S&&!W&&L()};function Ce(o){he[o?"unshift":"push"](()=>{Q=o,n(11,Q)})}return e.$$set=o=>{"backdropBackground"in o&&n(20,l=o.backdropBackground),"sheetBackground"in o&&n(2,h=o.sheetBackground),"noHandle"in o&&n(3,v=o.noHandle),"fixed"in o&&n(4,y=o.fixed),"isOpen"in o&&n(0,w=o.isOpen),"maxHeight"in o&&n(1,r=o.maxHeight),"defaultHeight"in o&&n(19,g=o.defaultHeight),"onClose"in o&&n(21,M=o.onClose),"bottomNavigation"in o&&n(5,f=o.bottomNavigation),"movePositionY"in o&&n(22,c=o.movePositionY),"$$scope"in o&&n(23,a=o.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4194304&&Ae(c),e.$$.dirty[0]&1&&(w?K():L()),e.$$.dirty[0]&1&&n(7,T=w?0:window.innerHeight),e.$$.dirty[0]&1&&typeof document<"u"&&(document.body.style.overflow=w?"hidden":"")},[w,r,h,v,y,f,u,T,S,W,C,Q,s,k,L,De,Pe,Me,Se,g,l,M,c,a,i,Be,Te,Ce]}class ct extends ye{constructor(t){super(),He(this,t,ot,tt,ke,{backdropBackground:20,sheetBackground:2,noHandle:3,fixed:4,isOpen:0,maxHeight:1,defaultHeight:19,onClose:21,bottomNavigation:5,movePositionY:22},null,[-1,-1])}}export{ct as A};
