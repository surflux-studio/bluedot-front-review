import{g as K,w as u}from"./entry.DpEBOy7L.js";import{_ as F}from"./preload-helper.D6kgxu3v.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */var O;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(O||(O={}));class M extends Error{constructor(e,s,o){super(e),this.message=e,this.code=s,this.data=o}}const V=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},J=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},o=s.Plugins=s.Plugins||{},r=()=>e!==null?e.name:V(t),n=()=>r()!=="web",i=a=>{const c=w.get(a);return!!(c!=null&&c.platforms.has(r())||l(a))},l=a=>{var c;return(c=s.PluginHeaders)===null||c===void 0?void 0:c.find(k=>k.name===a)},f=a=>t.console.error(a),w=new Map,A=(a,c={})=>{const k=w.get(a);if(k)return console.warn(`Capacitor plugin "${a}" already registered. Cannot register plugins twice.`),k.proxy;const v=r(),L=l(a);let g;const R=async()=>(!g&&v in c?g=typeof c[v]=="function"?g=await c[v]():g=c[v]:e!==null&&!g&&"web"in c&&(g=typeof c.web=="function"?g=await c.web():g=c.web),g),q=(d,h)=>{var p,m;if(L){const y=L==null?void 0:L.methods.find(b=>h===b.name);if(y)return y.rtype==="promise"?b=>s.nativePromise(a,h.toString(),b):(b,C)=>s.nativeCallback(a,h.toString(),b,C);if(d)return(p=d[h])===null||p===void 0?void 0:p.bind(d)}else{if(d)return(m=d[h])===null||m===void 0?void 0:m.bind(d);throw new M(`"${a}" plugin is not implemented on ${v}`,O.Unimplemented)}},j=d=>{let h;const p=(...m)=>{const y=R().then(b=>{const C=q(b,d);if(C){const U=C(...m);return h=U==null?void 0:U.remove,U}else throw new M(`"${a}.${d}()" is not implemented on ${v}`,O.Unimplemented)});return d==="addListener"&&(y.remove=async()=>h()),y};return p.toString=()=>`${d.toString()}() { [capacitor code] }`,Object.defineProperty(p,"name",{value:d,writable:!1,configurable:!1}),p},S=j("addListener"),W=j("removeListener"),z=(d,h)=>{const p=S({eventName:d},h),m=async()=>{const b=await p;W({eventName:d,callbackId:b},h)},y=new Promise(b=>p.then(()=>b({remove:m})));return y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await m()},y},D=new Proxy({},{get(d,h){switch(h){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?z:S;case"removeListener":return W;default:return j(h)}}});return o[a]=D,w.set(a,{name:a,proxy:D,platforms:new Set([...Object.keys(c),...L?[v]:[]])}),D};return s.convertFileSrc||(s.convertFileSrc=a=>a),s.getPlatform=r,s.handleError=f,s.isNativePlatform=n,s.isPluginAvailable=i,s.registerPlugin=A,s.Exception=M,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},X=t=>t.Capacitor=J(t),x=X(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),I=x.registerPlugin;class G{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(s);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),o&&this.sendRetainedArgumentsForEvent(e);const i=async()=>this.removeListener(e,s);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,o){const r=this.listeners[e];if(!r){if(o){let n=this.retainedEventArguments[e];n||(n=[]),n.push(s),this.retainedEventArguments[e]=n}return}r.forEach(n=>n(s))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:o=>{this.notifyListeners(s,o)}}}unimplemented(e="not implemented"){return new x.Exception(e,O.Unimplemented)}unavailable(e="not available"){return new x.Exception(e,O.Unavailable)}async removeListener(e,s){const o=this.listeners[e];if(!o)return;const r=o.indexOf(s);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(o=>{this.notifyListeners(e,o)}))}}const B=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),E=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Q extends G{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[r,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=E(r).trim(),n=E(n).trim(),s[r]=n}),s}async setCookie(e){try{const s=B(e.key),o=B(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${o||""}${r}; path=${n}; ${i};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}I("CapacitorCookies",{web:()=>new Q});const Z=async t=>new Promise((e,s)=>{const o=new FileReader;o.onload=()=>{const r=o.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>s(r),o.readAsDataURL(t)}),Y=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,n,i)=>(r[n]=t[e[i]],r),{})},N=(t,e=!0)=>t?Object.entries(t).reduce((o,r)=>{const[n,i]=r;let l,f;return Array.isArray(i)?(f="",i.forEach(w=>{l=e?encodeURIComponent(w):w,f+=`${n}=${l}&`}),f.slice(0,-1)):(l=e?encodeURIComponent(i):i,f=`${n}=${l}`),`${o}&${f}`},"").substr(1):null,ee=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),r=Y(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[i,l]of Object.entries(t.data||{}))n.set(i,l);s.body=n.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((l,f)=>{n.append(f,l)});else for(const l of Object.keys(t.data))n.append(l,t.data[l]);s.body=n;const i=new Headers(s.headers);i.delete("content-type"),s.headers=i}else(r.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class te extends G{async request(e){const s=ee(e,e.webFetchExtra),o=N(e.params,e.shouldEncodeUrlParams),r=o?`${e.url}?${o}`:e.url,n=await fetch(r,s),i=n.headers.get("content-type")||"";let{responseType:l="text"}=n.ok?e:{};i.includes("application/json")&&(l="json");let f,w;switch(l){case"arraybuffer":case"blob":w=await n.blob(),f=await Z(w);break;case"json":f=await n.json();break;case"document":case"text":default:f=await n.text()}const A={};return n.headers.forEach((a,c)=>{A[c]=a}),{data:f,headers:A,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}I("CapacitorHttp",{web:()=>new te});const se=I("Device",{web:()=>F(()=>import("./web.BH6GBIXx.js"),[],import.meta.url).then(t=>new t.DeviceWeb)}),ne=I("App",{web:()=>F(()=>import("./web.COAaFjcd.js"),[],import.meta.url).then(t=>new t.AppWeb)}),re=x.isNativePlatform();let $;async function oe(){return $||($=await se.getInfo(),$)}let _;async function de(){if(_)return _;if(re)_="mobile";else{const t=await oe();["ios","android"].includes(t.operatingSystem)?_="mobile":_="pc"}return _}let P;async function ue(){P||(P=await ne.addListener("appUrlOpen",t=>{const e=new URL(t.url),s=`${e.pathname}${e.search}`;K(s,{replaceState:!0,invalidateAll:!0}),P==null||P.remove(),P=void 0}))}const ae="https://basemap.surflux.studio/geoserver",fe=`${ae}/gwc/service/tms/1.0.0/bluedot:base_building@EPSG%3A900913@pbf/{z}/{x}/{-y}.pbf`,he="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_railway_900913_241127.json",be="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_station_900913_241127.json",pe="https://bluedot-subway.s3.ap-northeast-2.amazonaws.com/base_subway_entrance_900913_241127.json";var H=(t=>(t[t.MobileS=320]="MobileS",t[t.MobileM=375]="MobileM",t[t.MobileL=425]="MobileL",t[t.Tablet=768]="Tablet",t[t.Laptop=1024]="Laptop",t[t.LaptopL=1440]="LaptopL",t[t.FourK=2560]="FourK",t))(H||{});const we="https://api.bluedot.land",ge="https://d1egcbbnpo4gtd.cloudfront.net",me={POST:"1",BOX:"0",PLACE:"0",EMBEDDING:"0",DOTS:"2"},ye="303/481",ve=u(void 0),Le=u(H.MobileM),_e=u(!1),Pe=u(!0),Oe=u(!1),ie=u([]),T=u(void 0);ie.subscribe(t=>{t.length>0?T.set(t.at(-1)):T.set(void 0)});const Ae=u({isOpen:!1}),ke=u("sun"),Ce=u(!1),Ue=u(!0),$e=u(!0),xe=u(!0),Ie=u(!1),je=u(null),De=u(null);export{we as A,pe as B,x as C,ae as G,fe as P,H as S,G as W,ie as a,Ie as b,Ue as c,Ce as d,me as e,ke as f,xe as g,$e as h,re as i,Ae as j,De as k,_e as l,Pe as m,ge as n,M as o,ye as p,T as q,I as r,je as s,ue as t,Le as u,de as v,Oe as w,ve as x,he as y,be as z};
