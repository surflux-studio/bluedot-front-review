import{s as F,e as k,c as w,x as ie,v as u,i as b,y as Y,n as h,f as m,k as Z,w as ne,B as re,U as G,q as P,r as E,b as C,h as j,a as oe,g as se,z as O,D as L,T}from"./scheduler.DH3jNSXp.js";import{h as N,u as ae}from"./await_block.BZvhVZtB.js";import{S as M,i as S,t as _,g as U,a as p,d as W,c as J,b as K,m as Q,e as X}from"./index.DhGy8j-A.js";import{i as q}from"./isVideoFile.DGBlGWVm.js";import{g as x,s as v}from"./s32cloudfront.D0p8tGop.js";import{l as V}from"./store.C5jSRtHQ.js";import{r as ue}from"./units.BJZU6p1c.js";function fe(i){let e,t='<div id="player" class="w-full h-full pointer-events-none select-none"></div>',n,o;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(s){e=w(s,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-38tm3a"&&(e.innerHTML=t),this.h()},h(){u(e,"class","w-full h-full relative")},m(s,l){b(s,e,l),n||(o=Y(e,"click",i[0]),n=!0)},p:h,i:h,o:h,d(s){s&&m(e),n=!1,o()}}}function ce(){const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(i,e)}function de(i,e,t){let n;Z(i,V,d=>t(5,n=d));let{src:o}=e,{isAPIReady:s=!1}=e,{isPlayerReady:l=!1}=e,r;ne(()=>{c()});function c(){ce(),window.onYouTubeIframeAPIReady=()=>{t(1,s=!0),c()},r&&r.destroy();try{r=new window.YT.Player("player",{videoId:x(o),playerVars:{controls:0,disablekb:1,loop:1,modestbranding:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{t(2,l=!0),n&&r.mute(),r.playVideo()},onError:()=>{t(2,l=!1)}}})}catch{}}re(()=>{r&&r.destroy()});function a(d){if(r){if(n){r.unMute(),G(V,n=!1,n);return}r.getPlayerState()===1?r.pauseVideo():r.playVideo()}}return i.$$set=d=>{"src"in d&&t(3,o=d.src),"isAPIReady"in d&&t(1,s=d.isAPIReady),"isPlayerReady"in d&&t(2,l=d.isPlayerReady)},i.$$.update=()=>{i.$$.dirty&10&&s&&o&&c()},[a,s,l,o]}class he extends M{constructor(e){super(),S(this,e,de,fe,F,{src:3,isAPIReady:1,isPlayerReady:2})}}function me(i){return i.naturalHeight/i.naturalWidth>=15/9}function _e(i){let e,t,n,o,s;return{c(){e=P("svg"),t=P("g"),n=P("path"),o=P("path"),this.h()},l(l){e=E(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=C(e);t=E(r,"g",{id:!0});var c=C(t);n=E(c,"path",{id:!0,d:!0,fill:!0}),C(n).forEach(m),o=E(c,"path",{id:!0,"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),C(o).forEach(m),c.forEach(m),r.forEach(m),this.h()},h(){u(n,"id","Vector"),u(n,"d","M5.58134 12.6522C5.4652 12.7683 5.37306 12.9061 5.31018 13.0577C5.2473 13.2094 5.2149 13.3719 5.21484 13.5361C5.21479 13.7003 5.24707 13.8629 5.30984 14.0146C5.37262 14.1663 5.46466 14.3042 5.58071 14.4203C5.69677 14.5364 5.83456 14.6286 5.98622 14.6915C6.13788 14.7543 6.30044 14.7867 6.46462 14.7868C6.6288 14.7869 6.79139 14.7546 6.9431 14.6918C7.0948 14.629 7.23266 14.537 7.34879 14.4209L14.4199 7.34986C14.536 7.23372 14.6281 7.09585 14.691 6.94411C14.7538 6.79238 14.7862 6.62975 14.7862 6.46551C14.7862 6.30127 14.7538 6.13864 14.691 5.9869C14.6281 5.83516 14.536 5.69729 14.4199 5.58115C14.3037 5.46502 14.1659 5.3729 14.0141 5.31004C13.8624 5.24719 13.6997 5.21484 13.5355 5.21484C13.3713 5.21484 13.2086 5.24719 13.0569 5.31004C12.9052 5.3729 12.7673 5.46502 12.6512 5.58115L5.58134 12.6522Z"),u(n,"fill",i[0]),u(o,"id","Vector_2"),u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M2.92893 17.0711C3.85752 17.9997 4.95991 18.7362 6.17317 19.2388C7.38642 19.7413 8.68678 20 10 20C11.3132 20 12.6136 19.7413 13.8268 19.2388C15.0401 18.7362 16.1425 17.9997 17.0711 17.0711C17.9997 16.1425 18.7362 15.0401 19.2388 13.8268C19.7413 12.6136 20 11.3132 20 10C20 8.68678 19.7413 7.38642 19.2388 6.17317C18.7362 4.95991 17.9997 3.85752 17.0711 2.92893C15.1957 1.05357 12.6522 -1.97602e-08 10 0C7.34784 1.97602e-08 4.8043 1.05357 2.92893 2.92893C1.05357 4.8043 1.97602e-08 7.34784 0 10C-1.97602e-08 12.6522 1.05357 15.1957 2.92893 17.0711ZM15.3036 15.3036C13.8972 16.7102 11.9896 17.5005 10.0004 17.5006C8.01132 17.5007 6.10362 16.7107 4.69701 15.3042C3.29041 13.8978 2.50012 11.9902 2.5 10.0011C2.49988 8.01194 3.28995 6.10424 4.69639 4.69764C6.10283 3.29103 8.01043 2.50074 9.99956 2.50062C10.9845 2.50057 11.9598 2.6945 12.8697 3.07136C13.7797 3.44822 14.6065 4.00061 15.303 4.69701C15.9995 5.39341 16.552 6.22017 16.9289 7.13009C17.3059 8.04001 17.4999 9.01527 17.5 10.0002C17.5001 10.9851 17.3061 11.9604 16.9293 12.8703C16.5524 13.7803 16 14.6071 15.3036 15.3036Z"),u(o,"fill",i[0]),u(t,"id","Group"),u(e,"width",i[1]),u(e,"height",i[1]),u(e,"viewBox",s="0 0 "+i[1]+" "+i[1]),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(l,r){b(l,e,r),j(e,t),j(t,n),j(t,o)},p(l,[r]){r&1&&u(n,"fill",l[0]),r&1&&u(o,"fill",l[0]),r&2&&u(e,"width",l[1]),r&2&&u(e,"height",l[1]),r&2&&s!==(s="0 0 "+l[1]+" "+l[1])&&u(e,"viewBox",s)},i:h,o:h,d(l){l&&m(e)}}}function be(i,e,t){let n,{fill:o="#FF4F1E"}=e,{length:s="1.25"}=e;return i.$$set=l=>{"fill"in l&&t(0,o=l.fill),"length"in l&&t(2,s=l.length)},i.$$.update=()=>{i.$$.dirty&4&&t(1,n=ue(s))},[o,n,s]}class ge extends M{constructor(e){super(),S(this,e,be,_e,F,{fill:0,length:2})}}function H(i){let e,t,n;return t=new ge({props:{length:1.25}}),{c(){e=k("div"),J(t.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=C(e);K(t.$$.fragment,s),s.forEach(m),this.h()},h(){u(e,"class","absolute inset-0 flex justify-center items-center text-white z-10")},m(o,s){b(o,e,s),Q(t,e,null),n=!0},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&m(e),X(t)}}}function ye(i){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function Ce(i){let e,t,n,o,s;const l=[ke,ve,pe],r=[];function c(a,d){return d&65&&(e=null),e==null&&(e=!!(x(a[0])&&a[6])),e?0:a[20]&&!a[5]?1:2}return t=c(i,-1),n=r[t]=l[t](i),{c(){n.c(),o=L()},l(a){n.l(a),o=L()},m(a,d){r[t].m(a,d),b(a,o,d),s=!0},p(a,d){let g=t;t=c(a,d),t===g?r[t].p(a,d):(U(),p(r[g],1,1,()=>{r[g]=null}),W(),n=r[t],n?n.p(a,d):(n=r[t]=l[t](a),n.c()),_(n,1),n.m(o.parentNode,o))},i(a){s||(_(n),s=!0)},o(a){p(n),s=!1},d(a){a&&m(o),r[t].d(a)}}}function pe(i){let e,t,n,o,s;return{c(){e=k("img"),this.h()},l(l){e=w(l,"IMG",{src:!0,class:!0,draggable:!0,fetchpriority:!0,loading:!0}),this.h()},h(){T(e.src,t=v(i[20]&&i[5]?i[0]+"-thumbnail":i[0],i[7]))||u(e,"src",t),u(e,"class",n="select-none pointer-events-none "+(i[1]?"rounded-xl":"")+" w-full h-full "+(i[5]?"object-cover":i[1]?"object-contain":i[11]?"object-cover":"object-contain")),u(e,"draggable","false"),u(e,"fetchpriority",i[3]),u(e,"loading",i[4])},m(l,r){b(l,e,r),i[18](e),o||(s=Y(e,"load",i[19]),o=!0)},p(l,r){r&161&&!T(e.src,t=v(l[20]&&l[5]?l[0]+"-thumbnail":l[0],l[7]))&&u(e,"src",t),r&2082&&n!==(n="select-none pointer-events-none "+(l[1]?"rounded-xl":"")+" w-full h-full "+(l[5]?"object-cover":l[1]?"object-contain":l[11]?"object-cover":"object-contain"))&&u(e,"class",n),r&8&&u(e,"fetchpriority",l[3]),r&16&&u(e,"loading",l[4])},i:h,o:h,d(l){l&&m(e),i[18](null),o=!1,s()}}}function ve(i){let e,t,n,o,s;return{c(){e=k("video"),this.h()},l(l){e=w(l,"VIDEO",{class:!0,src:!0,"webkit-playsinline":!0,disableremoteplayback:!0,draggable:!0}),C(e).forEach(m),this.h()},h(){u(e,"class",t="pointer-events-auto cursor-pointer select-none "+(i[1]?"rounded-xl":"")+" w-full h-full "+(i[1]?"object-contain":"object-cover")),T(e.src,n=v(i[0]))||u(e,"src",n),e.loop=!0,e.muted=i[2],e.autoplay=!0,e.playsInline=!0,u(e,"webkit-playsinline",""),u(e,"disableremoteplayback",""),u(e,"draggable","false")},m(l,r){b(l,e,r),i[16](e),o||(s=Y(e,"pointerup",i[17]),o=!0)},p(l,r){r&2&&t!==(t="pointer-events-auto cursor-pointer select-none "+(l[1]?"rounded-xl":"")+" w-full h-full "+(l[1]?"object-contain":"object-cover"))&&u(e,"class",t),r&1&&!T(e.src,n=v(l[0]))&&u(e,"src",n),r&4&&(e.muted=l[2])},i:h,o:h,d(l){l&&m(e),i[16](null),o=!1,s()}}}function ke(i){let e,t;return e=new he({props:{src:i[0]}}),{c(){J(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,o){Q(e,n,o),t=!0},p(n,o){const s={};o&1&&(s.src=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function we(i){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function Ie(i){let e,t,n,o,s,l=i[9]&&H(),r={ctx:i,current:null,token:null,hasCatch:!1,pending:we,then:Ce,catch:ye,value:20,blocks:[,,,]};return N(n=q(v(i[0])),r),{c(){l&&l.c(),e=oe(),t=k("div"),r.block.c(),this.h()},l(c){l&&l.l(c),e=se(c),t=w(c,"DIV",{class:!0});var a=C(t);r.block.l(a),a.forEach(m),this.h()},h(){u(t,"class",o=`relative w-full h-full ${i[9]&&"bg-black/70 filter blur-sm"}`)},m(c,a){l&&l.m(c,a),b(c,e,a),b(c,t,a),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,s=!0},p(c,[a]){i=c,i[9]?l?a&512&&_(l,1):(l=H(),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(U(),p(l,1,1,()=>{l=null}),W()),r.ctx=i,a&1&&n!==(n=q(v(i[0])))&&N(n,r)||ae(r,i,a),(!s||a&512&&o!==(o=`relative w-full h-full ${i[9]&&"bg-black/70 filter blur-sm"}`))&&u(t,"class",o)},i(c){s||(_(l),_(r.block),s=!0)},o(c){p(l);for(let a=0;a<3;a+=1){const d=r.blocks[a];p(d)}s=!1},d(c){c&&(m(e),m(t)),l&&l.d(c),r.block.d(),r.token=null,r=null}}}function Pe(i){i.paused?i.play():i.pause()}function Ee(i,e,t){let n;Z(i,V,f=>t(12,n=f));let{src:o=""}=e,{post:s}=e,{isEdit:l=!1}=e,{autoplay:r=!1}=e,{muted:c=!1}=e,{fetchpriority:a="auto"}=e,{loading:d="lazy"}=e,{isThumbnail:g=!1}=e,{useThumbnailInVideo:z=!1}=e,{isRightOrderForYoutube:B=!1}=e,{imgSize:D=void 0}=e,I,A=!1,y,R=!1;function $(f){O[f?"unshift":"push"](()=>{y=f,t(8,y)})}const ee=()=>{n?G(V,n=!1,n):Pe(y)};function te(f){O[f?"unshift":"push"](()=>{I=f,t(10,I)})}const le=()=>t(11,A=me(I));return i.$$set=f=>{"src"in f&&t(0,o=f.src),"post"in f&&t(13,s=f.post),"isEdit"in f&&t(1,l=f.isEdit),"autoplay"in f&&t(14,r=f.autoplay),"muted"in f&&t(2,c=f.muted),"fetchpriority"in f&&t(3,a=f.fetchpriority),"loading"in f&&t(4,d=f.loading),"isThumbnail"in f&&t(5,g=f.isThumbnail),"useThumbnailInVideo"in f&&t(15,z=f.useThumbnailInVideo),"isRightOrderForYoutube"in f&&t(6,B=f.isRightOrderForYoutube),"imgSize"in f&&t(7,D=f.imgSize)},i.$$.update=()=>{i.$$.dirty&8192&&t(9,R=(s==null?void 0:s.permission_signer)==="reported"),i.$$.dirty&17184&&y&&!R&&!g&&(r?y.play().catch(()=>{}):y.pause())},[o,l,c,a,d,g,B,D,y,R,I,A,n,s,r,z,$,ee,te,le]}class Se extends M{constructor(e){super(),S(this,e,Ee,Ie,F,{src:0,post:13,isEdit:1,autoplay:14,muted:2,fetchpriority:3,loading:4,isThumbnail:5,useThumbnailInVideo:15,isRightOrderForYoutube:6,imgSize:7})}}export{Se as F};
