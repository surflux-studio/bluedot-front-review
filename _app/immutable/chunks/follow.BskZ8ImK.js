import{A as i,g as p,e as c}from"./sign.B6YKytVz.js";async function d({targetTable:s="users",targetIdx:r,subjectTable:t="users",subjectIdx:n}){const e=p();if(!e)throw c.emit("showSignInModal",{removable:!0}),new Error("로그인이 필요합니다.");const a=new URL(`${i}/auth/followers`);a.searchParams.append("targetTable",s),a.searchParams.append("targetIdx",r.toString()),a.searchParams.append("subjectTable",t),a.searchParams.append("subjectIdx",n.toString());const o=await fetch(a.href,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return o.ok||c.emit("pushSnackbar",{message:"팔로우에 실패했습니다."}),await o.json()}async function l({targetTable:s="users",targetIdx:r,subjectTable:t="users",subjectIdx:n}){const e=p();if(!e)throw c.emit("showSignInModal",{removable:!0}),new Error("로그인이 필요합니다.");const a=new URL(`${i}/auth/followers`);a.searchParams.append("targetTable",s),a.searchParams.append("targetIdx",String(r)),a.searchParams.append("subjectTable",t),a.searchParams.append("subjectIdx",String(n));const o=await fetch(a.href,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return o.ok||c.emit("pushSnackbar",{message:"언팔로우에 실패했습니다."}),await o.json()}async function w({targetTable:s="users",targetIdx:r}){const t=new URL(`${i}/auth/followers`);return t.searchParams.append("targetTable",s),t.searchParams.append("targetIdx",String(r)),t.searchParams.append("count","true"),(await(await fetch(t.href,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p()}`}})).json()).data.count}async function m({targetTable:s="users",targetIdx:r,subjectTable:t="users",subjectIdx:n}){const e=new URL(`${i}/auth/followers`);return e.searchParams.append("targetTable",s),e.searchParams.append("targetIdx",String(r)),e.searchParams.append("subjectTable",t),e.searchParams.append("subjectIdx",String(n)),(await(await fetch(e.href,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p()}`}})).json()).data.length>0}export{d as f,w as g,m as i,l as u};
