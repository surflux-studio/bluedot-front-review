import{g as a}from"./entry.DTeeiKTB.js";async function p(){const e="298551622119-gg1fqk381om4384l71ju7ip4857cqbh1.apps.googleusercontent.com",o="https://azit.surflux.studio/auth/oauth/google",t="email profile",n="code",s=window.location.href,r=`https://accounts.google.com/o/oauth2/v2/auth?response_type=${n}&client_id=${e}&redirect_uri=${o}&scope=${t}&state=${s}`;location.replace(r)}function c(){sessionStorage.removeItem("jwt"),sessionStorage.removeItem("refresh"),sessionStorage.removeItem("user")}function u(){return sessionStorage.getItem("jwt")}function f(e){const o=e.searchParams.get("access"),t=e.searchParams.get("refresh");o&&sessionStorage.setItem("jwt",o),t&&sessionStorage.setItem("refresh",t),e.searchParams.delete("access"),e.searchParams.delete("refresh"),(o||t)&&a(e.toString(),{replaceState:!0})}function i(){try{if(!sessionStorage.getItem("jwt"))throw new Error("jwt not found");const t=(sessionStorage.getItem("jwt")||"").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join("")),s=JSON.parse(n);if(s.exp&&Math.floor(Date.now()/1e3)>=s.exp)throw new Error("jwt expired");return BigInt(s.sub)}catch{return c(),null}}function h(){return typeof i()=="string"}export{u as a,p as b,h as c,i as g,f as h};
