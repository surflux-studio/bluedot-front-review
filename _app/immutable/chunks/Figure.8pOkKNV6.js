import{Y as B,Z as q,_ as P,$ as L,s as F,e as R,c as T,B as W,v as _,i as g,A as E,n as s,f as m,w as G,x as K,D as k,K as Z,y as z,N as I,b as J,F as Q}from"./scheduler.CCBjAsUD.js";import{g as C,a as v,f as N,t as w,S as D,i as O,c as U,b as X,m as x,d as $}from"./index.svcsDwjp.js";import{g as H,s as b}from"./s32cloudfront.CXy8iqpd.js";function y(l,e){const r=e.token={};function t(n,c,o,i){if(e.token!==r)return;e.resolved=i;let h=e.ctx;o!==void 0&&(h=h.slice(),h[o]=i);const a=n&&(e.current=n)(h);let f=!1;e.block&&(e.blocks?e.blocks.forEach((d,p)=>{p!==c&&d&&(C(),v(d,1,1,()=>{e.blocks[p]===d&&(e.blocks[p]=null)}),N())}):e.block.d(1),a.c(),w(a,1),a.m(e.mount(),e.anchor),f=!0),e.block=a,e.blocks&&(e.blocks[c]=a),f&&L()}if(B(l)){const n=q();if(l.then(c=>{P(n),t(e.then,1,e.value,c),P(null)},c=>{if(P(n),t(e.catch,2,e.error,c),P(null),!e.hasCatch)throw c}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function j(l,e,r){const t=e.slice(),{resolved:n}=l;l.current===l.then&&(t[l.value]=n),l.current===l.catch&&(t[l.error]=n),l.block.p(t,r)}function ee(l){let e,r='<div id="player" class="w-full h-full pointer-events-none select-none"></div>',t,n;return{c(){e=R("div"),e.innerHTML=r,this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-38tm3a"&&(e.innerHTML=r),this.h()},h(){_(e,"class","w-full h-full relative")},m(c,o){g(c,e,o),t||(n=E(e,"click",l[0]),t=!0)},p:s,i:s,o:s,d(c){c&&m(e),t=!1,n()}}}function te(){const l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(l,e)}function le(l,e,r){let{src:t}=e,{isAPIReady:n=!1}=e,{isPlayerReady:c=!1}=e,o;G(()=>{i()});function i(){te(),window.onYouTubeIframeAPIReady=()=>{r(1,n=!0),i()},o&&o.destroy();try{o=new window.YT.Player("player",{videoId:H(t),playerVars:{controls:0,disablekb:1,loop:1,modestbranding:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{r(2,c=!0),o.playVideo()},onError:()=>{r(2,c=!1)}}})}catch{}}K(()=>{o&&o.destroy()});function h(a){o&&(o.getPlayerState()===1?o.pauseVideo():o.playVideo())}return l.$$set=a=>{"src"in a&&r(3,t=a.src),"isAPIReady"in a&&r(1,n=a.isAPIReady),"isPlayerReady"in a&&r(2,c=a.isPlayerReady)},l.$$.update=()=>{l.$$.dirty&10&&n&&t&&i()},[h,n,c,t]}class ne extends D{constructor(e){super(),O(this,e,le,ee,F,{src:3,isAPIReady:1,isPlayerReady:2})}}async function Y(l){try{const r=(await fetch(b(l),{method:"HEAD"})).headers.get("Content-Type");return r?r.startsWith("video/"):!1}catch(e){return console.error("Error checking file type:",e),!1}}async function V(l){return new Promise(e=>{const r=new Image;r.onload=()=>{const t=r.height/r.width;e(t>=15/9)},r.src=l})}async function A(l){return new Promise(e=>{const r=document.createElement("video");r.onloadedmetadata=()=>{const t=r.videoHeight/r.videoWidth;e(t>=15/9)},r.src=l})}function re(l){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function ce(l){let e,r,t,n,c;const o=[ae,se,oe],i=[];function h(a,f){return f&17&&(e=null),e==null&&(e=!!(H(a[0])&&a[4])),e?0:a[12]?1:2}return r=h(l,-1),t=i[r]=o[r](l),{c(){t.c(),n=k()},l(a){t.l(a),n=k()},m(a,f){i[r].m(a,f),g(a,n,f),c=!0},p(a,f){let d=r;r=h(a,f),r===d?i[r].p(a,f):(C(),v(i[d],1,1,()=>{i[d]=null}),N(),t=i[r],t?t.p(a,f):(t=i[r]=o[r](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){c||(w(t),c=!0)},o(a){v(t),c=!1},d(a){a&&m(n),i[r].d(a)}}}function oe(l){let e,r,t={ctx:l,current:null,token:null,hasCatch:!1,pending:fe,then:ue,catch:ie,value:13};return y(r=V(b(l[0])),t),{c(){e=k(),t.block.c()},l(n){e=k(),t.block.l(n)},m(n,c){g(n,e,c),t.block.m(n,t.anchor=c),t.mount=()=>e.parentNode,t.anchor=e},p(n,c){l=n,t.ctx=l,c&1&&r!==(r=V(b(l[0])))&&y(r,t)||j(t,l,c)},i:s,o:s,d(n){n&&m(e),t.block.d(n),t.token=null,t=null}}}function se(l){let e,r,t={ctx:l,current:null,token:null,hasCatch:!1,pending:_e,then:he,catch:de,value:13};return y(r=A(b(l[0])),t),{c(){e=k(),t.block.c()},l(n){e=k(),t.block.l(n)},m(n,c){g(n,e,c),t.block.m(n,t.anchor=c),t.mount=()=>e.parentNode,t.anchor=e},p(n,c){l=n,t.ctx=l,c&1&&r!==(r=A(b(l[0])))&&y(r,t)||j(t,l,c)},i:s,o:s,d(n){n&&m(e),t.block.d(n),t.token=null,t=null}}}function ae(l){let e,r;return e=new ne({props:{src:l[0]}}),{c(){U(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,n){const c={};n&1&&(c.src=t[0]),e.$set(c)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){$(e,t)}}}function ie(l){return{c:s,l:s,m:s,p:s,d:s}}function ue(l){let e,r,t;return{c(){e=R("img"),this.h()},l(n){e=T(n,"IMG",{src:!0,class:!0,draggable:!0}),this.h()},h(){I(e.src,r=b(l[0]))||_(e,"src",r),_(e,"class",t="select-none pointer-events-none "+(l[1]?"rounded-xl":"")+" w-full h-full "+(l[3]||l[13]?"object-cover":"object-contain")),_(e,"draggable","false")},m(n,c){g(n,e,c)},p(n,c){c&1&&!I(e.src,r=b(n[0]))&&_(e,"src",r),c&11&&t!==(t="select-none pointer-events-none "+(n[1]?"rounded-xl":"")+" w-full h-full "+(n[3]||n[13]?"object-cover":"object-contain"))&&_(e,"class",t)},d(n){n&&m(e)}}}function fe(l){return{c:s,l:s,m:s,p:s,d:s}}function de(l){return{c:s,l:s,m:s,p:s,d:s}}function he(l){let e,r,t,n,c;return{c(){e=R("video"),this.h()},l(o){e=T(o,"VIDEO",{class:!0,src:!0,draggable:!0}),J(e).forEach(m),this.h()},h(){_(e,"class",r="pointer-events-auto cursor-pointer select-none "+(l[1]?"rounded-xl":"")+" w-full h-full "+(l[3],"object-cover")),I(e.src,t=b(l[0]))||_(e,"src",t),e.loop=!0,e.muted=l[2],e.playsInline=!0,_(e,"draggable","false")},m(o,i){g(o,e,i),l[10](e),n||(c=[E(e,"touchstart",l[9]),E(e,"touchend",l[11])],n=!0)},p(o,i){i&10&&r!==(r="pointer-events-auto cursor-pointer select-none "+(o[1]?"rounded-xl":"")+" w-full h-full "+(o[3],"object-cover"))&&_(e,"class",r),i&1&&!I(e.src,t=b(o[0]))&&_(e,"src",t),i&4&&(e.muted=o[2])},d(o){o&&m(e),l[10](null),n=!1,Q(c)}}}function _e(l){return{c:s,l:s,m:s,p:s,d:s}}function be(l){return{c:s,l:s,m:s,p:s,i:s,o:s,d:s}}function me(l){let e,r,t,n={ctx:l,current:null,token:null,hasCatch:!1,pending:be,then:ce,catch:re,value:12,blocks:[,,,]};return y(r=Y(b(l[0])),n),{c(){e=k(),n.block.c()},l(c){e=k(),n.block.l(c)},m(c,o){g(c,e,o),n.block.m(c,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(c,[o]){l=c,n.ctx=l,o&1&&r!==(r=Y(b(l[0])))&&y(r,n)||j(n,l,o)},i(c){t||(w(n.block),t=!0)},o(c){for(let o=0;o<3;o+=1){const i=n.blocks[o];v(i)}t=!1},d(c){c&&m(e),n.block.d(c),n.token=null,n=null}}}function ke(l){l.paused?l.play():l.pause()}function ge(l,e,r){let{src:t=""}=e,{isEdit:n=!1}=e,{autoplay:c=!1}=e,{muted:o=!1}=e,{fetchpriority:i=""}=e,{loading:h=""}=e,{isThumbnail:a=!1}=e,{isRightOrderForYoutube:f=!1}=e,d;function p(u){Z.call(this,l,u)}function M(u){z[u?"unshift":"push"](()=>{d=u,r(5,d)})}const S=u=>{u.changedTouches[0].identifier===0&&ke(u.target)};return l.$$set=u=>{"src"in u&&r(0,t=u.src),"isEdit"in u&&r(1,n=u.isEdit),"autoplay"in u&&r(6,c=u.autoplay),"muted"in u&&r(2,o=u.muted),"fetchpriority"in u&&r(7,i=u.fetchpriority),"loading"in u&&r(8,h=u.loading),"isThumbnail"in u&&r(3,a=u.isThumbnail),"isRightOrderForYoutube"in u&&r(4,f=u.isRightOrderForYoutube)},l.$$.update=()=>{l.$$.dirty&96&&d&&(c?d.play().catch(()=>{}):d.pause())},[t,n,o,a,f,d,c,i,h,p,M,S]}class we extends D{constructor(e){super(),O(this,e,ge,me,F,{src:0,isEdit:1,autoplay:6,muted:2,fetchpriority:7,loading:8,isThumbnail:3,isRightOrderForYoutube:4})}}export{we as F,ne as Y};
